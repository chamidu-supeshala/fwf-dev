import"./chunk-C7WJND63.js";import{b as $e,c as hi}from"./chunk-LWZW54QH.js";import"./chunk-7UZYWCAJ.js";import{a as wt}from"./chunk-E2FG7TAX.js";import{a as On}from"./chunk-JFPTNIBB.js";import{A as G,B as si,Ba as ve,C as Mn,Ca as X,D as ut,E as li,Fa as H,Ga as In,H as Ze,Ha as J,I as mt,J as Vi,K as Xe,M as pe,N as ht,Na as Pn,O as Se,P as gt,Q as ft,R as xn,T as vt,U as _t,V as yt,W as ci,X as bt,Y as ge,Z as He,aa as di,b as ri,d as Pe,f as ze,g as oi,i as Z,k as ai,na as je,oa as Ct,p as bn,pa as Sn,qa as En,ra as Ue,s as Cn,sa as pi,t as pt,ua as ui,va as Te,w as wn,wa as Ce,xa as Bi,ya as mi,z as he}from"./chunk-RGQWHR4D.js";import"./chunk-2KOZWCAT.js";import"./chunk-QUJFQN2Y.js";import"./chunk-I2KK7YIV.js";import"./chunk-P6NIGB5P.js";import"./chunk-GI3XYGZQ.js";import"./chunk-C3UJVSBG.js";import"./chunk-QR2PDQ7F.js";import"./chunk-WIPO43LU.js";import"./chunk-R4OIBTJW.js";import"./chunk-PKG65ASR.js";import"./chunk-YD3FEZYC.js";import"./chunk-X6WBCU4O.js";import"./chunk-REIQ6O6R.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-7AOM25IV.js";import"./chunk-CKP3SGE2.js";import"./chunk-6W4DL2FQ.js";import{$ as fe,$a as me,$b as k,A as rn,Aa as $,Ab as y,Ac as yn,B as Le,Bb as L,C as Wt,Cb as Ne,D as on,Db as Fe,E as an,Ea as Yt,Eb as lt,Fb as ei,G as Ai,Gb as ti,Hb as Oe,I as sn,Ib as V,J as qt,Jb as fn,K as ln,L as cn,La as mn,Nb as T,Oa as u,Ob as vn,P as dn,Pa as hn,Pb as M,Q as kt,Qb as ct,Ra as Qt,Rb as dt,Sb as ii,Ta as Kt,Tb as le,U as Rt,Ua as w,Ub as ee,V as q,Vb as te,W as pn,Wa as gn,Wb as B,X as ne,Yb as N,_a as U,_b as Lt,a as Ji,aa as ue,ab as Y,ac as ae,bc as z,c as rt,ca as at,cb as Q,cc as Fi,da as de,db as F,dc as Nt,ea as At,ec as Ft,f as Ae,fc as Vt,g as en,gb as K,h as Gt,hb as be,i as tn,jc as Ve,ka as E,kc as Bt,l as Ke,la as I,lc as ni,ma as xe,mc as Be,na as Li,nc as De,p as Me,pa as ye,pc as _n,q as ot,qc as O,r as re,rc as P,sb as Zt,sc as ce,t as nn,tb as Xt,ua as un,ub as Jt,xa as st,y as oe,ya as Ni,yb as b,z as _e,zb as f}from"./chunk-CETXBRZV.js";import"./chunk-CXSFRXOF.js";import"./chunk-I4SZW3WD.js";import"./chunk-WTEHAIX6.js";import"./chunk-NQBAPJF4.js";import"./chunk-VSDHJBUA.js";import"./chunk-4WFVMWDK.js";import"./chunk-DVAE5ABS.js";import"./chunk-M2X7KQLB.js";import"./chunk-OZYWYLNK.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-42C7ZIID.js";import{a as se,b as Re,e as Qe,f as $t}from"./chunk-FIRXXYNY.js";var Un=Qe((Ja,jn)=>{"use strict";var Tr=4,Dr=.001,kr=1e-7,Rr=10,Ht=11,yi=1/(Ht-1),Ar=typeof Float32Array=="function";function Vn(i,o){return 1-3*o+3*i}function Bn(i,o){return 3*o-6*i}function zn(i){return 3*i}function bi(i,o,e){return((Vn(o,e)*i+Bn(o,e))*i+zn(o))*i}function Hn(i,o,e){return 3*Vn(o,e)*i*i+2*Bn(o,e)*i+zn(o)}function Lr(i,o,e,t,n){var r,s,l=0;do s=o+(e-o)/2,r=bi(s,t,n)-i,r>0?e=s:o=s;while(Math.abs(r)>kr&&++l<Rr);return s}function Nr(i,o,e,t){for(var n=0;n<Tr;++n){var r=Hn(o,e,t);if(r===0)return o;var s=bi(o,e,t)-i;o-=s/r}return o}function Fr(i){return i}jn.exports=function(o,e,t,n){if(!(0<=o&&o<=1&&0<=t&&t<=1))throw new Error("bezier x values must be in [0, 1] range");if(o===e&&t===n)return Fr;for(var r=Ar?new Float32Array(Ht):new Array(Ht),s=0;s<Ht;++s)r[s]=bi(s*yi,o,t);function l(S){for(var d=0,h=1,g=Ht-1;h!==g&&r[h]<=S;++h)d+=yi;--h;var v=(S-r[h])/(r[h+1]-r[h]),_=d+v*yi,R=Hn(_,o,t);return R>=Dr?Nr(S,_,o,t):R===0?_:Lr(S,d,d+yi,o,t)}return function(d){return d===0?0:d===1?1:bi(l(d),e,n)}}});var or=Qe((sl,rr)=>{"use strict";(function(){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return o.rotl(e,8)&16711935|o.rotl(e,24)&4278255360;for(var t=0;t<e.length;t++)e[t]=o.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(Math.random()*256));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<e.length*32;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((e[n]&15).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],n=0;n<e.length;n+=3)for(var r=e[n]<<16|e[n+1]<<8|e[n+2],s=0;s<4;s++)n*8+s*6<=e.length*8?t.push(i.charAt(r>>>6*(3-s)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/ig,"");for(var t=[],n=0,r=0;n<e.length;r=++n%4)r!=0&&t.push((i.indexOf(e.charAt(n-1))&Math.pow(2,-2*r+8)-1)<<r*2|i.indexOf(e.charAt(n))>>>6-r*2);return t}};rr.exports=o})()});var Qi=Qe((ll,ar)=>{"use strict";var Yi={utf8:{stringToBytes:function(i){return Yi.bin.stringToBytes(unescape(encodeURIComponent(i)))},bytesToString:function(i){return decodeURIComponent(escape(Yi.bin.bytesToString(i)))}},bin:{stringToBytes:function(i){for(var o=[],e=0;e<i.length;e++)o.push(i.charCodeAt(e)&255);return o},bytesToString:function(i){for(var o=[],e=0;e<i.length;e++)o.push(String.fromCharCode(i[e]));return o.join("")}}};ar.exports=Yi});var cr=Qe((cl,lr)=>{"use strict";lr.exports=function(i){return i!=null&&(sr(i)||so(i)||!!i._isBuffer)};function sr(i){return!!i.constructor&&typeof i.constructor.isBuffer=="function"&&i.constructor.isBuffer(i)}function so(i){return typeof i.readFloatLE=="function"&&typeof i.slice=="function"&&sr(i.slice(0,0))}});var Ki=Qe((dl,dr)=>{"use strict";(function(){var i=or(),o=Qi().utf8,e=cr(),t=Qi().bin,n=function(r,s){r.constructor==String?s&&s.encoding==="binary"?r=t.stringToBytes(r):r=o.stringToBytes(r):e(r)?r=Array.prototype.slice.call(r,0):!Array.isArray(r)&&r.constructor!==Uint8Array&&(r=r.toString());for(var l=i.bytesToWords(r),S=r.length*8,d=1732584193,h=-271733879,g=-1732584194,v=271733878,_=0;_<l.length;_++)l[_]=(l[_]<<8|l[_]>>>24)&16711935|(l[_]<<24|l[_]>>>8)&4278255360;l[S>>>5]|=128<<S%32,l[(S+64>>>9<<4)+14]=S;for(var R=n._ff,D=n._gg,p=n._hh,a=n._ii,_=0;_<l.length;_+=16){var c=d,m=h,C=g,x=v;d=R(d,h,g,v,l[_+0],7,-680876936),v=R(v,d,h,g,l[_+1],12,-389564586),g=R(g,v,d,h,l[_+2],17,606105819),h=R(h,g,v,d,l[_+3],22,-1044525330),d=R(d,h,g,v,l[_+4],7,-176418897),v=R(v,d,h,g,l[_+5],12,1200080426),g=R(g,v,d,h,l[_+6],17,-1473231341),h=R(h,g,v,d,l[_+7],22,-45705983),d=R(d,h,g,v,l[_+8],7,1770035416),v=R(v,d,h,g,l[_+9],12,-1958414417),g=R(g,v,d,h,l[_+10],17,-42063),h=R(h,g,v,d,l[_+11],22,-1990404162),d=R(d,h,g,v,l[_+12],7,1804603682),v=R(v,d,h,g,l[_+13],12,-40341101),g=R(g,v,d,h,l[_+14],17,-1502002290),h=R(h,g,v,d,l[_+15],22,1236535329),d=D(d,h,g,v,l[_+1],5,-165796510),v=D(v,d,h,g,l[_+6],9,-1069501632),g=D(g,v,d,h,l[_+11],14,643717713),h=D(h,g,v,d,l[_+0],20,-373897302),d=D(d,h,g,v,l[_+5],5,-701558691),v=D(v,d,h,g,l[_+10],9,38016083),g=D(g,v,d,h,l[_+15],14,-660478335),h=D(h,g,v,d,l[_+4],20,-405537848),d=D(d,h,g,v,l[_+9],5,568446438),v=D(v,d,h,g,l[_+14],9,-1019803690),g=D(g,v,d,h,l[_+3],14,-187363961),h=D(h,g,v,d,l[_+8],20,1163531501),d=D(d,h,g,v,l[_+13],5,-1444681467),v=D(v,d,h,g,l[_+2],9,-51403784),g=D(g,v,d,h,l[_+7],14,1735328473),h=D(h,g,v,d,l[_+12],20,-1926607734),d=p(d,h,g,v,l[_+5],4,-378558),v=p(v,d,h,g,l[_+8],11,-2022574463),g=p(g,v,d,h,l[_+11],16,1839030562),h=p(h,g,v,d,l[_+14],23,-35309556),d=p(d,h,g,v,l[_+1],4,-1530992060),v=p(v,d,h,g,l[_+4],11,1272893353),g=p(g,v,d,h,l[_+7],16,-155497632),h=p(h,g,v,d,l[_+10],23,-1094730640),d=p(d,h,g,v,l[_+13],4,681279174),v=p(v,d,h,g,l[_+0],11,-358537222),g=p(g,v,d,h,l[_+3],16,-722521979),h=p(h,g,v,d,l[_+6],23,76029189),d=p(d,h,g,v,l[_+9],4,-640364487),v=p(v,d,h,g,l[_+12],11,-421815835),g=p(g,v,d,h,l[_+15],16,530742520),h=p(h,g,v,d,l[_+2],23,-995338651),d=a(d,h,g,v,l[_+0],6,-198630844),v=a(v,d,h,g,l[_+7],10,1126891415),g=a(g,v,d,h,l[_+14],15,-1416354905),h=a(h,g,v,d,l[_+5],21,-57434055),d=a(d,h,g,v,l[_+12],6,1700485571),v=a(v,d,h,g,l[_+3],10,-1894986606),g=a(g,v,d,h,l[_+10],15,-1051523),h=a(h,g,v,d,l[_+1],21,-2054922799),d=a(d,h,g,v,l[_+8],6,1873313359),v=a(v,d,h,g,l[_+15],10,-30611744),g=a(g,v,d,h,l[_+6],15,-1560198380),h=a(h,g,v,d,l[_+13],21,1309151649),d=a(d,h,g,v,l[_+4],6,-145523070),v=a(v,d,h,g,l[_+11],10,-1120210379),g=a(g,v,d,h,l[_+2],15,718787259),h=a(h,g,v,d,l[_+9],21,-343485551),d=d+c>>>0,h=h+m>>>0,g=g+C>>>0,v=v+x>>>0}return i.endian([d,h,g,v])};n._ff=function(r,s,l,S,d,h,g){var v=r+(s&l|~s&S)+(d>>>0)+g;return(v<<h|v>>>32-h)+s},n._gg=function(r,s,l,S,d,h,g){var v=r+(s&S|l&~S)+(d>>>0)+g;return(v<<h|v>>>32-h)+s},n._hh=function(r,s,l,S,d,h,g){var v=r+(s^l^S)+(d>>>0)+g;return(v<<h|v>>>32-h)+s},n._ii=function(r,s,l,S,d,h,g){var v=r+(l^(s|~S))+(d>>>0)+g;return(v<<h|v>>>32-h)+s},n._blocksize=16,n._digestsize=16,dr.exports=function(r,s){if(r==null)throw new Error("Illegal argument "+r);var l=i.wordsToBytes(n(r,s));return s&&s.asBytes?l:s&&s.asString?t.bytesToString(l):i.bytesToHex(l)}})()});var pr=Qe((Wc,Ei)=>{"use strict";(function(i){typeof Ei=="object"&&Ei.exports?Ei.exports=i():window.intlTelInput=i()})(function(i){"use strict";return(function(){for(var o=[["Afghanistan (\u202B\u0627\u0641\u063A\u0627\u0646\u0633\u062A\u0627\u0646\u202C\u200E)","af","93"],["Albania (Shqip\xEBri)","al","355"],["Algeria (\u202B\u0627\u0644\u062C\u0632\u0627\u0626\u0631\u202C\u200E)","dz","213"],["American Samoa","as","1",5,["684"]],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1",6,["264"]],["Antigua and Barbuda","ag","1",7,["268"]],["Argentina","ar","54"],["Armenia (\u0540\u0561\u0575\u0561\u057D\u057F\u0561\u0576)","am","374"],["Aruba","aw","297"],["Ascension Island","ac","247"],["Australia","au","61",0],["Austria (\xD6sterreich)","at","43"],["Azerbaijan (Az\u0259rbaycan)","az","994"],["Bahamas","bs","1",8,["242"]],["Bahrain (\u202B\u0627\u0644\u0628\u062D\u0631\u064A\u0646\u202C\u200E)","bh","973"],["Bangladesh (\u09AC\u09BE\u0982\u09B2\u09BE\u09A6\u09C7\u09B6)","bd","880"],["Barbados","bb","1",9,["246"]],["Belarus (\u0411\u0435\u043B\u0430\u0440\u0443\u0441\u044C)","by","375"],["Belgium (Belgi\xEB)","be","32"],["Belize","bz","501"],["Benin (B\xE9nin)","bj","229"],["Bermuda","bm","1",10,["441"]],["Bhutan (\u0F60\u0F56\u0FB2\u0F74\u0F42)","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (\u0411\u043E\u0441\u043D\u0430 \u0438 \u0425\u0435\u0440\u0446\u0435\u0433\u043E\u0432\u0438\u043D\u0430)","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1",11,["284"]],["Brunei","bn","673"],["Bulgaria (\u0411\u044A\u043B\u0433\u0430\u0440\u0438\u044F)","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia (\u1780\u1798\u17D2\u1796\u17BB\u1787\u17B6)","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1,["3","4","7"]],["Cayman Islands","ky","1",12,["345"]],["Central African Republic (R\xE9publique centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China (\u4E2D\u56FD)","cn","86"],["Christmas Island","cx","61",2,["89164"]],["Cocos (Keeling) Islands","cc","61",1,["89162"]],["Colombia","co","57"],["Comoros (\u202B\u062C\u0632\u0631 \u0627\u0644\u0642\u0645\u0631\u202C\u200E)","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["C\xF4te d\u2019Ivoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Cura\xE7ao","cw","599",0],["Cyprus (\u039A\u03CD\u03C0\u03C1\u03BF\u03C2)","cy","357"],["Czech Republic (\u010Cesk\xE1 republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1",13,["767"]],["Dominican Republic (Rep\xFAblica Dominicana)","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt (\u202B\u0645\u0635\u0631\u202C\u200E)","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Eswatini","sz","268"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (F\xF8royar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358",0],["France","fr","33"],["French Guiana (Guyane fran\xE7aise)","gf","594"],["French Polynesia (Polyn\xE9sie fran\xE7aise)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia (\u10E1\u10D0\u10E5\u10D0\u10E0\u10D7\u10D5\u10D4\u10DA\u10DD)","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece (\u0395\u03BB\u03BB\u03AC\u03B4\u03B1)","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1",14,["473"]],["Guadeloupe","gp","590",0],["Guam","gu","1",15,["671"]],["Guatemala","gt","502"],["Guernsey","gg","44",1,["1481","7781","7839","7911"]],["Guinea (Guin\xE9e)","gn","224"],["Guinea-Bissau (Guin\xE9 Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong (\u9999\u6E2F)","hk","852"],["Hungary (Magyarorsz\xE1g)","hu","36"],["Iceland (\xCDsland)","is","354"],["India (\u092D\u093E\u0930\u0924)","in","91"],["Indonesia","id","62"],["Iran (\u202B\u0627\u06CC\u0631\u0627\u0646\u202C\u200E)","ir","98"],["Iraq (\u202B\u0627\u0644\u0639\u0631\u0627\u0642\u202C\u200E)","iq","964"],["Ireland","ie","353"],["Isle of Man","im","44",2,["1624","74576","7524","7924","7624"]],["Israel (\u202B\u05D9\u05E9\u05E8\u05D0\u05DC\u202C\u200E)","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1",4,["876","658"]],["Japan (\u65E5\u672C)","jp","81"],["Jersey","je","44",3,["1534","7509","7700","7797","7829","7937"]],["Jordan (\u202B\u0627\u0644\u0623\u0631\u062F\u0646\u202C\u200E)","jo","962"],["Kazakhstan (\u041A\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043D)","kz","7",1,["33","7"]],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait (\u202B\u0627\u0644\u0643\u0648\u064A\u062A\u202C\u200E)","kw","965"],["Kyrgyzstan (\u041A\u044B\u0440\u0433\u044B\u0437\u0441\u0442\u0430\u043D)","kg","996"],["Laos (\u0EA5\u0EB2\u0EA7)","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon (\u202B\u0644\u0628\u0646\u0627\u0646\u202C\u200E)","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya (\u202B\u0644\u064A\u0628\u064A\u0627\u202C\u200E)","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau (\u6FB3\u9580)","mo","853"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania (\u202B\u0645\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u0627\u202C\u200E)","mr","222"],["Mauritius (Moris)","mu","230"],["Mayotte","yt","262",1,["269","639"]],["Mexico (M\xE9xico)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia (\u041C\u043E\u043D\u0433\u043E\u043B)","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1",16,["664"]],["Morocco (\u202B\u0627\u0644\u0645\u063A\u0631\u0628\u202C\u200E)","ma","212",0],["Mozambique (Mo\xE7ambique)","mz","258"],["Myanmar (Burma) (\u1019\u103C\u1014\u103A\u1019\u102C)","mm","95"],["Namibia (Namibi\xEB)","na","264"],["Nauru","nr","674"],["Nepal (\u0928\u0947\u092A\u093E\u0932)","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-Cal\xE9donie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (\uC870\uC120 \uBBFC\uC8FC\uC8FC\uC758 \uC778\uBBFC \uACF5\uD654\uAD6D)","kp","850"],["North Macedonia (\u0421\u0435\u0432\u0435\u0440\u043D\u0430 \u041C\u0430\u043A\u0435\u0434\u043E\u043D\u0438\u0458\u0430)","mk","389"],["Northern Mariana Islands","mp","1",17,["670"]],["Norway (Norge)","no","47",0],["Oman (\u202B\u0639\u064F\u0645\u0627\u0646\u202C\u200E)","om","968"],["Pakistan (\u202B\u067E\u0627\u06A9\u0633\u062A\u0627\u0646\u202C\u200E)","pk","92"],["Palau","pw","680"],["Palestine (\u202B\u0641\u0644\u0633\u0637\u064A\u0646\u202C\u200E)","ps","970"],["Panama (Panam\xE1)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Per\xFA)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar (\u202B\u0642\u0637\u0631\u202C\u200E)","qa","974"],["R\xE9union (La R\xE9union)","re","262",0],["Romania (Rom\xE2nia)","ro","40"],["Russia (\u0420\u043E\u0441\u0441\u0438\u044F)","ru","7",0],["Rwanda","rw","250"],["Saint Barth\xE9lemy","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1",18,["869"]],["Saint Lucia","lc","1",19,["758"]],["Saint Martin (Saint-Martin (partie fran\xE7aise))","mf","590",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1",20,["784"]],["Samoa","ws","685"],["San Marino","sm","378"],["S\xE3o Tom\xE9 and Pr\xEDncipe (S\xE3o Tom\xE9 e Pr\xEDncipe)","st","239"],["Saudi Arabia (\u202B\u0627\u0644\u0645\u0645\u0644\u0643\u0629 \u0627\u0644\u0639\u0631\u0628\u064A\u0629 \u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0629\u202C\u200E)","sa","966"],["Senegal (S\xE9n\xE9gal)","sn","221"],["Serbia (\u0421\u0440\u0431\u0438\u0458\u0430)","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1",21,["721"]],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea (\uB300\uD55C\uBBFC\uAD6D)","kr","82"],["South Sudan (\u202B\u062C\u0646\u0648\u0628 \u0627\u0644\u0633\u0648\u062F\u0627\u0646\u202C\u200E)","ss","211"],["Spain (Espa\xF1a)","es","34"],["Sri Lanka (\u0DC1\u0DCA\u200D\u0DBB\u0DD3 \u0DBD\u0D82\u0D9A\u0DCF\u0DC0)","lk","94"],["Sudan (\u202B\u0627\u0644\u0633\u0648\u062F\u0627\u0646\u202C\u200E)","sd","249"],["Suriname","sr","597"],["Svalbard and Jan Mayen","sj","47",1,["79"]],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria (\u202B\u0633\u0648\u0631\u064A\u0627\u202C\u200E)","sy","963"],["Taiwan (\u53F0\u7063)","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand (\u0E44\u0E17\u0E22)","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1",22,["868"]],["Tunisia (\u202B\u062A\u0648\u0646\u0633\u202C\u200E)","tn","216"],["Turkey (T\xFCrkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1",23,["649"]],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1",24,["340"]],["Uganda","ug","256"],["Ukraine (\u0423\u043A\u0440\u0430\u0457\u043D\u0430)","ua","380"],["United Arab Emirates (\u202B\u0627\u0644\u0625\u0645\u0627\u0631\u0627\u062A \u0627\u0644\u0639\u0631\u0628\u064A\u0629 \u0627\u0644\u0645\u062A\u062D\u062F\u0629\u202C\u200E)","ae","971"],["United Kingdom","gb","44",0],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (O\u02BBzbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Citt\xE0 del Vaticano)","va","39",1,["06698"]],["Venezuela","ve","58"],["Vietnam (Vi\u1EC7t Nam)","vn","84"],["Wallis and Futuna (Wallis-et-Futuna)","wf","681"],["Western Sahara (\u202B\u0627\u0644\u0635\u062D\u0631\u0627\u0621 \u0627\u0644\u063A\u0631\u0628\u064A\u0629\u202C\u200E)","eh","212",1,["5288","5289"]],["Yemen (\u202B\u0627\u0644\u064A\u0645\u0646\u202C\u200E)","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"],["\xC5land Islands","ax","358",1,["18"]]],e=0;e<o.length;e++){var t=o[e];o[e]={name:t[0],iso2:t[1],dialCode:t[2],priority:t[3]||0,areaCodes:t[4]||null}}function n(D,p){if(!(D instanceof p))throw new TypeError("Cannot call a class as a function")}function r(D,p){for(var a=0;a<p.length;a++){var c=p[a];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(D,c.key,c)}}function s(D,p,a){return p&&r(D.prototype,p),a&&r(D,a),D}var l={getInstance:function(p){var a=p.getAttribute("data-intl-tel-input-id");return window.intlTelInputGlobals.instances[a]},instances:{},documentReady:function(){return document.readyState==="complete"}};typeof window=="object"&&(window.intlTelInputGlobals=l);var S=0,d={allowDropdown:!0,autoHideDialCode:!0,autoPlaceholder:"polite",customContainer:"",customPlaceholder:null,dropdownContainer:null,excludeCountries:[],formatOnDisplay:!0,geoIpLookup:null,hiddenInput:"",initialCountry:"",localizedCountries:null,nationalMode:!0,onlyCountries:[],placeholderNumberType:"MOBILE",preferredCountries:["us","gb"],separateDialCode:!1,utilsScript:""},h=["800","822","833","844","855","866","877","880","881","882","883","884","885","886","887","888","889"],g=function(p,a){for(var c=Object.keys(p),m=0;m<c.length;m++)a(c[m],p[c[m]])},v=function(p){g(window.intlTelInputGlobals.instances,function(a){window.intlTelInputGlobals.instances[a][p]()})},_=(function(){function D(p,a){var c=this;n(this,D),this.id=S++,this.telInput=p,this.activeItem=null,this.highlightedItem=null;var m=a||{};this.options={},g(d,function(C,x){c.options[C]=m.hasOwnProperty(C)?m[C]:x}),this.hadInitialPlaceholder=!!p.getAttribute("placeholder")}return s(D,[{key:"_init",value:function(){var a=this;if(this.options.nationalMode&&(this.options.autoHideDialCode=!1),this.options.separateDialCode&&(this.options.autoHideDialCode=this.options.nationalMode=!1),this.isMobile=/Android.+Mobile|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.isMobile&&(document.body.classList.add("iti-mobile"),this.options.dropdownContainer||(this.options.dropdownContainer=document.body)),typeof Promise<"u"){var c=new Promise(function(C,x){a.resolveAutoCountryPromise=C,a.rejectAutoCountryPromise=x}),m=new Promise(function(C,x){a.resolveUtilsScriptPromise=C,a.rejectUtilsScriptPromise=x});this.promise=Promise.all([c,m])}else this.resolveAutoCountryPromise=this.rejectAutoCountryPromise=function(){},this.resolveUtilsScriptPromise=this.rejectUtilsScriptPromise=function(){};this.selectedCountryData={},this._processCountryData(),this._generateMarkup(),this._setInitialState(),this._initListeners(),this._initRequests()}},{key:"_processCountryData",value:function(){this._processAllCountries(),this._processCountryCodes(),this._processPreferredCountries(),this.options.localizedCountries&&this._translateCountriesByLocale(),(this.options.onlyCountries.length||this.options.localizedCountries)&&this.countries.sort(this._countryNameSort)}},{key:"_addCountryCode",value:function(a,c,m){c.length>this.countryCodeMaxLen&&(this.countryCodeMaxLen=c.length),this.countryCodes.hasOwnProperty(c)||(this.countryCodes[c]=[]);for(var C=0;C<this.countryCodes[c].length;C++)if(this.countryCodes[c][C]===a)return;var x=m!==i?m:this.countryCodes[c].length;this.countryCodes[c][x]=a}},{key:"_processAllCountries",value:function(){if(this.options.onlyCountries.length){var a=this.options.onlyCountries.map(function(m){return m.toLowerCase()});this.countries=o.filter(function(m){return a.indexOf(m.iso2)>-1})}else if(this.options.excludeCountries.length){var c=this.options.excludeCountries.map(function(m){return m.toLowerCase()});this.countries=o.filter(function(m){return c.indexOf(m.iso2)===-1})}else this.countries=o}},{key:"_translateCountriesByLocale",value:function(){for(var a=0;a<this.countries.length;a++){var c=this.countries[a].iso2.toLowerCase();this.options.localizedCountries.hasOwnProperty(c)&&(this.countries[a].name=this.options.localizedCountries[c])}}},{key:"_countryNameSort",value:function(a,c){return a.name.localeCompare(c.name)}},{key:"_processCountryCodes",value:function(){this.countryCodeMaxLen=0,this.dialCodes={},this.countryCodes={};for(var a=0;a<this.countries.length;a++){var c=this.countries[a];this.dialCodes[c.dialCode]||(this.dialCodes[c.dialCode]=!0),this._addCountryCode(c.iso2,c.dialCode,c.priority)}for(var m=0;m<this.countries.length;m++){var C=this.countries[m];if(C.areaCodes)for(var x=this.countryCodes[C.dialCode][0],A=0;A<C.areaCodes.length;A++){for(var j=C.areaCodes[A],ie=1;ie<j.length;ie++){var Ie=C.dialCode+j.substr(0,ie);this._addCountryCode(x,Ie),this._addCountryCode(C.iso2,Ie)}this._addCountryCode(C.iso2,C.dialCode+j)}}}},{key:"_processPreferredCountries",value:function(){this.preferredCountries=[];for(var a=0;a<this.options.preferredCountries.length;a++){var c=this.options.preferredCountries[a].toLowerCase(),m=this._getCountryData(c,!1,!0);m&&this.preferredCountries.push(m)}}},{key:"_createEl",value:function(a,c,m){var C=document.createElement(a);return c&&g(c,function(x,A){return C.setAttribute(x,A)}),m&&m.appendChild(C),C}},{key:"_generateMarkup",value:function(){!this.telInput.hasAttribute("autocomplete")&&!(this.telInput.form&&this.telInput.form.hasAttribute("autocomplete"))&&this.telInput.setAttribute("autocomplete","off");var a="iti";this.options.allowDropdown&&(a+=" iti--allow-dropdown"),this.options.separateDialCode&&(a+=" iti--separate-dial-code"),this.options.customContainer&&(a+=" ",a+=this.options.customContainer);var c=this._createEl("div",{class:a});if(this.telInput.parentNode.insertBefore(c,this.telInput),this.flagsContainer=this._createEl("div",{class:"iti__flag-container"},c),c.appendChild(this.telInput),this.selectedFlag=this._createEl("div",{class:"iti__selected-flag",role:"combobox","aria-controls":"iti-".concat(this.id,"__country-listbox"),"aria-owns":"iti-".concat(this.id,"__country-listbox"),"aria-expanded":"false"},this.flagsContainer),this.selectedFlagInner=this._createEl("div",{class:"iti__flag"},this.selectedFlag),this.options.separateDialCode&&(this.selectedDialCode=this._createEl("div",{class:"iti__selected-dial-code"},this.selectedFlag)),this.options.allowDropdown&&(this.selectedFlag.setAttribute("tabindex","0"),this.dropdownArrow=this._createEl("div",{class:"iti__arrow"},this.selectedFlag),this.countryList=this._createEl("ul",{class:"iti__country-list iti__hide",id:"iti-".concat(this.id,"__country-listbox"),role:"listbox","aria-label":"List of countries"}),this.preferredCountries.length&&(this._appendListItems(this.preferredCountries,"iti__preferred",!0),this._createEl("li",{class:"iti__divider",role:"separator","aria-disabled":"true"},this.countryList)),this._appendListItems(this.countries,"iti__standard"),this.options.dropdownContainer?(this.dropdown=this._createEl("div",{class:"iti iti--container"}),this.dropdown.appendChild(this.countryList)):this.flagsContainer.appendChild(this.countryList)),this.options.hiddenInput){var m=this.options.hiddenInput,C=this.telInput.getAttribute("name");if(C){var x=C.lastIndexOf("[");x!==-1&&(m="".concat(C.substr(0,x),"[").concat(m,"]"))}this.hiddenInput=this._createEl("input",{type:"hidden",name:m}),c.appendChild(this.hiddenInput)}}},{key:"_appendListItems",value:function(a,c,m){for(var C="",x=0;x<a.length;x++){var A=a[x],j=m?"-preferred":"";C+="<li class='iti__country ".concat(c,"' tabIndex='-1' id='iti-").concat(this.id,"__item-").concat(A.iso2).concat(j,"' role='option' data-dial-code='").concat(A.dialCode,"' data-country-code='").concat(A.iso2,"' aria-selected='false'>"),C+="<div class='iti__flag-box'><div class='iti__flag iti__".concat(A.iso2,"'></div></div>"),C+="<span class='iti__country-name'>".concat(A.name,"</span>"),C+="<span class='iti__dial-code'>+".concat(A.dialCode,"</span>"),C+="</li>"}this.countryList.insertAdjacentHTML("beforeend",C)}},{key:"_setInitialState",value:function(){var a=this.telInput.getAttribute("value"),c=this.telInput.value,m=a&&a.charAt(0)==="+"&&(!c||c.charAt(0)!=="+"),C=m?a:c,x=this._getDialCode(C),A=this._isRegionlessNanp(C),j=this.options,ie=j.initialCountry,Ie=j.nationalMode,Dt=j.autoHideDialCode,we=j.separateDialCode;x&&!A?this._updateFlagFromNumber(C):ie!=="auto"&&(ie?this._setFlag(ie.toLowerCase()):x&&A?this._setFlag("us"):(this.defaultCountry=this.preferredCountries.length?this.preferredCountries[0].iso2:this.countries[0].iso2,C||this._setFlag(this.defaultCountry)),!C&&!Ie&&!Dt&&!we&&(this.telInput.value="+".concat(this.selectedCountryData.dialCode))),C&&this._updateValFromNumber(C)}},{key:"_initListeners",value:function(){this._initKeyListeners(),this.options.autoHideDialCode&&this._initBlurListeners(),this.options.allowDropdown&&this._initDropdownListeners(),this.hiddenInput&&this._initHiddenInputListener()}},{key:"_initHiddenInputListener",value:function(){var a=this;this._handleHiddenInputSubmit=function(){a.hiddenInput.value=a.getNumber()},this.telInput.form&&this.telInput.form.addEventListener("submit",this._handleHiddenInputSubmit)}},{key:"_getClosestLabel",value:function(){for(var a=this.telInput;a&&a.tagName!=="LABEL";)a=a.parentNode;return a}},{key:"_initDropdownListeners",value:function(){var a=this;this._handleLabelClick=function(m){a.countryList.classList.contains("iti__hide")?a.telInput.focus():m.preventDefault()};var c=this._getClosestLabel();c&&c.addEventListener("click",this._handleLabelClick),this._handleClickSelectedFlag=function(){a.countryList.classList.contains("iti__hide")&&!a.telInput.disabled&&!a.telInput.readOnly&&a._showDropdown()},this.selectedFlag.addEventListener("click",this._handleClickSelectedFlag),this._handleFlagsContainerKeydown=function(m){var C=a.countryList.classList.contains("iti__hide");C&&["ArrowUp","Up","ArrowDown","Down"," ","Enter"].indexOf(m.key)!==-1&&(m.preventDefault(),m.stopPropagation(),a._showDropdown()),m.key==="Tab"&&a._closeDropdown()},this.flagsContainer.addEventListener("keydown",this._handleFlagsContainerKeydown)}},{key:"_initRequests",value:function(){var a=this;this.options.utilsScript&&!window.intlTelInputUtils?window.intlTelInputGlobals.documentReady()?window.intlTelInputGlobals.loadUtils(this.options.utilsScript):window.addEventListener("load",function(){window.intlTelInputGlobals.loadUtils(a.options.utilsScript)}):this.resolveUtilsScriptPromise(),this.options.initialCountry==="auto"?this._loadAutoCountry():this.resolveAutoCountryPromise()}},{key:"_loadAutoCountry",value:function(){window.intlTelInputGlobals.autoCountry?this.handleAutoCountry():window.intlTelInputGlobals.startedLoadingAutoCountry||(window.intlTelInputGlobals.startedLoadingAutoCountry=!0,typeof this.options.geoIpLookup=="function"&&this.options.geoIpLookup(function(a){window.intlTelInputGlobals.autoCountry=a.toLowerCase(),setTimeout(function(){return v("handleAutoCountry")})},function(){return v("rejectAutoCountryPromise")}))}},{key:"_initKeyListeners",value:function(){var a=this;this._handleKeyupEvent=function(){a._updateFlagFromNumber(a.telInput.value)&&a._triggerCountryChange()},this.telInput.addEventListener("keyup",this._handleKeyupEvent),this._handleClipboardEvent=function(){setTimeout(a._handleKeyupEvent)},this.telInput.addEventListener("cut",this._handleClipboardEvent),this.telInput.addEventListener("paste",this._handleClipboardEvent)}},{key:"_cap",value:function(a){var c=this.telInput.getAttribute("maxlength");return c&&a.length>c?a.substr(0,c):a}},{key:"_initBlurListeners",value:function(){var a=this;this._handleSubmitOrBlurEvent=function(){a._removeEmptyDialCode()},this.telInput.form&&this.telInput.form.addEventListener("submit",this._handleSubmitOrBlurEvent),this.telInput.addEventListener("blur",this._handleSubmitOrBlurEvent)}},{key:"_removeEmptyDialCode",value:function(){if(this.telInput.value.charAt(0)==="+"){var a=this._getNumeric(this.telInput.value);(!a||this.selectedCountryData.dialCode===a)&&(this.telInput.value="")}}},{key:"_getNumeric",value:function(a){return a.replace(/\D/g,"")}},{key:"_trigger",value:function(a){var c=document.createEvent("Event");c.initEvent(a,!0,!0),this.telInput.dispatchEvent(c)}},{key:"_showDropdown",value:function(){this.countryList.classList.remove("iti__hide"),this.selectedFlag.setAttribute("aria-expanded","true"),this._setDropdownPosition(),this.activeItem&&(this._highlightListItem(this.activeItem,!1),this._scrollTo(this.activeItem,!0)),this._bindDropdownListeners(),this.dropdownArrow.classList.add("iti__arrow--up"),this._trigger("open:countrydropdown")}},{key:"_toggleClass",value:function(a,c,m){m&&!a.classList.contains(c)?a.classList.add(c):!m&&a.classList.contains(c)&&a.classList.remove(c)}},{key:"_setDropdownPosition",value:function(){var a=this;if(this.options.dropdownContainer&&this.options.dropdownContainer.appendChild(this.dropdown),!this.isMobile){var c=this.telInput.getBoundingClientRect(),m=window.pageYOffset||document.documentElement.scrollTop,C=c.top+m,x=this.countryList.offsetHeight,A=C+this.telInput.offsetHeight+x<m+window.innerHeight,j=C-x>m;if(this._toggleClass(this.countryList,"iti__country-list--dropup",!A&&j),this.options.dropdownContainer){var ie=!A&&j?0:this.telInput.offsetHeight;this.dropdown.style.top="".concat(C+ie,"px"),this.dropdown.style.left="".concat(c.left+document.body.scrollLeft,"px"),this._handleWindowScroll=function(){return a._closeDropdown()},window.addEventListener("scroll",this._handleWindowScroll)}}}},{key:"_getClosestListItem",value:function(a){for(var c=a;c&&c!==this.countryList&&!c.classList.contains("iti__country");)c=c.parentNode;return c===this.countryList?null:c}},{key:"_bindDropdownListeners",value:function(){var a=this;this._handleMouseoverCountryList=function(x){var A=a._getClosestListItem(x.target);A&&a._highlightListItem(A,!1)},this.countryList.addEventListener("mouseover",this._handleMouseoverCountryList),this._handleClickCountryList=function(x){var A=a._getClosestListItem(x.target);A&&a._selectListItem(A)},this.countryList.addEventListener("click",this._handleClickCountryList);var c=!0;this._handleClickOffToClose=function(){c||a._closeDropdown(),c=!1},document.documentElement.addEventListener("click",this._handleClickOffToClose);var m="",C=null;this._handleKeydownOnDropdown=function(x){x.preventDefault(),x.key==="ArrowUp"||x.key==="Up"||x.key==="ArrowDown"||x.key==="Down"?a._handleUpDownKey(x.key):x.key==="Enter"?a._handleEnterKey():x.key==="Escape"?a._closeDropdown():/^[a-zA-ZÀ-ÿа-яА-Я ]$/.test(x.key)&&(C&&clearTimeout(C),m+=x.key.toLowerCase(),a._searchForCountry(m),C=setTimeout(function(){m=""},1e3))},document.addEventListener("keydown",this._handleKeydownOnDropdown)}},{key:"_handleUpDownKey",value:function(a){var c=a==="ArrowUp"||a==="Up"?this.highlightedItem.previousElementSibling:this.highlightedItem.nextElementSibling;c&&(c.classList.contains("iti__divider")&&(c=a==="ArrowUp"||a==="Up"?c.previousElementSibling:c.nextElementSibling),this._highlightListItem(c,!0))}},{key:"_handleEnterKey",value:function(){this.highlightedItem&&this._selectListItem(this.highlightedItem)}},{key:"_searchForCountry",value:function(a){for(var c=0;c<this.countries.length;c++)if(this._startsWith(this.countries[c].name,a)){var m=this.countryList.querySelector("#iti-".concat(this.id,"__item-").concat(this.countries[c].iso2));this._highlightListItem(m,!1),this._scrollTo(m,!0);break}}},{key:"_startsWith",value:function(a,c){return a.substr(0,c.length).toLowerCase()===c}},{key:"_updateValFromNumber",value:function(a){var c=a;if(this.options.formatOnDisplay&&window.intlTelInputUtils&&this.selectedCountryData){var m=!this.options.separateDialCode&&(this.options.nationalMode||c.charAt(0)!=="+"),C=intlTelInputUtils.numberFormat,x=C.NATIONAL,A=C.INTERNATIONAL,j=m?x:A;c=intlTelInputUtils.formatNumber(c,this.selectedCountryData.iso2,j)}c=this._beforeSetNumber(c),this.telInput.value=c}},{key:"_updateFlagFromNumber",value:function(a){var c=a,m=this.selectedCountryData.dialCode,C=m==="1";c&&this.options.nationalMode&&C&&c.charAt(0)!=="+"&&(c.charAt(0)!=="1"&&(c="1".concat(c)),c="+".concat(c)),this.options.separateDialCode&&m&&c.charAt(0)!=="+"&&(c="+".concat(m).concat(c));var x=this._getDialCode(c,!0),A=this._getNumeric(c),j=null;if(x){var ie=this.countryCodes[this._getNumeric(x)],Ie=ie.indexOf(this.selectedCountryData.iso2)!==-1&&A.length<=x.length-1,Dt=m==="1"&&this._isRegionlessNanp(A);if(!Dt&&!Ie){for(var we=0;we<ie.length;we++)if(ie[we]){j=ie[we];break}}}else c.charAt(0)==="+"&&A.length?j="":(!c||c==="+")&&(j=this.defaultCountry);return j!==null?this._setFlag(j):!1}},{key:"_isRegionlessNanp",value:function(a){var c=this._getNumeric(a);if(c.charAt(0)==="1"){var m=c.substr(1,3);return h.indexOf(m)!==-1}return!1}},{key:"_highlightListItem",value:function(a,c){var m=this.highlightedItem;m&&m.classList.remove("iti__highlight"),this.highlightedItem=a,this.highlightedItem.classList.add("iti__highlight"),c&&this.highlightedItem.focus()}},{key:"_getCountryData",value:function(a,c,m){for(var C=c?o:this.countries,x=0;x<C.length;x++)if(C[x].iso2===a)return C[x];if(m)return null;throw new Error("No country data for '".concat(a,"'"))}},{key:"_setFlag",value:function(a){var c=this.selectedCountryData.iso2?this.selectedCountryData:{};this.selectedCountryData=a?this._getCountryData(a,!1,!1):{},this.selectedCountryData.iso2&&(this.defaultCountry=this.selectedCountryData.iso2),this.selectedFlagInner.setAttribute("class","iti__flag iti__".concat(a));var m=a?"".concat(this.selectedCountryData.name,": +").concat(this.selectedCountryData.dialCode):"Unknown";if(this.selectedFlag.setAttribute("title",m),this.options.separateDialCode){var C=this.selectedCountryData.dialCode?"+".concat(this.selectedCountryData.dialCode):"";this.selectedDialCode.innerHTML=C;var x=this.selectedFlag.offsetWidth||this._getHiddenSelectedFlagWidth();this.telInput.style.paddingLeft="".concat(x+6,"px")}if(this._updatePlaceholder(),this.options.allowDropdown){var A=this.activeItem;if(A&&(A.classList.remove("iti__active"),A.setAttribute("aria-selected","false")),a){var j=this.countryList.querySelector("#iti-".concat(this.id,"__item-").concat(a,"-preferred"))||this.countryList.querySelector("#iti-".concat(this.id,"__item-").concat(a));j.setAttribute("aria-selected","true"),j.classList.add("iti__active"),this.activeItem=j,this.selectedFlag.setAttribute("aria-activedescendant",j.getAttribute("id"))}}return c.iso2!==a}},{key:"_getHiddenSelectedFlagWidth",value:function(){var a=this.telInput.parentNode.cloneNode();a.style.visibility="hidden",document.body.appendChild(a);var c=this.flagsContainer.cloneNode();a.appendChild(c);var m=this.selectedFlag.cloneNode(!0);c.appendChild(m);var C=m.offsetWidth;return a.parentNode.removeChild(a),C}},{key:"_updatePlaceholder",value:function(){var a=this.options.autoPlaceholder==="aggressive"||!this.hadInitialPlaceholder&&this.options.autoPlaceholder==="polite";if(window.intlTelInputUtils&&a){var c=intlTelInputUtils.numberType[this.options.placeholderNumberType],m=this.selectedCountryData.iso2?intlTelInputUtils.getExampleNumber(this.selectedCountryData.iso2,this.options.nationalMode,c):"";m=this._beforeSetNumber(m),typeof this.options.customPlaceholder=="function"&&(m=this.options.customPlaceholder(m,this.selectedCountryData)),this.telInput.setAttribute("placeholder",m)}}},{key:"_selectListItem",value:function(a){var c=this._setFlag(a.getAttribute("data-country-code"));this._closeDropdown(),this._updateDialCode(a.getAttribute("data-dial-code"),!0),this.telInput.focus();var m=this.telInput.value.length;this.telInput.setSelectionRange(m,m),c&&this._triggerCountryChange()}},{key:"_closeDropdown",value:function(){this.countryList.classList.add("iti__hide"),this.selectedFlag.setAttribute("aria-expanded","false"),this.dropdownArrow.classList.remove("iti__arrow--up"),document.removeEventListener("keydown",this._handleKeydownOnDropdown),document.documentElement.removeEventListener("click",this._handleClickOffToClose),this.countryList.removeEventListener("mouseover",this._handleMouseoverCountryList),this.countryList.removeEventListener("click",this._handleClickCountryList),this.options.dropdownContainer&&(this.isMobile||window.removeEventListener("scroll",this._handleWindowScroll),this.dropdown.parentNode&&this.dropdown.parentNode.removeChild(this.dropdown)),this._trigger("close:countrydropdown")}},{key:"_scrollTo",value:function(a,c){var m=this.countryList,C=window.pageYOffset||document.documentElement.scrollTop,x=m.offsetHeight,A=m.getBoundingClientRect().top+C,j=A+x,ie=a.offsetHeight,Ie=a.getBoundingClientRect().top+C,Dt=Ie+ie,we=Ie-A+m.scrollTop,Xi=x/2-ie/2;if(Ie<A)c&&(we-=Xi),m.scrollTop=we;else if(Dt>j){c&&(we+=Xi);var wr=x-ie;m.scrollTop=we-wr}}},{key:"_updateDialCode",value:function(a,c){var m=this.telInput.value,C="+".concat(a),x;if(m.charAt(0)==="+"){var A=this._getDialCode(m);A?x=m.replace(A,C):x=C}else{if(this.options.nationalMode||this.options.separateDialCode)return;if(m)x=C+m;else if(c||!this.options.autoHideDialCode)x=C;else return}this.telInput.value=x}},{key:"_getDialCode",value:function(a,c){var m="";if(a.charAt(0)==="+")for(var C="",x=0;x<a.length;x++){var A=a.charAt(x);if(!isNaN(parseInt(A,10))){if(C+=A,c)this.countryCodes[C]&&(m=a.substr(0,x+1));else if(this.dialCodes[C]){m=a.substr(0,x+1);break}if(C.length===this.countryCodeMaxLen)break}}return m}},{key:"_getFullNumber",value:function(){var a=this.telInput.value.trim(),c=this.selectedCountryData.dialCode,m,C=this._getNumeric(a);return this.options.separateDialCode&&a.charAt(0)!=="+"&&c&&C?m="+".concat(c):m="",m+a}},{key:"_beforeSetNumber",value:function(a){var c=a;if(this.options.separateDialCode){var m=this._getDialCode(c);if(m){m="+".concat(this.selectedCountryData.dialCode);var C=c[m.length]===" "||c[m.length]==="-"?m.length+1:m.length;c=c.substr(C)}}return this._cap(c)}},{key:"_triggerCountryChange",value:function(){this._trigger("countrychange")}},{key:"handleAutoCountry",value:function(){this.options.initialCountry==="auto"&&(this.defaultCountry=window.intlTelInputGlobals.autoCountry,this.telInput.value||this.setCountry(this.defaultCountry),this.resolveAutoCountryPromise())}},{key:"handleUtils",value:function(){window.intlTelInputUtils&&(this.telInput.value&&this._updateValFromNumber(this.telInput.value),this._updatePlaceholder()),this.resolveUtilsScriptPromise()}},{key:"destroy",value:function(){var a=this.telInput.form;if(this.options.allowDropdown){this._closeDropdown(),this.selectedFlag.removeEventListener("click",this._handleClickSelectedFlag),this.flagsContainer.removeEventListener("keydown",this._handleFlagsContainerKeydown);var c=this._getClosestLabel();c&&c.removeEventListener("click",this._handleLabelClick)}this.hiddenInput&&a&&a.removeEventListener("submit",this._handleHiddenInputSubmit),this.options.autoHideDialCode&&(a&&a.removeEventListener("submit",this._handleSubmitOrBlurEvent),this.telInput.removeEventListener("blur",this._handleSubmitOrBlurEvent)),this.telInput.removeEventListener("keyup",this._handleKeyupEvent),this.telInput.removeEventListener("cut",this._handleClipboardEvent),this.telInput.removeEventListener("paste",this._handleClipboardEvent),this.telInput.removeAttribute("data-intl-tel-input-id");var m=this.telInput.parentNode;m.parentNode.insertBefore(this.telInput,m),m.parentNode.removeChild(m),delete window.intlTelInputGlobals.instances[this.id]}},{key:"getExtension",value:function(){return window.intlTelInputUtils?intlTelInputUtils.getExtension(this._getFullNumber(),this.selectedCountryData.iso2):""}},{key:"getNumber",value:function(a){if(window.intlTelInputUtils){var c=this.selectedCountryData.iso2;return intlTelInputUtils.formatNumber(this._getFullNumber(),c,a)}return""}},{key:"getNumberType",value:function(){return window.intlTelInputUtils?intlTelInputUtils.getNumberType(this._getFullNumber(),this.selectedCountryData.iso2):-99}},{key:"getSelectedCountryData",value:function(){return this.selectedCountryData}},{key:"getValidationError",value:function(){if(window.intlTelInputUtils){var a=this.selectedCountryData.iso2;return intlTelInputUtils.getValidationError(this._getFullNumber(),a)}return-99}},{key:"isValidNumber",value:function(){var a=this._getFullNumber().trim(),c=this.options.nationalMode?this.selectedCountryData.iso2:"";return window.intlTelInputUtils?intlTelInputUtils.isValidNumber(a,c):null}},{key:"setCountry",value:function(a){var c=a.toLowerCase();this.selectedFlagInner.classList.contains("iti__".concat(c))||(this._setFlag(c),this._updateDialCode(this.selectedCountryData.dialCode,!1),this._triggerCountryChange())}},{key:"setNumber",value:function(a){var c=this._updateFlagFromNumber(a);this._updateValFromNumber(a),c&&this._triggerCountryChange()}},{key:"setPlaceholderNumberType",value:function(a){this.options.placeholderNumberType=a,this._updatePlaceholder()}}]),D})();l.getCountryData=function(){return o};var R=function(p,a,c){var m=document.createElement("script");m.onload=function(){v("handleUtils"),a&&a()},m.onerror=function(){v("rejectUtilsScriptPromise"),c&&c()},m.className="iti-load-utils",m.async=!0,m.src=p,document.body.appendChild(m)};return l.loadUtils=function(D){if(!window.intlTelInputUtils&&!window.intlTelInputGlobals.startedLoadingUtilsScript){if(window.intlTelInputGlobals.startedLoadingUtilsScript=!0,typeof Promise<"u")return new Promise(function(p,a){return R(D,p,a)});R(D)}return null},l.defaults=d,l.version="17.0.21",function(D,p){var a=new _(D,p);return a._init(),D.setAttribute("data-intl-tel-input-id",a.id),window.intlTelInputGlobals.instances[a.id]=a,a}})()})});var mr=Qe((qc,ur)=>{"use strict";ur.exports=pr()});var gi=(i,o)=>{let e=i.shadowRoot;if(!e)return;let t=o.create().addElement(e.querySelector("ion-backdrop")).fromTo("opacity","0.01","var(--backdrop-opacity)"),n=o.create().addElement(e.querySelector(".modal-wrapper")).keyframes([{offset:0,opacity:"0",transform:"scale(0)"},{offset:1,opacity:"0.99",transform:"scale(1)"}]);return o.create().addElement(i).easing("ease").duration(250).addAnimation([t,n])};var Ia=ve("slideLeftFromRightTopCorner",[J(":enter",[H({transform:"translateX(-100%) translateY(-50%)",opacity:0}),X("200ms ease-out",H({transform:"translateX(0%) translateY(0%)",opacity:1}))]),J(":leave",[X("200ms ease-out",H({transform:"translateX(-100%) translateY(-50%)",opacity:0}))])]),Oa=ve("slideRightFromLeftTopCorner",[J(":enter",[H({transform:"translateX(100%) translateY(-50%)",opacity:0}),X("200ms ease-out",H({transform:"translateX(0%) translateY(0%)",opacity:1}))]),J(":leave",[X("200ms ease-out",H({transform:"translateX(100%) translateY(-50%)",opacity:0}))])]),Pa=ve("fadeInOut",[J(":enter",[H({opacity:0}),X("{{inDuration}} {{inDelay}}",H({opacity:"{{opacity}}"}))],{params:{opacity:1,inDuration:"500ms"}}),J(":leave",[X("{{outDuration}}",H({opacity:0}))],{params:{outDuration:"500ms",inDelay:"0ms"}})]),Tn=ve("slideLeftRight",[J(":enter",[H({transform:"translateX(-100%)",opacity:0}),X("200ms ease-out",H({transform:"translateX(0%)",opacity:1}))])]),Dn=ve("slideRightLeft",[J(":enter",[H({transform:"translateX(100%)",opacity:0}),X("200ms ease-out",H({transform:"translateX(0%)",opacity:1}))])]),Ta=ve("slideInOutY",[J(":enter",[H({transform:"translateY(-100%)",opacity:0,scale:.8}),X("200ms ease-out",H({transform:"translateX(0%)",opacity:1,scale:1}))]),J(":leave",[X("200ms ease-out",H({transform:"translateY(-100%)",opacity:0,scale:.8}))])]),Da=ve("slideOutInY",[J(":enter",[H({transform:"translateY(100%)",opacity:0,scale:.8}),X("200ms ease-out",H({transform:"translateX(0%)",opacity:1,scale:1}))]),J(":leave",[X("200ms ease-out",H({transform:"translateY(100%)",opacity:0,scale:.8}))])]),Mt=ve("upHide",[J(":enter",[H({transform:"translate(-50%, -28px)",opacity:0}),X("260ms 260ms cubic-bezier(.0, .0, .2, 1)",In([H({transform:"translate(-50%, -28px)",opacity:0,offset:0}),H({opacity:.8,offset:.5}),H({transform:"translate(-50%, -50%)",opacity:1,offset:1})]))]),J(":leave",[X("260ms 0ms cubic-bezier(.4, .0, 1, 1)",H({transform:"translate(-50%, 10px)",opacity:0,offset:1}))])]),ka=ve("slideOnPaginate",[J(":enter",[H({transform:"translateX({{direction}}100%)"}),X("200ms ease-out",H({transform:"translateX(0%)"}))],{params:{direction:"+"}})]),Ra=ve("slideInOut",[J(":enter",[H({transform:"translateY(-60px)",opacity:0}),X("200ms ease-out",H({transform:"translateY(0)",opacity:1}))]),J(":leave",[X("200ms ease-out",H({transform:"translateY(-60px)",opacity:0}))])]);var Mr=0,xt={},xr=(function(i){return function(e){let t={};return t._onLoad=function(n){return r=>{let s=xt[n];s?s.promise.then(()=>{s.error?r(s.error):r(null,s)}):console.warn("No script cached")}},t._scriptTag=(n,r)=>{if(!xt[n]){let s=document.createElement("script"),S={loaded:!1,error:!1,promise:new Promise((d,h)=>{let g=!1,v=!1,_=document.getElementsByTagName("body")[0];s.type="text/javascript",s.async=!0,s.defer=!0;let R=`loaderCB${Mr++}${Date.now()}`,D,p=c=>m=>{let C=xt[n];c==="loaded"?(C.resolved=!0,d(r)):c==="error"&&(C.errored=!0,h(m)),a()},a=()=>{i[R]&&typeof i[R]=="function"&&(i[R]=null)};return s.onload=p("loaded"),s.onerror=p("error"),s.onreadystatechange=()=>{p(s.readyState)},r.match(/callback=CALLBACK_NAME/)?(r=r.replace(/(callback=)[^\&]+/,`$1${R}`),D=i[R]=s.onload):s.addEventListener("load",s.onload),s.addEventListener("error",s.onerror),s.src=r,_.appendChild(s),s}),tag:s};xt[n]=S}return xt[n]},Object.keys(e).forEach(function(n){let r=e[n];t[n]={tag:t._scriptTag(n,r),onLoad:t._onLoad(n)}}),t.onLoad=function(n){let r=[];Object.keys(e).forEach(function(s){let l=xt[s];l&&r.push(l.promise)}),Promise.all(r).then(()=>{n&&n()})},t}})(typeof window<"u"?window:{}),kn=xr;var Sr=new at("cdk-dir-doc",{providedIn:"root",factory:Er});function Er(){return At(ye)}var Ir=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Rn(i){let o=i?.toLowerCase()||"";return o==="auto"&&typeof navigator<"u"&&navigator?.language?Ir.test(navigator.language)?"rtl":"ltr":o==="rtl"?"rtl":"ltr"}var fi=(()=>{class i{get value(){return this.valueSignal()}valueSignal=un("ltr");change=new K;constructor(){let e=At(Sr,{optional:!0});if(e){let t=e.body?e.body.dir:null,n=e.documentElement?e.documentElement.dir:null;this.valueSignal.set(Rn(t||n||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(t){return new(t||i)};static \u0275prov=fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var An=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=me({type:i});static \u0275inj=ue({})}return i})();var Ln=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=me({type:i});static \u0275inj=ue({})}return i})();var zi;try{zi=typeof Intl<"u"&&Intl.v8BreakIterator}catch{zi=!1}var Je=(()=>{class i{_platformId=At(Yt);isBrowser=this._platformId?ai(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||zi)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(t){return new(t||i)};static \u0275prov=fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var St=(function(i){return i[i.NORMAL=0]="NORMAL",i[i.NEGATED=1]="NEGATED",i[i.INVERTED=2]="INVERTED",i})(St||{}),vi;function zt(){if(typeof document!="object"||!document)return St.NORMAL;if(vi==null){let i=document.createElement("div"),o=i.style;i.dir="rtl",o.width="1px",o.overflow="auto",o.visibility="hidden",o.pointerEvents="none",o.position="absolute";let e=document.createElement("div"),t=e.style;t.width="2px",t.height="1px",i.appendChild(e),document.body.appendChild(i),vi=St.NORMAL,i.scrollLeft===0&&(i.scrollLeft=1,vi=i.scrollLeft===0?St.NEGATED:St.INVERTED),i.remove()}return vi}var Nn=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=me({type:i});static \u0275inj=ue({})}return i})();function _i(i,o=0){return Fn(i)?Number(i):arguments.length===2?o:0}function Fn(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function Hi(i){return i instanceof $?i.nativeElement:i}function Ge(i){return i!=null&&`${i}`!="false"}var $n=$t(Un(),1);var Vr=new at("SMOOTH_SCROLL_OPTIONS"),Gn=(()=>{class i{constructor(e,t,n){this._document=e,this._platform=t,this._onGoingScrolls=new Map,this._defaultOptions=se({duration:468,easing:{x1:.42,y1:0,x2:.58,y2:1}},n)}get _w(){return this._document.defaultView}get _now(){return this._w.performance&&this._w.performance.now?this._w.performance.now.bind(this._w.performance):Date.now}_scrollElement(e,t,n){e.scrollLeft=t,e.scrollTop=n}_getElement(e,t){return typeof e=="string"?(t||this._document).querySelector(e):Hi(e)}_initSmoothScroll(e){return this._onGoingScrolls.has(e)&&this._onGoingScrolls.get(e).next(),this._onGoingScrolls.set(e,new Ae).get(e)}_isFinished(e,t,n){return e.currentX!==e.x||e.currentY!==e.y?!0:(t.next(),n(),!1)}_interrupted(e,t){return Le(oe(e,"wheel",{passive:!0,capture:!0}),oe(e,"touchmove",{passive:!0,capture:!0}),t).pipe(sn(1))}_destroy(e,t){t.complete(),this._onGoingScrolls.delete(e)}_step(e){return new rt(t=>{let n=(this._now()-e.startTime)/e.duration;n=n>1?1:n;let r=e.easing(n);e.currentX=e.startX+(e.x-e.startX)*r,e.currentY=e.startY+(e.y-e.startY)*r,this._scrollElement(e.scrollable,e.currentX,e.currentY),Gt.schedule(()=>t.next(e))})}_applyScrollToOptions(e,t){if(!t.duration)return this._scrollElement(e,t.left,t.top),Promise.resolve();let n=this._initSmoothScroll(e),r={scrollable:e,startTime:this._now(),startX:e.scrollLeft,startY:e.scrollTop,x:t.left==null?e.scrollLeft:~~t.left,y:t.top==null?e.scrollTop:~~t.top,duration:t.duration,easing:(0,$n.default)(t.easing.x1,t.easing.y1,t.easing.x2,t.easing.y2)};return new Promise(s=>{Ke(null).pipe(ln(()=>this._step(r).pipe(pn(l=>this._isFinished(l,n,s)))),q(this._interrupted(e,n)),cn(()=>this._destroy(e,n))).subscribe()})}scrollTo(e,t){if(ai(this._platform)){let n=this._getElement(e),r=getComputedStyle(n).direction==="rtl",s=zt(),l=Re(se(se({},this._defaultOptions),t),{left:t.left==null?r?t.end:t.start:t.left,right:t.right==null?r?t.start:t.end:t.right});return l.bottom!=null&&(l.top=n.scrollHeight-n.clientHeight-l.bottom),r&&s!==0?(l.left!=null&&(l.right=n.scrollWidth-n.clientWidth-l.left),s===2?l.left=l.right:s===1&&(l.left=l.right?-l.right:l.right)):l.right!=null&&(l.left=n.scrollWidth-n.clientWidth-l.right),this._applyScrollToOptions(n,l)}return Promise.resolve()}scrollToElement(e,t,n={}){let r=this._getElement(e),s=this._getElement(t,r),l=Re(se({},n),{left:s.offsetLeft+(n.left||0),top:s.offsetTop+(n.top||0)});return s?this.scrollTo(r,l):Promise.resolve()}}return i.\u0275fac=function(e){return new(e||i)(de(ye),de(Yt),de(Vr,8))},i.\u0275prov=fe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Wn=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=me({type:i}),i.\u0275inj=ue({}),i})();var zr=["scrollbarY"],Hr=["scrollbarX"],jr=["*"];function Ur(i,o){if(i&1&&L(0,"scrollbar-x",null,0),i&2){let e=M(2);Zt("scrollable",e.state.isHorizontallyScrollable)("fit",e.state.verticalUsed)}}function $r(i,o){if(i&1&&L(0,"scrollbar-y",null,1),i&2){let e=M(2);Zt("scrollable",e.state.isVerticallyScrollable)("fit",e.state.horizontalUsed)}}function Gr(i,o){if(i&1&&(ei(0),F(1,Ur,2,2,"scrollbar-x",5)(2,$r,2,2,"scrollbar-y",5),ti()),i&2){let e=M();u(),b("ngIf",e.state.horizontalUsed),u(),b("ngIf",e.state.verticalUsed)}}function Kn(i){return ne(()=>{i.onselectstart=()=>!1})}function Zn(i){return ne(()=>{i.onselectstart=null})}function We(){return ne(i=>i.stopPropagation())}function ji(i,o){return i.clientX>=o.left&&i.clientX<=o.left+o.width&&i.clientY>=o.top&&i.clientY<=o.top+o.height}var Ui=(()=>{class i{constructor(e){this.viewPort=e,this.nativeElement=e.nativeElement}get clientHeight(){return this.nativeElement.clientHeight}get clientWidth(){return this.nativeElement.clientWidth}get scrollHeight(){return this.nativeElement.scrollHeight}get scrollWidth(){return this.nativeElement.scrollWidth}get scrollTop(){return this.nativeElement.scrollTop}get scrollLeft(){return this.nativeElement.scrollLeft}get scrollMaxX(){return this.scrollWidth-this.clientWidth}get scrollMaxY(){return this.scrollHeight-this.clientHeight}get contentHeight(){return this.contentWrapperElement?.clientHeight||0}get contentWidth(){return this.contentWrapperElement?.clientWidth||0}activatePointerEvents(e,t){this.hovered=new rt(n=>{let r=oe(this.nativeElement,"mousemove",{passive:!0}),s=e?r:r.pipe(We()),l=oe(this.nativeElement,"mouseleave",{passive:!0}).pipe(re(()=>!1));Le(s,l).pipe(ne(S=>n.next(S)),q(t)).subscribe()}),this.clicked=new rt(n=>{let r=oe(this.nativeElement,"mousedown",{passive:!0}).pipe(ne(l=>n.next(l))),s=oe(this.nativeElement,"mouseup",{passive:!0}).pipe(ne(()=>n.next(!1)));r.pipe(Rt(()=>s),q(t)).subscribe()})}setAsWrapper(){this.nativeElement.className="ng-native-scrollbar-hider ng-scroll-layer",this.nativeElement.firstElementChild&&(this.nativeElement.firstElementChild.className="ng-scroll-layer")}setAsViewport(e){this.nativeElement.className=`ng-native-scrollbar-hider ng-scroll-viewport ${e}`,this.nativeElement.firstElementChild&&(this.contentWrapperElement=this.nativeElement.firstElementChild,this.contentWrapperElement.classList.add("ng-scroll-content"))}scrollYTo(e){this.nativeElement.scrollTop=e}scrollXTo(e){this.nativeElement.scrollLeft=e}}return i.\u0275fac=function(e){return new(e||i)(w($))},i.\u0275dir=Y({type:i,selectors:[["","scrollViewport",""]],standalone:!1}),i})(),Ee=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=Y({type:i,standalone:!1}),i})(),Xn=new at("NG_SCROLLBAR_OPTIONS"),qn={viewClass:"",trackClass:"",thumbClass:"",track:"vertical",appearance:"compact",visibility:"native",position:"native",pointerEventsMethod:"viewport",trackClickScrollDuration:300,minThumbSize:20,windowResizeDebounce:0,sensorDebounce:0,scrollAuditTime:0,viewportPropagateMouseMove:!0,autoHeightDisabled:!0,autoWidthDisabled:!0,sensorDisabled:!1,pointerEventsDisabled:!1},Jn=(()=>{class i{constructor(e){this.globalOptions=e?se(se({},qn),e):qn,this.rtlScrollAxisType=zt()}}return i.\u0275fac=function(e){return new(e||i)(de(Xn,8))},i.\u0275prov=fe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Wr=(()=>{class i{constructor(e,t,n){this.document=e,this.manager=t,this.platform=n,this._scrollbarSize=new en(this.getNativeScrollbarSize()),this.scrollbarSize=this._scrollbarSize.asObservable(),n.isBrowser&&oe(this.document.defaultView,"resize",{passive:!0}).pipe(Ai(this.manager.globalOptions.windowResizeDebounce),re(()=>this.getNativeScrollbarSize()),qt(),ne(r=>this._scrollbarSize.next(r))).subscribe()}getNativeScrollbarSize(){if(!this.platform.isBrowser)return 0;if(this.platform.IOS)return 6;let e=this.document.createElement("div");e.className="ng-scrollbar-measure",e.style.left="0px",e.style.overflow="scroll",e.style.position="fixed",e.style.top="-9999px",this.document.body.appendChild(e);let t=e.getBoundingClientRect().right;return this.document.body.removeChild(e),t}}return i.\u0275fac=function(e){return new(e||i)(de(ye),de(Jn),de(Je))},i.\u0275prov=fe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),qr=(()=>{class i{constructor(e,t,n){this.renderer=t,this.hideNativeScrollbar=n,this._subscriber=Ji.EMPTY,this._subscriber=n.scrollbarSize.subscribe(r=>{this.renderer.setStyle(e.nativeElement,"--native-scrollbar-size",`-${r}px`,hn.DashCase)})}ngOnDestroy(){this._subscriber.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(w($),w(Kt),w(Wr))},i.\u0275dir=Y({type:i,selectors:[["","hideNativeScrollbar",""]],standalone:!1}),i})(),Yr=(()=>{class i{constructor(e){this.el=e}set ngAttr(e){for(let[t,n]of Object.entries(e))this.el.nativeElement.setAttribute(t,n)}}return i.\u0275fac=function(e){return new(e||i)(w($))},i.\u0275dir=Y({type:i,selectors:[["","ngAttr",""]],inputs:{ngAttr:"ngAttr"},standalone:!1}),i})(),Qr=(()=>{class i{constructor(e,t,n){if(this.zone=e,this.platform=t,this.scrollbar=n,this._disabled=!1,this._currentSubscription=null,this.event=new K,!n)throw new Error("[NgScrollbar Resize Sensor Directive]: Host element must be an NgScrollbar component.")}get debounce(){return this._debounce}set debounce(e){this._debounce=_i(e),this._subscribe()}get disabled(){return this._disabled}set disabled(e){this._disabled=Ge(e),this._disabled?this._unsubscribe():this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this._disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){if(this._unsubscribe(),this.platform.isBrowser){let e=new rt(t=>{this._resizeObserver=new ResizeObserver(n=>t.next(n)),this._resizeObserver.observe(this.scrollbar.viewport.nativeElement),this.scrollbar.viewport.contentWrapperElement&&this._resizeObserver.observe(this.scrollbar.viewport.contentWrapperElement)});this.zone.runOutsideAngular(()=>{this._currentSubscription=(this._debounce?e.pipe(Ai(this._debounce)):e).subscribe(this.event)})}}_unsubscribe(){this._resizeObserver?.disconnect(),this._currentSubscription?.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(w(be),w(Je),w(Ee))},i.\u0275dir=Y({type:i,selectors:[["","resizeSensor",""]],inputs:{debounce:[0,"sensorDebounce","debounce"],disabled:[0,"sensorDisabled","disabled"]},outputs:{event:"resizeSensor"},standalone:!1}),i})(),Wi=(()=>{class i{constructor(e,t,n){this.cmp=e,this.trackElement=t,this.document=n}get clicked(){let e=oe(this.trackElement,"mousedown",{passive:!0}).pipe(We(),Kn(this.document)),t=oe(this.document,"mouseup",{passive:!0}).pipe(We(),Zn(this.document),Rt(()=>tn));return Le(e,t)}get clientRect(){return this.trackElement.getBoundingClientRect()}onTrackClicked(e,t,n){return Ke(e).pipe(kt(this.pageProperty),re(r=>(r-this.offset-t/2)/this.size*n),ne(r=>{this.cmp.scrollTo(Re(se({},this.mapToScrollToOption(r)),{duration:_i(this.cmp.trackClickScrollDuration)}))}))}}return i.\u0275fac=function(e){return new(e||i)(w(Ee),w(HTMLElement),w(Document))},i.\u0275dir=Y({type:i,standalone:!1}),i})(),$i=(()=>{class i extends Wi{constructor(e,t,n){super(e,t.nativeElement,n),this.cmp=e,this.document=n}get pageProperty(){return"pageX"}get offset(){return this.clientRect.left}get size(){return this.trackElement.clientWidth}mapToScrollToOption(e){return{left:e}}}return i.\u0275fac=function(e){return new(e||i)(w(Ee),w($),w(ye))},i.\u0275dir=Y({type:i,selectors:[["","scrollbarTrackX",""]],standalone:!1,features:[Q]}),i})(),Gi=(()=>{class i extends Wi{constructor(e,t,n){super(e,t.nativeElement,n),this.cmp=e,this.document=n}get pageProperty(){return"pageY"}get offset(){return this.clientRect.top}get size(){return this.trackElement.clientHeight}mapToScrollToOption(e){return{top:e}}}return i.\u0275fac=function(e){return new(e||i)(w(Ee),w($),w(ye))},i.\u0275dir=Y({type:i,selectors:[["","scrollbarTrackY",""]],standalone:!1,features:[Q]}),i})(),er=(()=>{class i{constructor(e,t,n,r){this.cmp=e,this.track=t,this.thumbElement=n,this.document=r,this._dragging=new Ae,this.dragging=this._dragging.pipe(qt())}get trackMax(){return this.track.size-this.size}get clientRect(){return this.thumbElement.getBoundingClientRect()}get clicked(){return oe(this.thumbElement,"mousedown",{passive:!0}).pipe(We())}update(){let e=Kr(this.track.size,this.viewportScrollSize,this.cmp.minThumbSize),t=Zr(this.viewportScrollOffset,this.viewportScrollMax,this.trackMax);Gt.schedule(()=>this.updateStyles(this.handleDirection(t,this.trackMax),e))}dragged(e){let t,n,r=Ke(e).pipe(Kn(this.document),ne(()=>{t=this.trackMax,n=this.viewportScrollMax,this.setDragging(!0)})),s=oe(this.document,"mousemove",{capture:!0,passive:!0}).pipe(We()),l=oe(this.document,"mouseup",{capture:!0}).pipe(We(),Zn(this.document),ne(()=>this.setDragging(!1)));return r.pipe(kt(this.pageProperty),re(S=>S-this.dragStartOffset),nn(S=>s.pipe(kt(this.clientProperty),re(d=>d-this.track.offset),re(d=>n*(d-S)/t),re(d=>this.handleDrag(d,n)),ne(d=>this.scrollTo(d)),q(l))))}}return i.\u0275fac=function(e){return new(e||i)(w(Ee),w(Wi),w(HTMLElement),w(Document))},i.\u0275dir=Y({type:i,outputs:{dragging:"dragging"},standalone:!1}),i})();function Kr(i,o,e){let n=i/o*i;return Math.max(~~n,e)}function Zr(i,o,e){return i*e/o}var Yn=(()=>{class i extends er{constructor(e,t,n,r,s){super(e,t,n.nativeElement,r),this.cmp=e,this.track=t,this.element=n,this.document=r,this.dir=s}get clientProperty(){return"clientX"}get pageProperty(){return"pageX"}get viewportScrollSize(){return this.cmp.viewport.scrollWidth}get viewportScrollOffset(){return this.cmp.viewport.scrollLeft}get viewportScrollMax(){return this.cmp.viewport.scrollMaxX}get dragStartOffset(){return this.clientRect.left+this.document.defaultView.pageXOffset||0}get size(){return this.thumbElement.clientWidth}updateStyles(e,t){this.thumbElement.style.width=`${t}px`,this.thumbElement.style.transform=`translate3d(${e}px, 0, 0)`}handleDrag(e,t){if(this.dir.value==="rtl"){if(this.cmp.manager.rtlScrollAxisType===1)return e-t;if(this.cmp.manager.rtlScrollAxisType===2)return t-e}return e}handleDirection(e,t){if(this.dir.value==="rtl"){if(this.cmp.manager.rtlScrollAxisType===2)return-e;if(this.cmp.manager.rtlScrollAxisType===0)return e-t}return e}setDragging(e){this.cmp.setDragging({horizontalDragging:e})}scrollTo(e){this.cmp.viewport.scrollXTo(e)}}return i.\u0275fac=function(e){return new(e||i)(w(Ee),w($i),w($),w(ye),w(fi))},i.\u0275dir=Y({type:i,selectors:[["","scrollbarThumbX",""]],standalone:!1,features:[Q]}),i})(),Qn=(()=>{class i extends er{constructor(e,t,n,r){super(e,t,n.nativeElement,r),this.cmp=e,this.track=t,this.element=n,this.document=r}get pageProperty(){return"pageY"}get viewportScrollSize(){return this.cmp.viewport.scrollHeight}get viewportScrollOffset(){return this.cmp.viewport.scrollTop}get viewportScrollMax(){return this.cmp.viewport.scrollMaxY}get clientProperty(){return"clientY"}get dragStartOffset(){return this.clientRect.top+this.document.defaultView.pageYOffset||0}get size(){return this.thumbElement.clientHeight}updateStyles(e,t){this.thumbElement.style.height=`${t}px`,this.thumbElement.style.transform=`translate3d(0px, ${e}px, 0)`}handleDrag(e){return e}handleDirection(e){return e}setDragging(e){this.cmp.setDragging({verticalDragging:e})}scrollTo(e){this.cmp.viewport.scrollYTo(e)}}return i.\u0275fac=function(e){return new(e||i)(w(Ee),w(Gi),w($),w(ye))},i.\u0275dir=Y({type:i,selectors:[["","scrollbarThumbY",""]],standalone:!1,features:[Q]}),i})(),tr=(()=>{class i{constructor(e,t,n,r,s){this.el=e,this.cmp=t,this.platform=n,this.document=r,this.zone=s,this.destroyed=new Ae}activatePointerEvents(){let e,t,n;return this.cmp.pointerEventsMethod==="viewport"?(this.viewportTrackClicked=new Ae,this.viewportThumbClicked=new Ae,this.cmp.viewport.activatePointerEvents(this.cmp.viewportPropagateMouseMove,this.destroyed),e=this.viewportThumbClicked,t=this.viewportTrackClicked,n=this.cmp.viewport.hovered.pipe(re(r=>r?ji(r,this.el.getBoundingClientRect()):!1),qt(),ne(r=>this.document.onselectstart=r?()=>!1:null)),this.cmp.viewport.clicked.pipe(ne(r=>{r?ji(r,this.thumb.clientRect)?this.viewportThumbClicked.next(r):ji(r,this.track.clientRect)&&(this.cmp.setClicked(!0),this.viewportTrackClicked.next(r)):this.cmp.setClicked(!1)}),q(this.destroyed)).subscribe()):(e=this.thumb.clicked,t=this.track.clicked,n=this.hovered),Le(n.pipe(ne(r=>this.setHovered(r))),e.pipe(Rt(r=>this.thumb.dragged(r))),t.pipe(Rt(r=>this.track.onTrackClicked(r,this.thumb.size,this.viewportScrollSize))))}get hovered(){let e=oe(this.el,"mouseenter",{passive:!0}).pipe(We(),re(()=>!0)),t=oe(this.el,"mouseleave",{passive:!0}).pipe(We(),re(()=>!1));return Le(e,t)}ngOnInit(){this.zone.runOutsideAngular(()=>{!(this.platform.IOS||this.platform.ANDROID)&&!this.cmp.pointerEventsDisabled&&this.activatePointerEvents().pipe(q(this.destroyed)).subscribe(),Le(this.cmp.scrolled,this.cmp.updated).pipe(ne(()=>this.thumb?.update()),q(this.destroyed)).subscribe()})}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete(),this.viewportThumbClicked&&this.viewportTrackClicked&&(this.viewportTrackClicked.complete(),this.viewportThumbClicked.complete())}}return i.\u0275fac=function(e){return new(e||i)(w(HTMLElement),w(Ee),w(Je),w(Document),w(be))},i.\u0275dir=Y({type:i,standalone:!1}),i})(),Xr=(()=>{class i extends tr{constructor(e,t,n,r,s){super(e.nativeElement,t,n,r,s),this.cmp=t,this.platform=n,this.document=r,this.zone=s}get viewportScrollSize(){return this.cmp.viewport.scrollHeight}setHovered(e){this.cmp.setHovered({verticalHovered:e})}}return i.\u0275fac=function(e){return new(e||i)(w($),w(Ee),w(Je),w(ye),w(be))},i.\u0275cmp=U({type:i,selectors:[["scrollbar-y"]],viewQuery:function(e,t){if(e&1&&(le(Gi,7),le(Qn,7)),e&2){let n;ee(n=te())&&(t.track=n.first),ee(n=te())&&(t.thumb=n.first)}},hostVars:2,hostBindings:function(e,t){e&2&&N("scrollbar-control",!0)},standalone:!1,features:[Q],decls:2,vars:6,consts:[["scrollbarTrackY",""],["scrollbarThumbY",""]],template:function(e,t){e&1&&(f(0,"div",0),L(1,"div",1),y()),e&2&&(Lt(Bt("ng-scrollbar-track ",t.cmp.trackClass)),u(),Lt(Bt("ng-scrollbar-thumb ",t.cmp.thumbClass)))},dependencies:[Qn,Gi],styles:[".ng-scrollbar-wrapper>scrollbar-y.scrollbar-control{width:var(--vertical-scrollbar-total-size)}  .ng-scrollbar-wrapper>scrollbar-y.scrollbar-control>.ng-scrollbar-track{width:var(--vertical-scrollbar-size);height:calc(100% - var(--scrollbar-padding) * 2)}  .ng-scrollbar-wrapper>scrollbar-y.scrollbar-control>.ng-scrollbar-track>.ng-scrollbar-thumb{height:0;width:100%}  .ng-scrollbar-wrapper[verticalHovered=true]>scrollbar-y.scrollbar-control .ng-scrollbar-thumb,   .ng-scrollbar-wrapper[verticalDragging=true]>scrollbar-y.scrollbar-control .ng-scrollbar-thumb{background-color:var(--scrollbar-thumb-hover-color)}  .ng-scrollbar-wrapper[deactivated=false]>scrollbar-y.scrollbar-control{top:0;bottom:0}  .ng-scrollbar-wrapper[deactivated=false][dir=ltr]>scrollbar-y.scrollbar-control{right:0;left:auto;left:initial}  .ng-scrollbar-wrapper[deactivated=false][dir=ltr][position=invertY]>scrollbar-y.scrollbar-control,   .ng-scrollbar-wrapper[deactivated=false][dir=ltr][position=invertAll]>scrollbar-y.scrollbar-control{left:0;right:auto;right:initial}  .ng-scrollbar-wrapper[deactivated=false][dir=rtl]>scrollbar-y.scrollbar-control{left:0;right:auto;right:initial}  .ng-scrollbar-wrapper[deactivated=false][dir=rtl][position=invertY]>scrollbar-y.scrollbar-control,   .ng-scrollbar-wrapper[deactivated=false][dir=rtl][position=invertAll]>scrollbar-y.scrollbar-control{left:auto;left:initial;right:0}  .ng-scrollbar-wrapper[deactivated=false][track=all]>scrollbar-y.scrollbar-control[fit=true]{bottom:var(--scrollbar-total-size);top:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][position=invertX]>scrollbar-y.scrollbar-control[fit=true],   .ng-scrollbar-wrapper[deactivated=false][track=all][position=invertAll]>scrollbar-y.scrollbar-control[fit=true]{top:var(--scrollbar-total-size);bottom:0}"],changeDetection:0}),i})(),Jr=(()=>{class i extends tr{constructor(e,t,n,r,s){super(e.nativeElement,t,n,r,s),this.cmp=t,this.platform=n,this.document=r,this.zone=s}get viewportScrollSize(){return this.cmp.viewport.scrollWidth}setHovered(e){this.cmp.setHovered({horizontalHovered:e})}}return i.\u0275fac=function(e){return new(e||i)(w($),w(Ee),w(Je),w(ye),w(be))},i.\u0275cmp=U({type:i,selectors:[["scrollbar-x"]],viewQuery:function(e,t){if(e&1&&(le($i,7),le(Yn,7)),e&2){let n;ee(n=te())&&(t.track=n.first),ee(n=te())&&(t.thumb=n.first)}},hostVars:2,hostBindings:function(e,t){e&2&&N("scrollbar-control",!0)},standalone:!1,features:[Q],decls:2,vars:6,consts:[["scrollbarTrackX",""],["scrollbarThumbX",""]],template:function(e,t){e&1&&(f(0,"div",0),L(1,"div",1),y()),e&2&&(Lt(Bt("ng-scrollbar-track ",t.cmp.trackClass)),u(),Lt(Bt("ng-scrollbar-thumb ",t.cmp.thumbClass)))},dependencies:[Yn,$i],styles:[".ng-scrollbar-wrapper>scrollbar-x.scrollbar-control{height:var(--horizontal-scrollbar-total-size)}  .ng-scrollbar-wrapper>scrollbar-x.scrollbar-control>.ng-scrollbar-track{height:var(--horizontal-scrollbar-size);width:calc(100% - var(--scrollbar-padding) * 2)}  .ng-scrollbar-wrapper>scrollbar-x.scrollbar-control>.ng-scrollbar-track>.ng-scrollbar-thumb{width:0;height:100%}  .ng-scrollbar-wrapper[horizontalHovered=true]>scrollbar-x.scrollbar-control .ng-scrollbar-thumb,   .ng-scrollbar-wrapper[horizontalDragging=true]>scrollbar-x.scrollbar-control .ng-scrollbar-thumb{background-color:var(--scrollbar-thumb-hover-color)}  .ng-scrollbar-wrapper[position=invertX]>scrollbar-x.scrollbar-control,   .ng-scrollbar-wrapper[position=invertAll]>scrollbar-x.scrollbar-control{top:0;bottom:auto;bottom:initial}  .ng-scrollbar-wrapper[deactivated=false]>scrollbar-x.scrollbar-control{left:0;right:0;bottom:0;top:auto;top:initial}  .ng-scrollbar-wrapper[deactivated=false][position=invertX]>scrollbar-x.scrollbar-control,   .ng-scrollbar-wrapper[deactivated=false][position=invertAll]>scrollbar-x.scrollbar-control{top:0;bottom:auto;bottom:initial}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr]>scrollbar-x.scrollbar-control[fit=true]{right:var(--scrollbar-total-size);left:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr][position=invertY]>scrollbar-x.scrollbar-control[fit=true],   .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr][position=invertAll]>scrollbar-x.scrollbar-control[fit=true]{left:var(--scrollbar-total-size);right:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl]>scrollbar-x.scrollbar-control[fit=true]{left:var(--scrollbar-total-size);right:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl][position=invertY]>scrollbar-x.scrollbar-control[fit=true],   .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl][position=invertAll]>scrollbar-x.scrollbar-control[fit=true]{right:var(--scrollbar-total-size);left:0}"],changeDetection:0}),i})(),Ci=(()=>{class i{constructor(e,t,n,r,s,l){this.el=e,this.zone=t,this.changeDetectorRef=n,this.dir=r,this.smoothScroll=s,this.manager=l,this._disabled=!1,this._sensorDisabled=this.manager.globalOptions.sensorDisabled,this._pointerEventsDisabled=this.manager.globalOptions.pointerEventsDisabled,this._autoHeightDisabled=this.manager.globalOptions.autoHeightDisabled,this._autoWidthDisabled=this.manager.globalOptions.autoWidthDisabled,this._viewportPropagateMouseMove=this.manager.globalOptions.viewportPropagateMouseMove,this.viewClass=this.manager.globalOptions.viewClass,this.trackClass=this.manager.globalOptions.trackClass,this.thumbClass=this.manager.globalOptions.thumbClass,this.minThumbSize=this.manager.globalOptions.minThumbSize,this.trackClickScrollDuration=this.manager.globalOptions.trackClickScrollDuration,this.pointerEventsMethod=this.manager.globalOptions.pointerEventsMethod,this.track=this.manager.globalOptions.track,this.visibility=this.manager.globalOptions.visibility,this.appearance=this.manager.globalOptions.appearance,this.position=this.manager.globalOptions.position,this.sensorDebounce=this.manager.globalOptions.sensorDebounce,this.scrollAuditTime=this.manager.globalOptions.scrollAuditTime,this.updated=new K,this.state={},this.destroyed=new Ae}get disabled(){return this._disabled}set disabled(e){this._disabled=Ge(e)}get sensorDisabled(){return this._sensorDisabled}set sensorDisabled(e){this._sensorDisabled=Ge(e)}get pointerEventsDisabled(){return this._pointerEventsDisabled}set pointerEventsDisabled(e){this._pointerEventsDisabled=Ge(e)}get viewportPropagateMouseMove(){return this._viewportPropagateMouseMove}set viewportPropagateMouseMove(e){this._viewportPropagateMouseMove=Ge(e)}get autoHeightDisabled(){return this._autoHeightDisabled}set autoHeightDisabled(e){this._autoHeightDisabled=Ge(e)}get autoWidthDisabled(){return this._autoWidthDisabled}set autoWidthDisabled(e){this._autoWidthDisabled=Ge(e)}get nativeElement(){return this.el.nativeElement}updateState(){let e=!1,t=!1,n=!1,r=!1;(this.track==="all"||this.track==="vertical")&&(n=this.viewport.scrollHeight>this.viewport.clientHeight,e=this.visibility==="always"||n),(this.track==="all"||this.track==="horizontal")&&(r=this.viewport.scrollWidth>this.viewport.clientWidth,t=this.visibility==="always"||r),this.setState({position:this.position,track:this.track,appearance:this.appearance,visibility:this.visibility,deactivated:this.disabled,dir:this.dir.value,pointerEventsMethod:this.pointerEventsMethod,verticalUsed:e,horizontalUsed:t,isVerticallyScrollable:n,isHorizontallyScrollable:r})}setState(e){this.state=se(se({},this.state),e),this.changeDetectorRef.detectChanges()}getScrolledByDirection(e){let t;return this.scrolled.pipe(ne(n=>t=n),kt("target",e),dn(),Wt(([n,r])=>n!==r),re(()=>t))}setHovered(e){this.zone.run(()=>this.setState(se({},e)))}setDragging(e){this.zone.run(()=>this.setState(se({},e)))}setClicked(e){this.zone.run(()=>this.setState({scrollbarClicked:e}))}ngOnInit(){this.zone.runOutsideAngular(()=>{this.customViewPort?(this.viewport=this.customViewPort,this.defaultViewPort.setAsWrapper()):this.viewport=this.defaultViewPort,this.viewport.setAsViewport(this.viewClass);let e=oe(this.viewport.nativeElement,"scroll",{passive:!0});e=this.scrollAuditTime?e.pipe(on(this.scrollAuditTime)):e,this.scrolled=e.pipe(q(this.destroyed)),this.verticalScrolled=this.getScrolledByDirection("scrollTop"),this.horizontalScrolled=this.getScrolledByDirection("scrollLeft")})}ngOnChanges(e){this.viewport&&this.update()}ngAfterViewInit(){this.update(),this.dir.change.pipe(ne(()=>this.update()),q(this.destroyed)).subscribe()}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}update(){this.autoHeightDisabled||this.updateHeight(),this.autoWidthDisabled||this.updateWidth(),this.updateState(),this.updated.next()}scrollTo(e){return this.smoothScroll.scrollTo(this.viewport.nativeElement,e)}scrollToElement(e,t){return this.smoothScroll.scrollToElement(this.viewport.nativeElement,e,t)}updateHeight(){this.appearance==="standard"&&this.scrollbarX?this.nativeElement.style.height=`${this.viewport.contentHeight+this.scrollbarX.nativeElement.clientHeight}px`:this.nativeElement.style.height=`${this.viewport.contentHeight}px`}updateWidth(){this.appearance==="standard"&&this.scrollbarY?this.nativeElement.style.width=`${this.viewport.contentWidth+this.scrollbarY.nativeElement.clientWidth}px`:this.nativeElement.style.width=`${this.viewport.contentWidth}px`}}return i.\u0275fac=function(e){return new(e||i)(w($),w(be),w(yn),w(fi),w(Gn),w(Jn))},i.\u0275cmp=U({type:i,selectors:[["ng-scrollbar"]],contentQueries:function(e,t,n){if(e&1&&ii(n,Ui,7),e&2){let r;ee(r=te())&&(t.customViewPort=r.first)}},viewQuery:function(e,t){if(e&1&&(le(zr,5,$),le(Hr,5,$),le(Ui,7)),e&2){let n;ee(n=te())&&(t.scrollbarY=n.first),ee(n=te())&&(t.scrollbarX=n.first),ee(n=te())&&(t.defaultViewPort=n.first)}},hostVars:2,hostBindings:function(e,t){e&2&&N("ng-scrollbar",!0)},inputs:{disabled:"disabled",sensorDisabled:"sensorDisabled",pointerEventsDisabled:"pointerEventsDisabled",viewportPropagateMouseMove:"viewportPropagateMouseMove",autoHeightDisabled:"autoHeightDisabled",autoWidthDisabled:"autoWidthDisabled",viewClass:"viewClass",trackClass:"trackClass",thumbClass:"thumbClass",minThumbSize:"minThumbSize",trackClickScrollDuration:"trackClickScrollDuration",pointerEventsMethod:"pointerEventsMethod",track:"track",visibility:"visibility",appearance:"appearance",position:"position",sensorDebounce:"sensorDebounce",scrollAuditTime:"scrollAuditTime"},outputs:{updated:"updated"},exportAs:["ngScrollbar"],standalone:!1,features:[ni([{provide:Ee,useExisting:i}]),st],ngContentSelectors:jr,decls:6,vars:4,consts:[["scrollbarX",""],["scrollbarY",""],[1,"ng-scrollbar-wrapper",3,"ngAttr"],[1,"ng-scroll-viewport-wrapper",3,"resizeSensor","sensorDebounce","sensorDisabled"],["scrollViewport","","hideNativeScrollbar",""],[4,"ngIf"]],template:function(e,t){e&1&&(ct(),f(0,"div",2)(1,"div",3),T("resizeSensor",function(){return t.update()}),f(2,"div",4)(3,"div"),dt(4),y()()(),F(5,Gr,3,2,"ng-container",5),y()),e&2&&(b("ngAttr",t.state),u(),b("sensorDebounce",t.sensorDebounce)("sensorDisabled",t.sensorDisabled),u(4),b("ngIf",!t.disabled))},dependencies:[Pe,Ui,qr,Yr,Qr,Xr,Jr],styles:[".ng-scrollbar-measure{scrollbar-width:none;-ms-overflow-style:none}  .ng-scrollbar-measure::-webkit-scrollbar{display:none}[_nghost-%COMP%]{--scrollbar-border-radius: 7px;--scrollbar-padding: 4px;--scrollbar-track-color: transparent;--scrollbar-thumb-color: rgba(0, 0, 0, .2);--scrollbar-thumb-hover-color: var(--scrollbar-thumb-color);--scrollbar-size: 5px;--scrollbar-hover-size: var(--scrollbar-size);--scrollbar-overscroll-behavior: initial;--scrollbar-transition-duration: .4s;--scrollbar-transition-delay: .8s;--scrollbar-thumb-transition: height ease-out .15s, width ease-out .15s;--scrollbar-track-transition: height ease-out .15s, width ease-out .15s;display:block;position:relative;height:100%;max-height:100%;max-width:100%;box-sizing:content-box!important}[_nghost-%COMP%] > .ng-scrollbar-wrapper[_ngcontent-%COMP%]{--scrollbar-total-size: calc(var(--scrollbar-size) + var(--scrollbar-padding) * 2);--vertical-scrollbar-size: var(--scrollbar-size);--horizontal-scrollbar-size: var(--scrollbar-size);--vertical-scrollbar-total-size: calc(var(--vertical-scrollbar-size) + var(--scrollbar-padding) * 2);--horizontal-scrollbar-total-size: calc(var(--horizontal-scrollbar-size) + var(--scrollbar-padding) * 2)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalHovered=true][_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalDragging=true][_ngcontent-%COMP%]{--vertical-scrollbar-size: var(--scrollbar-hover-size);--vertical-scrollbar-total-size: calc(var(--vertical-scrollbar-size) + var(--scrollbar-padding) * 2);cursor:default}[_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalHovered=true][_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalDragging=true][_ngcontent-%COMP%]{--horizontal-scrollbar-size: var(--scrollbar-hover-size);--horizontal-scrollbar-total-size: calc(var(--horizontal-scrollbar-size) + var(--scrollbar-padding) * 2);cursor:default}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:0;right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:var(--scrollbar-total-size);right:0}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:var(--scrollbar-total-size);right:0}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:0;right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{top:0;bottom:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-bottom:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-bottom:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{top:var(--scrollbar-total-size);bottom:0}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-top:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-top:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{scrollbar-width:none;-ms-overflow-style:none}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%]::-webkit-scrollbar, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport::-webkit-scrollbar{display:none}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-native-scrollbar-hider[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-native-scrollbar-hider{bottom:var(--native-scrollbar-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-native-scrollbar-hider[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-native-scrollbar-hider{left:0;right:var(--native-scrollbar-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][dir=rtl][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-native-scrollbar-hider[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][dir=rtl][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-native-scrollbar-hider{right:0;left:var(--native-scrollbar-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%] > .scrollbar-control[_ngcontent-%COMP%]{opacity:0;transition-property:opacity;transition-duration:var(--scrollbar-transition-duration);transition-delay:var(--scrollbar-transition-delay)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%]:hover > .scrollbar-control[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%]:active > .scrollbar-control[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%]:focus > .scrollbar-control[_ngcontent-%COMP%]{opacity:1;transition-duration:var(--scrollbar-transition-duration);transition-delay:0ms}[_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{overflow-x:auto;overflow-y:hidden}[_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{overflow:auto}.ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{overflow:hidden}.ng-scroll-viewport[_ngcontent-%COMP%]{-webkit-overflow-scrolling:touch;contain:strict;will-change:scroll-position;overscroll-behavior:var(--scrollbar-overscroll-behavior)}  .ng-scroll-content{display:inline-block;min-width:100%}.ng-scrollbar-wrapper[_ngcontent-%COMP%], .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], .ng-scroll-layer[_ngcontent-%COMP%],   .ng-scroll-viewport{position:absolute;left:0;right:0;top:0;bottom:0}",".ng-scrollbar-wrapper[pointerEventsMethod=viewport]>.scrollbar-control{pointer-events:none}  .ng-scrollbar-wrapper[horizontalDragging=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,   .ng-scrollbar-wrapper[horizontalDragging=true]>.ng-scroll-viewport-wrapper>*>*>  .ng-scroll-viewport,   .ng-scrollbar-wrapper[verticalDragging=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,   .ng-scrollbar-wrapper[verticalDragging=true]>.ng-scroll-viewport-wrapper>*>*>  .ng-scroll-viewport,   .ng-scrollbar-wrapper[scrollbarClicked=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,   .ng-scrollbar-wrapper[scrollbarClicked=true]>.ng-scroll-viewport-wrapper>*>*>  .ng-scroll-viewport{-webkit-user-select:none;-moz-user-select:none;user-select:none}  .ng-scrollbar-wrapper>.scrollbar-control{position:absolute;display:flex;justify-content:center;align-items:center;transition:var(--scrollbar-track-transition)}  .ng-scrollbar-wrapper>.scrollbar-control[scrollable=false] .ng-scrollbar-thumb{display:none}  .ng-scrollbar-track{height:100%;width:100%;z-index:1;border-radius:var(--scrollbar-border-radius);background-color:var(--scrollbar-track-color);overflow:hidden;transition:var(--scrollbar-track-transition);cursor:default}  .ng-scrollbar-thumb{box-sizing:border-box;position:relative;border-radius:inherit;background-color:var(--scrollbar-thumb-color);transform:translateZ(0);transition:var(--scrollbar-thumb-transition)}"],changeDetection:0}),i})(),qe=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Xn,useValue:e}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=me({type:i}),i.\u0275inj=ue({imports:[Z,An,Ln,Nn,Wn]}),i})();var Ye=class i{constructor(o){this.http=o}getVerifyCode(o){return this.http.get(`${pe.BASE_URL}/user/basic/getVerifyCode`,{params:{type:o}}).pipe(re(e=>e.data))}getCaptchaConfig(o){return this.http.post(`${pe.BASE_URL}/user/basic/getCaptchaConfig`,{},{headers:{"Captcha-Verify-Scene":o}}).pipe(re(e=>e.data))}getCaptchaConfigV2(o){return this.http.post(`${pe.BASE_URL}/user/basic/getCaptchaConfigV2`,{},{headers:{"Captcha-Verify-Scene":o}}).pipe(re(e=>e.data))}checkCaptchaV2(o,e,t){return this.http.post(`${pe.BASE_URL}/user/basic/checkCaptchaV2`,{clientJson:o},{headers:{"Captcha-Verify-Code":e,"Captcha-Verify-Scene":t}})}checkAliCaptcha(o,e){return this.http.post(`${pe.BASE_URL}/user/basic/checkAliCaptcha`,{captchaVerifyParam:o},{headers:{"Captcha-Verify-Code":e}}).pipe(re(t=>t.data))}login(o,e){return this.http.post(`${pe.BASE_URL}/user/basic/v2/login`,o,{observe:"response",headers:{"Captcha-Verify-Code":e}})}loginByMobilePhone(o){return this.http.post(`${pe.BASE_URL}/user/basic/loginByMobilePhone`,o,{observe:"response"})}register(o){return this.http.post(`${pe.BASE_URL}/user/basic/v3/register`,o,{observe:"response"})}sendSMSVerifyCode(o,e){return this.http.post(`${pe.BASE_URL}/user/basic/v2/queryMobileSms`,o,{headers:{"Captcha-Verify-Code":e}})}sendEmailVerifyCode(o,e){return this.http.post(`${pe.BASE_URL}/user/basic/v2/sendEmail`,o,{headers:{"Captcha-Verify-Code":e}})}checkEmailValidity(o,e){return this.http.post(`${pe.BASE_URL}/user/basic/checkEmailRegister`,{email:o},{headers:{"Captcha-Verify-Code":e}})}checkMobileValidity(o,e){return this.http.post(`${pe.BASE_URL}/user/basic/checkPhoneRegister`,o,{headers:{"Captcha-Verify-Code":e}})}checkEmailCodeValidity(o){return this.http.post(`${pe.BASE_URL}/user/basic/v3/checkEmailCode`,o)}checkSMSCodeValidity(o){return this.http.post(`${pe.BASE_URL}/user/basic/checkSmsCode`,o)}static \u0275fac=function(e){return new(e||i)(de(bn))};static \u0275prov=fe({token:i,factory:i.\u0275fac,providedIn:"root"})};var eo=["modal"],to=["element"],io=["trigger"];function no(i,o){i&1&&(f(0,"div",9),L(1,"app-loading-spinner",10),y()),i&2&&(u(),b("size","30px"))}function ro(i,o){if(i&1){let e=V();f(0,"form",11),T("submit",function(){E(e);let n=M(2);return I(n.checkCaptcha())}),f(1,"div",12)(2,"ion-input",13),O(3,"translate"),T("ionInput",function(n){E(e);let r=M(2);return I(r.onCodeInput(n))}),y(),f(4,"img",14),T("click",function(){E(e);let n=M(2);return I(n.initCaptcha())}),y()()(),f(5,"button",15),T("click",function(){E(e);let n=M(2);return I(n.checkCaptcha())}),k(6),O(7,"translate"),y()}if(i&2){let e,t=M(2);b("formGroup",t.form),u(2),N("error-field",((e=t.form.get("captchaCode"))==null?null:e.invalid)&&(((e=t.form.get("captchaCode"))==null?null:e.dirty)||((e=t.form.get("captchaCode"))==null?null:e.touched))),b("placeholder",P(3,7,"verification-code-placeholder")),u(2),b("src",t.verifyImg,mn),u(),b("disabled",t.form.invalid),u(),z(" ",P(7,9,"confirm")," ")}}function oo(i,o){if(i&1){let e=V();f(0,"div",3)(1,"div",4)(2,"div",5),k(3),O(4,"translate"),y(),f(5,"ion-icon",6),T("click",function(){E(e),M();let n=B(1);return I(n.dismiss())}),y()(),f(6,"div",7),F(7,no,2,1,"div",8)(8,ro,8,11,"ng-template",null,1,ce),y()()}if(i&2){let e=B(9),t=M();u(3),ae(P(4,3,"verification-code")),u(4),b("ngIf",!t.verifyImg)("ngIfElse",e)}}function ao(i,o){return e=>{let t=e.value?.toString();return t&&(t.length<i||t.length>o)?{lengthInvalid:{value:e.value}}:null}}var It=class i extends $e{constructor(e,t,n,r,s){super();this.authService=e;this.animationCtrl=t;this.translateService=n;this.renderer=r;this.fb=s}captchaType="loginPwd";modalElementRef;element;trigger;onSuccess=new K;captchaInstance=null;captchaVerifyCode="";captchaId=null;verifyImg=null;form;ngOnChanges(e){e.isOpen&&this.isOpen&&G.isBrowser&&setTimeout(()=>{this.initCaptcha()},100)}ngOnInit(){this.form=this.fb.group({captchaCode:[this.form?.get("captchaCode")?.value||null,[ao(4,4),Se.required]]})}ngAfterViewInit(){}submit(e){e.dismiss()}async initCaptcha(){this.verifyImg=null,this.form.setValue({captchaCode:null});let e=await Me(this.authService.getCaptchaConfigV2(this.captchaType));if(!e)return;let t=JSON.parse(e.clientJson);this.captchaId=t.captchaId,this.verifyImg=t.picture,this.captchaVerifyCode=e.captchaVerifyCode.toString(),this.cdr.detectChanges()}async checkCaptcha(){let e=this.form.value;this.verifyImg=null;let{captchaId:t,captchaVerifyCode:n,captchaType:r}=this,s={captchaId:t,captchaCode:e.captchaCode.toString()};this.authService.checkCaptchaV2(JSON.stringify(s),n,r).pipe(q(this.onDestroy$)).subscribe(l=>{l.code===0&&l.data.captchaVerifyResult?this.modalRef.dismiss().then(()=>{this.onSuccess.emit(this.captchaVerifyCode)}):(this.initCaptcha(),this.toast.toastError(this.translateService.instant("verfiy-code-error")))})}onCodeInput(e){let r=e.target.value.replace(/[^0-9]/g,"").slice(0,4);e.target.value=r,this.form.get("captchaCode")?.setValue(r)}static \u0275fac=function(t){return new(t||i)(w(Ye),w(Ue),w(ui),w(Kt),w(bt))};static \u0275cmp=U({type:i,selectors:[["app-captcha-modal"]],viewQuery:function(t,n){if(t&1&&(le(eo,7,$),le(to,5),le(io,5)),t&2){let r;ee(r=te())&&(n.modalElementRef=r.first),ee(r=te())&&(n.element=r.first),ee(r=te())&&(n.trigger=r.first)}},inputs:{captchaType:"captchaType"},outputs:{onSuccess:"onSuccess"},features:[Q,st],decls:3,vars:2,consts:[["modal",""],["verifycode",""],[1,"glass-modal","px-2",3,"didDismiss","isOpen","backdropDismiss"],[1,"modal-content","flex","flex-col","p-2"],[1,"modal-header","z-10"],[1,"text-2xl","font-bold"],["name","close-outline",1,"modal-close-btn","rounded-md","w-10","xs:w-10","h-10","xs:h-10","absolute","-right-2","-top-3","3xs:-right-3",3,"click"],[1,"flex","flex-col","flex-1","items-stretch","justify-center"],["class","relative z-1",4,"ngIf","ngIfElse"],[1,"relative","z-1"],[1,"absolute","left-1/2","top-1/2","-translate-x-1/2","-translate-y-1/2","text-gray-3",3,"size"],[3,"submit","formGroup"],[1,"flex","items-center","mb-6","gap-2"],["type","text","formControlName","captchaCode",1,"border-2","theme-input",2,"border-color","#000 !important",3,"ionInput","placeholder"],[1,"min-h-[44px]","w-auto",3,"click","src"],["type","button",1,"w-full","theme-btn","whitespace-nowrap","text-lg","bg-main-yellow","hover:shadow-md","text-black","h-12","w-32","rounded-md","px-2","py-1","border","border-solid","font-bold",3,"click","disabled"]],template:function(t,n){if(t&1){let r=V();f(0,"ion-modal",2,0),T("didDismiss",function(){return E(r),I(n.handleDismiss())}),F(2,oo,10,5,"ng-template"),y()}t&2&&b("isOpen",n.isOpen)("backdropDismiss",!1)},dependencies:[Z,Pe,ge,vt,gt,ft,he,Ce,di,Ct,je,qe,He,_t,yt,wt,Te],styles:["ion-modal[_ngcontent-%COMP%]{--width: 400px;--height: auto}ng-scrollbar[_ngcontent-%COMP%]{min-height:30vh;max-height:85vh}ng-scrollbar[_ngcontent-%COMP%]     .ng-scroll-content{width:100%}.modal-content[_ngcontent-%COMP%]{border-radius:15px;min-height:200px}ion-input[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;--highlight-color-focused: var(--strong);--highlight-color-valid: var(--strong);font-weight:500;box-shadow:0 10px 15px -3px #0000000d,0 4px 6px -2px #00000008}ion-input[_ngcontent-%COMP%]     input[type=number]::-webkit-inner-spin-button, ion-input[_ngcontent-%COMP%]     input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;margin:0}ion-input[_ngcontent-%COMP%]     input{font-size:18px!important;height:100%;padding:0 12px!important}ion-input[_ngcontent-%COMP%]     input:-webkit-autofill, ion-input[_ngcontent-%COMP%]     input:-webkit-autofill:hover, ion-input[_ngcontent-%COMP%]     input:-webkit-autofill:focus, ion-input[_ngcontent-%COMP%]     textarea:-webkit-autofill, ion-input[_ngcontent-%COMP%]     textarea:-webkit-autofill:hover, ion-input[_ngcontent-%COMP%]     textarea:-webkit-autofill:focus, ion-input[_ngcontent-%COMP%]     select:-webkit-autofill, ion-input[_ngcontent-%COMP%]     select:-webkit-autofill:hover, ion-input[_ngcontent-%COMP%]     select:-webkit-autofill:focus{border:0;filter:none;-webkit-text-fill-color:var(--strong);-webkit-box-shadow:0 0 0px 1000px var(--panel-3) inset;transition:background-color 50000s ease-in-out 0s}ion-input[_ngcontent-%COMP%]     .input-highlight{display:none}ion-input.icon-input[_ngcontent-%COMP%]     input{padding-right:42px!important}"]})};var _r=$t(Ki());var et=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=U({type:i,selectors:[["app-eye-close"]],decls:2,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"eye-icon"],["d","M8 2.5a9.77 9.77 0 0 0-2.53.32l1 1.05A8.78 8.78 0 0 1 8 3.75 6.91 6.91 0 0 1 13.4 6a7.2 7.2 0 0 1 1.27 2 7.2 7.2 0 0 1-1.27 2c-.12.13-.24.26-.37.38l.89.89A8.24 8.24 0 0 0 16 8a8.11 8.11 0 0 0-8-5.5zm5 9.56-.9-.9-6.97-6.91-1-1-1.19-1.19-.88.88 1 1A8.25 8.25 0 0 0 0 8a8.11 8.11 0 0 0 8 5.5 9.05 9.05 0 0 0 3.82-.79l1.24 1.23.88-.88-1-1zM6.66 7.54l1.67 1.67a1.47 1.47 0 0 1-.36 0A1.35 1.35 0 0 1 6.55 8a1.07 1.07 0 0 1 .11-.46zM8 12.25A6.91 6.91 0 0 1 2.6 10a7.2 7.2 0 0 1-1.27-2A7.2 7.2 0 0 1 2.6 6 6.49 6.49 0 0 1 4 4.84l1.74 1.79A2.33 2.33 0 0 0 5.3 8 2.59 2.59 0 0 0 8 10.5a2.78 2.78 0 0 0 1.32-.33l1.58 1.58a8 8 0 0 1-2.9.5z"]],template:function(e,t){e&1&&(xe(),Ne(0,"svg",0),lt(1,"path",1),Fe())},encapsulation:2})};var tt=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=U({type:i,selectors:[["app-eye-open"]],decls:3,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"eye-icon"],["d","M8 5.5A2.59 2.59 0 0 0 5.33 8 2.59 2.59 0 0 0 8 10.5 2.59 2.59 0 0 0 10.67 8 2.59 2.59 0 0 0 8 5.5zm0 3.75A1.35 1.35 0 0 1 6.58 8 1.35 1.35 0 0 1 8 6.75 1.35 1.35 0 0 1 9.42 8 1.35 1.35 0 0 1 8 9.25z"],["d","M8 2.5A8.11 8.11 0 0 0 0 8a8.11 8.11 0 0 0 8 5.5A8.11 8.11 0 0 0 16 8a8.11 8.11 0 0 0-8-5.5zm5.4 7.5A6.91 6.91 0 0 1 8 12.25 6.91 6.91 0 0 1 2.6 10a7.2 7.2 0 0 1-1.27-2A7.2 7.2 0 0 1 2.6 6 6.91 6.91 0 0 1 8 3.75 6.91 6.91 0 0 1 13.4 6a7.2 7.2 0 0 1 1.27 2 7.2 7.2 0 0 1-1.27 2z"]],template:function(e,t){e&1&&(xe(),Ne(0,"svg",0),lt(1,"path",1)(2,"path",2),Fe())},encapsulation:2})};var Mi=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=me({type:i});static \u0275inj=ue({imports:[Z,wt]})};var po=(i,o,e,t,n,r,s)=>({seconds:i,minutes:o,hours:e,hoursWithDays:t,days:n,difference:r,remainingTime:s}),uo=i=>({$implicit:i});function mo(i,o){}var xi=class i extends mi{constructor(e){super();this.ngZone=e}time;roundToUpperLimit=!1;onTimeEnd=new K;templateRef;difference;seconds;minutes;hours;days;hoursWithDays;remainingTime;getTimeDifference(){this.difference=this.time?new Date(this.time).getTime()-new Date().getTime():0,this.allocateTimeUnits(this.difference)}ngOnChanges(e){let t=e.time;t&&!t.isFirstChange()&&t.currentValue!==t.previousValue&&this.restart()}allocateTimeUnits(e){e<=0&&(e=0),this.seconds=Math.floor(e/1e3),this.minutes=Math.floor(this.seconds/60),this.hours=Math.floor(this.minutes/60),this.hoursWithDays=Math.floor(this.minutes/60),this.days=Math.floor(this.hours/24),this.hours%=24,this.minutes%=60,this.seconds%=60,this.hours==0&&this.minutes==0&&this.seconds==0&&(this.onTimeEnd.emit(),this.subscriptions?.unsubscribe()),this.roundToUpperLimit&&(this.hoursWithDays!=0?(this.minutes!=0||this.seconds!=0)&&(this.hoursWithDays+=1):this.minutes==59&&this.seconds!=0?this.hoursWithDays+=1:this.minutes!=0&&this.seconds!=0&&(this.minutes+=1)),this.hours=this.hours<10?"0"+this.hours:this.hours,this.hoursWithDays=this.hoursWithDays<10?"0"+this.hoursWithDays:this.hoursWithDays,this.minutes=this.minutes<10?"0"+this.minutes:this.minutes,this.seconds=this.seconds<10?"0"+this.seconds:this.seconds}ngOnInit(){this.restart()}restart(){this.subscriptions?.unsubscribe(),this.getTimeDifference(),this.cdr.detectChanges(),G.isServer||this.ngZone.runOutsideAngular(()=>{this.subscriptions=rn(1e3).subscribe(e=>{this.getTimeDifference(),this.cdr.detectChanges()})})}static \u0275fac=function(t){return new(t||i)(w(be))};static \u0275cmp=U({type:i,selectors:[["app-countdown"]],contentQueries:function(t,n,r){if(t&1&&ii(r,Qt,5),t&2){let s;ee(s=te())&&(n.templateRef=s.first)}},inputs:{time:"time",roundToUpperLimit:"roundToUpperLimit"},outputs:{onTimeEnd:"onTimeEnd"},features:[Q,st],decls:2,vars:12,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,n){t&1&&(ei(0),F(1,mo,0,0,"ng-template",0),ti()),t&2&&(u(),b("ngTemplateOutlet",n.templateRef)("ngTemplateOutletContext",De(10,uo,_n(2,po,n.seconds,n.minutes,n.hours,n.hoursWithDays,n.days,n.difference,n.remainingTime))))},dependencies:[Z,ze,ge,he,Ce],encapsulation:2})};var Zi=class{$implicit=null;ngLet=null},it=class i{constructor(o,e){this._vcr=o;this._templateRef=e}_context=new Zi;set ngLet(o){this._context.$implicit=this._context.ngLet=o}static ngTemplateContextGuard(o,e){return!0}ngOnInit(){this._vcr.createEmbeddedView(this._templateRef,this._context)}static \u0275fac=function(e){return new(e||i)(w(gn),w(Qt))};static \u0275dir=Y({type:i,selectors:[["","ngLet",""]],inputs:{ngLet:"ngLet"}})};var nt=class i{constructor(o,e){this.el=o;this.toast=e;this.ionInput=o}eyeOpen;eyeClose;ionInput;async ngAfterViewInit(){this.eyeOpen&&(this.eyeOpen.style.display="none"),this.eyeClose?.addEventListener("click",this.toggle),this.eyeOpen?.addEventListener("click",this.toggle)}toggle=()=>{if(console.log(112234),this.ionInput.nativeElement.classList.contains("show-pass")){this.eyeClose&&this.eyeClose.style.removeProperty("display"),this.eyeOpen&&(this.eyeOpen.style.display="none"),this.ionInput.nativeElement.classList.remove("show-pass");let o=this.ionInput.nativeElement.querySelector("input");o&&(o.type="password")}else{this.eyeClose&&(this.eyeClose.style.display="none"),this.eyeOpen&&this.eyeOpen.style.removeProperty("display"),this.ionInput.nativeElement.classList.add("show-pass");let o=this.ionInput.nativeElement.querySelector("input");o&&(o.type="text")}};static \u0275fac=function(e){return new(e||i)(w($),w(Bi))};static \u0275dir=Y({type:i,selectors:[["","appPasswordToggle",""]],inputs:{eyeOpen:"eyeOpen",eyeClose:"eyeClose"}})};var Si=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=me({type:i});static \u0275inj=ue({providers:[ui],imports:[Z,ge,He,he,pi,qe,hi,xi,On]})};var gr=$t(mr());var hr=[{country:"Afghanistan",code:"93",iso:"AF"},{country:"Albania",code:"355",iso:"AL"},{country:"Algeria",code:"213",iso:"DZ"},{country:"American Samoa",code:"1-684",iso:"AS"},{country:"Andorra",code:"376",iso:"AD"},{country:"Angola",code:"244",iso:"AO"},{country:"Anguilla",code:"1-264",iso:"AI"},{country:"Antarctica",code:"672",iso:"AQ"},{country:"Antigua and Barbuda",code:"1-268",iso:"AG"},{country:"Argentina",code:"54",iso:"AR"},{country:"Armenia",code:"374",iso:"AM"},{country:"Aruba",code:"297",iso:"AW"},{country:"Australia",code:"61",iso:"AU"},{country:"Austria",code:"43",iso:"AT"},{country:"Azerbaijan",code:"994",iso:"AZ"},{country:"Bahamas",code:"1-242",iso:"BS"},{country:"Bahrain",code:"973",iso:"BH"},{country:"Bangladesh",code:"880",iso:"BD"},{country:"Barbados",code:"1-246",iso:"BB"},{country:"Belarus",code:"375",iso:"BY"},{country:"Belgium",code:"32",iso:"BE"},{country:"Belize",code:"501",iso:"BZ"},{country:"Benin",code:"229",iso:"BJ"},{country:"Bermuda",code:"1-441",iso:"BM"},{country:"Bhutan",code:"975",iso:"BT"},{country:"Bolivia",code:"591",iso:"BO"},{country:"Bosnia and Herzegovina",code:"387",iso:"BA"},{country:"Botswana",code:"267",iso:"BW"},{country:"Brazil",code:"55",iso:"BR"},{country:"British Indian Ocean Territory",code:"246",iso:"IO"},{country:"British Virgin Islands",code:"1-284",iso:"VG"},{country:"Brunei",code:"673",iso:"BN"},{country:"Bulgaria",code:"359",iso:"BG"},{country:"Burkina Faso",code:"226",iso:"BF"},{country:"Burundi",code:"257",iso:"BI"},{country:"Cambodia",code:"855",iso:"KH"},{country:"Cameroon",code:"237",iso:"CM"},{country:"Canada",code:"1",iso:"CA"},{country:"Cape Verde",code:"238",iso:"CV"},{country:"Cayman Islands",code:"1-345",iso:"KY"},{country:"Central African Republic",code:"236",iso:"CF"},{country:"Chad",code:"235",iso:"TD"},{country:"Chile",code:"56",iso:"CL"},{country:"China",code:"86",iso:"CN"},{country:"Christmas Island",code:"61",iso:"CX"},{country:"Cocos Islands",code:"61",iso:"CC"},{country:"Colombia",code:"57",iso:"CO"},{country:"Comoros",code:"269",iso:"KM"},{country:"Cook Islands",code:"682",iso:"CK"},{country:"Costa Rica",code:"506",iso:"CR"},{country:"Croatia",code:"385",iso:"HR"},{country:"Cuba",code:"53",iso:"CU"},{country:"Curacao",code:"599",iso:"CW"},{country:"Cyprus",code:"357",iso:"CY"},{country:"Czech Republic",code:"420",iso:"CZ"},{country:"Democratic Republic of the Congo",code:"243",iso:"CD"},{country:"Denmark",code:"45",iso:"DK"},{country:"Djibouti",code:"253",iso:"DJ"},{country:"Dominica",code:"1-767",iso:"DM"},{country:"Dominican Republic",code:"1-809, 1-829, 1-849",iso:"DO"},{country:"East Timor",code:"670",iso:"TL"},{country:"Ecuador",code:"593",iso:"EC"},{country:"Egypt",code:"20",iso:"EG"},{country:"El Salvador",code:"503",iso:"SV"},{country:"Equatorial Guinea",code:"240",iso:"GQ"},{country:"Eritrea",code:"291",iso:"ER"},{country:"Estonia",code:"372",iso:"EE"},{country:"Ethiopia",code:"251",iso:"ET"},{country:"Falkland Islands",code:"500",iso:"FK"},{country:"Faroe Islands",code:"298",iso:"FO"},{country:"Fiji",code:"679",iso:"FJ"},{country:"Finland",code:"358",iso:"FI"},{country:"France",code:"33",iso:"FR"},{country:"French Polynesia",code:"689",iso:"PF"},{country:"Gabon",code:"241",iso:"GA"},{country:"Gambia",code:"220",iso:"GM"},{country:"Georgia",code:"995",iso:"GE"},{country:"Germany",code:"49",iso:"DE"},{country:"Ghana",code:"233",iso:"GH"},{country:"Gibraltar",code:"350",iso:"GI"},{country:"Greece",code:"30",iso:"GR"},{country:"Greenland",code:"299",iso:"GL"},{country:"Grenada",code:"1-473",iso:"GD"},{country:"Guam",code:"1-671",iso:"GU"},{country:"Guatemala",code:"502",iso:"GT"},{country:"Guernsey",code:"44-1481",iso:"GG"},{country:"Guinea",code:"224",iso:"GN"},{country:"Guinea-Bissau",code:"245",iso:"GW"},{country:"Guyana",code:"592",iso:"GY"},{country:"Haiti",code:"509",iso:"HT"},{country:"Honduras",code:"504",iso:"HN"},{country:"Hong Kong",code:"852",iso:"HK"},{country:"Hungary",code:"36",iso:"HU"},{country:"Iceland",code:"354",iso:"IS"},{country:"India",code:"91",iso:"IN"},{country:"Indonesia",code:"62",iso:"ID"},{country:"Iran",code:"98",iso:"IR"},{country:"Iraq",code:"964",iso:"IQ"},{country:"Ireland",code:"353",iso:"IE"},{country:"Isle of Man",code:"44-1624",iso:"IM"},{country:"Israel",code:"972",iso:"IL"},{country:"Italy",code:"39",iso:"IT"},{country:"Ivory Coast",code:"225",iso:"CI"},{country:"Jamaica",code:"1-876",iso:"JM"},{country:"Japan",code:"81",iso:"JP"},{country:"Jersey",code:"44-1534",iso:"JE"},{country:"Jordan",code:"962",iso:"JO"},{country:"Kazakhstan",code:"7",iso:"KZ"},{country:"Kenya",code:"254",iso:"KE"},{country:"Kiribati",code:"686",iso:"KI"},{country:"Kosovo",code:"383",iso:"XK"},{country:"Kuwait",code:"965",iso:"KW"},{country:"Kyrgyzstan",code:"996",iso:"KG"},{country:"Laos",code:"856",iso:"LA"},{country:"Latvia",code:"371",iso:"LV"},{country:"Lebanon",code:"961",iso:"LB"},{country:"Lesotho",code:"266",iso:"LS"},{country:"Liberia",code:"231",iso:"LR"},{country:"Libya",code:"218",iso:"LY"},{country:"Liechtenstein",code:"423",iso:"LI"},{country:"Lithuania",code:"370",iso:"LT"},{country:"Luxembourg",code:"352",iso:"LU"},{country:"Macao",code:"853",iso:"MO"},{country:"Macedonia",code:"389",iso:"MK"},{country:"Madagascar",code:"261",iso:"MG"},{country:"Malawi",code:"265",iso:"MW"},{country:"Malaysia",code:"60",iso:"MY"},{country:"Maldives",code:"960",iso:"MV"},{country:"Mali",code:"223",iso:"ML"},{country:"Malta",code:"356",iso:"MT"},{country:"Marshall Islands",code:"692",iso:"MH"},{country:"Mauritania",code:"222",iso:"MR"},{country:"Mauritius",code:"230",iso:"MU"},{country:"Mayotte",code:"262",iso:"YT"},{country:"Mexico",code:"52",iso:"MX"},{country:"Micronesia",code:"691",iso:"FM"},{country:"Moldova",code:"373",iso:"MD"},{country:"Monaco",code:"377",iso:"MC"},{country:"Mongolia",code:"976",iso:"MN"},{country:"Montenegro",code:"382",iso:"ME"},{country:"Montserrat",code:"1-664",iso:"MS"},{country:"Morocco",code:"212",iso:"MA"},{country:"Mozambique",code:"258",iso:"MZ"},{country:"Myanmar",code:"95",iso:"MM"},{country:"Namibia",code:"264",iso:"NA"},{country:"Nauru",code:"674",iso:"NR"},{country:"Nepal",code:"977",iso:"NP"},{country:"Netherlands",code:"31",iso:"NL"},{country:"Netherlands Antilles",code:"599",iso:"AN"},{country:"New Caledonia",code:"687",iso:"NC"},{country:"New Zealand",code:"64",iso:"NZ"},{country:"Nicaragua",code:"505",iso:"NI"},{country:"Niger",code:"227",iso:"NE"},{country:"Nigeria",code:"234",iso:"NG"},{country:"Niue",code:"683",iso:"NU"},{country:"North Korea",code:"850",iso:"KP"},{country:"Northern Mariana Islands",code:"1-670",iso:"MP"},{country:"Norway",code:"47",iso:"NO"},{country:"Oman",code:"968",iso:"OM"},{country:"Pakistan",code:"92",iso:"PK"},{country:"Palau",code:"680",iso:"PW"},{country:"Palestine",code:"970",iso:"PS"},{country:"Panama",code:"507",iso:"PA"},{country:"Papua New Guinea",code:"675",iso:"PG"},{country:"Paraguay",code:"595",iso:"PY"},{country:"Peru",code:"51",iso:"PE"},{country:"Philippines",code:"63",iso:"PH"},{country:"Pitcairn",code:"64",iso:"PN"},{country:"Poland",code:"48",iso:"PL"},{country:"Portugal",code:"351",iso:"PT"},{country:"Puerto Rico",code:"1-787, 1-939",iso:"PR"},{country:"Qatar",code:"974",iso:"QA"},{country:"Republic of the Congo",code:"242",iso:"CG"},{country:"Reunion",code:"262",iso:"RE"},{country:"Romania",code:"40",iso:"RO"},{country:"Russia",code:"7",iso:"RU"},{country:"Rwanda",code:"250",iso:"RW"},{country:"Saint Barthelemy",code:"590",iso:"BL"},{country:"Saint Helena",code:"290",iso:"SH"},{country:"Saint Kitts and Nevis",code:"1-869",iso:"KN"},{country:"Saint Lucia",code:"1-758",iso:"LC"},{country:"Saint Martin",code:"590",iso:"MF"},{country:"Saint Pierre and Miquelon",code:"508",iso:"PM"},{country:"Saint Vincent and the Grenadines",code:"1-784",iso:"VC"},{country:"Samoa",code:"685",iso:"WS"},{country:"San Marino",code:"378",iso:"SM"},{country:"Sao Tome and Principe",code:"239",iso:"ST"},{country:"Saudi Arabia",code:"966",iso:"SA"},{country:"Senegal",code:"221",iso:"SN"},{country:"Serbia",code:"381",iso:"RS"},{country:"Seychelles",code:"248",iso:"SC"},{country:"Sierra Leone",code:"232",iso:"SL"},{country:"Singapore",code:"65",iso:"SG"},{country:"Sint Maarten",code:"1-721",iso:"SX"},{country:"Slovakia",code:"421",iso:"SK"},{country:"Slovenia",code:"386",iso:"SI"},{country:"Solomon Islands",code:"677",iso:"SB"},{country:"Somalia",code:"252",iso:"SO"},{country:"South Africa",code:"27",iso:"ZA"},{country:"South Korea",code:"82",iso:"KR"},{country:"South Sudan",code:"211",iso:"SS"},{country:"Spain",code:"34",iso:"ES"},{country:"Sri Lanka",code:"94",iso:"LK"},{country:"Sudan",code:"249",iso:"SD"},{country:"Suriname",code:"597",iso:"SR"},{country:"Svalbard and Jan Mayen",code:"47",iso:"SJ"},{country:"Swaziland",code:"268",iso:"SZ"},{country:"Sweden",code:"46",iso:"SE"},{country:"Switzerland",code:"41",iso:"CH"},{country:"Syria",code:"963",iso:"SY"},{country:"Taiwan",code:"886",iso:"TW"},{country:"Tajikistan",code:"992",iso:"TJ"},{country:"Tanzania",code:"255",iso:"TZ"},{country:"Thailand",code:"66",iso:"TH"},{country:"Togo",code:"228",iso:"TG"},{country:"Tokelau",code:"690",iso:"TK"},{country:"Tonga",code:"676",iso:"TO"},{country:"Trinidad and Tobago",code:"1-868",iso:"TT"},{country:"Tunisia",code:"216",iso:"TN"},{country:"Turkey",code:"90",iso:"TR"},{country:"Turkmenistan",code:"993",iso:"TM"},{country:"Turks and Caicos Islands",code:"1-649",iso:"TC"},{country:"Tuvalu",code:"688",iso:"TV"},{country:"U.S. Virgin Islands",code:"1-340",iso:"VI"},{country:"Uganda",code:"256",iso:"UG"},{country:"Ukraine",code:"380",iso:"UA"},{country:"United Arab Emirates",code:"971",iso:"AE"},{country:"United Kingdom",code:"44",iso:"GB"},{country:"United States",code:"1",iso:"US"},{country:"Uruguay",code:"598",iso:"UY"},{country:"Uzbekistan",code:"998",iso:"UZ"},{country:"Vanuatu",code:"678",iso:"VU"},{country:"Vatican",code:"379",iso:"VA"},{country:"Venezuela",code:"58",iso:"VE"},{country:"Vietnam",code:"84",iso:"VN"},{country:"Wallis and Futuna",code:"681",iso:"WF"},{country:"Western Sahara",code:"212",iso:"EH"},{country:"Yemen",code:"967",iso:"YE"},{country:"Zambia",code:"260",iso:"ZM"},{country:"Zimbabwe",code:"263",iso:"ZW"}];var vo=["phone"],Pt=class i{showPhone;placeholder=null;onSelectPhoneCountry=new K;onPhoneNumberChange=new K;phone;get checkFocus(){return this.isFocus}countryCodes=hr;constructor(){}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){if(G.isServer)return;let o=this.phone.nativeElement;(0,gr.default)(o,{initialCountry:"cn",separateDialCode:!0});let e=window.intlTelInputGlobals?.getInstance(o);o.addEventListener("countrychange",()=>{let t=e.getSelectedCountryData();this.onSelectPhoneCountry.emit(`+${t.dialCode}`)})}onInput(o){this.onPhoneNumberChange.emit(o.target.value)}isFocus=!1;handleBlur(){this.isFocus=!1}handleFocus(){this.isFocus=!0}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=U({type:i,selectors:[["app-phone-control"]],viewQuery:function(e,t){if(e&1&&le(vo,5),e&2){let n;ee(n=te())&&(t.phone=n.first)}},hostVars:2,hostBindings:function(e,t){e&2&&N("has-focus",t.checkFocus)},inputs:{showPhone:"showPhone",placeholder:"placeholder"},outputs:{onSelectPhoneCountry:"onSelectPhoneCountry",onPhoneNumberChange:"onPhoneNumberChange"},decls:2,vars:1,consts:[["phone",""],["type","tel",1,"tel-input","block",3,"blur","focus","input","placeholder"]],template:function(e,t){if(e&1){let n=V();Ne(0,"input",1,0),vn("blur",function(){return E(n),I(t.handleBlur())})("focus",function(){return E(n),I(t.handleFocus())})("input",function(s){return E(n),I(t.onInput(s))}),Fe()}e&2&&fn("placeholder",t.placeholder)},styles:["[_nghost-%COMP%]{--tw-border-opacity: 1;border-color:rgb(var(--gray-6) / var(--tw-border-opacity, 1))}[_nghost-%COMP%]     .iti__flag-container{border-color:inherit}[_nghost-%COMP%]     .iti{padding-left:.375rem;padding-right:.375rem;height:44px!important}[_nghost-%COMP%]     .iti__selected-flag{border-right-width:2px;border-style:solid;border-color:inherit}[_nghost-%COMP%]     input{height:100%;width:100%;font-size:1.125rem;line-height:1.75rem;font-weight:500;--tw-text-opacity: 1;color:rgb(var(--strong) / var(--tw-text-opacity, 1));outline:2px solid transparent;outline-offset:2px}[_nghost-%COMP%]     input::placeholder{color:#0009}[_nghost-%COMP%]     .iti, [_nghost-%COMP%]     input{width:100%;border-radius:.375rem;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}[_nghost-%COMP%]     .iti__selected-flag{border-top-left-radius:.375rem;border-bottom-left-radius:.375rem}.has-focus[_nghost-%COMP%]{--tw-border-opacity: 1;border-color:rgb(var(--main-purple) / var(--tw-border-opacity, 1))}.error-field[_nghost-%COMP%]{border-color:red}"]})};var bo=[[["","header",""]]],Co=["[header]"],wo=i=>({"translate-x-full":i}),fr=i=>({"text-white":i}),Mo=i=>({"-translate-x-full":i}),Oi=()=>({value:!0});function xo(i,o){if(i&1){let e=V();f(0,"div",12)(1,"div",13),L(2,"div",14),f(3,"button",15),T("click",function(){E(e);let n=M();return I(n.switchLoginType(n.LoginType.ACCOUNT))}),L(4,"ion-icon",16),k(5),O(6,"translate"),y(),f(7,"button",15),T("click",function(){E(e);let n=M();return I(n.switchLoginType(n.LoginType.MOBILE))}),L(8,"ion-icon",17),k(9),O(10,"translate"),y()(),f(11,"div",18)(12,"div",19)(13,"div",20),Oe(14,21),y(),f(15,"div",20),Oe(16,21),y()()()()}if(i&2){let e=M(),t=B(5),n=B(7);u(2),b("ngClass",De(14,wo,e.loginType!==e.LoginType.ACCOUNT)),u(),b("disabled",e.progress!=="Inputing")("ngClass",De(16,fr,e.loginType===e.LoginType.ACCOUNT)),u(2),z(" ",P(6,10,"username")," "),u(2),b("disabled",e.progress!=="Inputing")("ngClass",De(18,fr,e.loginType!==e.LoginType.ACCOUNT)),u(2),z(" ",P(10,12,"sms")," "),u(3),b("ngClass",De(20,Mo,e.loginType===e.LoginType.MOBILE)),u(2),b("ngTemplateOutlet",t),u(2),b("ngTemplateOutlet",n)}}function So(i,o){i&1&&Oe(0)}function Eo(i,o){if(i&1){let e=V();f(0,"form",22),T("submit",function(){E(e);let n=M();return I(n.submit())}),f(1,"div",23)(2,"div",24),L(3,"ion-input",25,4),O(5,"translate"),y()(),f(6,"div",26)(7,"div",27),L(8,"ion-input",28,5),O(10,"translate"),f(11,"div",29,6),L(13,"app-eye-close"),y(),f(14,"div",29,7),L(16,"app-eye-open"),y()()(),f(17,"div",30)(18,"button",31),T("click",function(){E(e);let n=M();return I(n.userService.authMode=n.AuthMode.FORGOT_PASSWORD)}),k(19),O(20,"translate"),y()(),f(21,"button",32),F(22,So,1,0,"ng-container",33),y(),f(23,"div",34)(24,"button",35),T("click",function(){E(e);let n=M();return I(n.userService.authMode=n.AuthMode.REGISTER)}),k(25),O(26,"translate"),y()()()}if(i&2){let e,t,n=B(12),r=B(15),s=M(),l=B(11);b("@delayHide",void 0)("formGroup",s.form),u(3),N("error-field",((e=s.form.get("username"))==null?null:e.invalid)&&(((e=s.form.get("username"))==null?null:e.dirty)||((e=s.form.get("username"))==null?null:e.touched))),b("placeholder",Ve(P(5,26,"username")))("readonly",s.progress!=="Inputing"),u(5),N("error-field",((t=s.form.get("password"))==null?null:t.invalid)&&(((t=s.form.get("password"))==null?null:t.dirty)||((t=s.form.get("password"))==null?null:t.touched))),b("placeholder",Ve(P(10,28,"password")))("eyeClose",n)("readonly",s.progress!=="Inputing")("eyeOpen",r)("clearOnEdit",!1),u(10),b("disabled",s.progress!=="Inputing"),u(),ae(P(20,30,"forgot-password")),u(2),N("disabled",s.form.invalid)("success",s.progress=="Success")("failed",s.progress=="Error"),u(),b("ngTemplateOutlet",l),u(2),b("disabled",s.progress!=="Inputing"),u(),z(" ",P(26,32,"register")," ")}}function Io(i,o){if(i&1){let e=V();f(0,"button",44),T("click",function(){E(e);let n=M(2);return I(n.getSmsCode())}),k(1),O(2,"translate"),y()}if(i&2){let e,t,n=o.ngLet,r=M(2);N("error-field",((e=r.form.get("smsCode"))==null?null:e.invalid)&&(((e=r.form.get("smsCode"))==null?null:e.dirty)||((e=r.form.get("smsCode"))==null?null:e.touched))),b("disabled",n>0||!((t=r.form.get("mobile"))!=null&&t.value)),u(),z(" ",n||P(2,4,"get-verification-code")," ")}}function Oo(i,o){i&1&&Oe(0)}function Po(i,o){if(i&1){let e=V();f(0,"form",22),T("submit",function(){E(e);let n=M();return I(n.submitMobile())}),f(1,"div",36)(2,"div",37),k(3),O(4,"translate"),y(),f(5,"app-phone-control",38),O(6,"translate"),T("onSelectPhoneCountry",function(n){E(e);let r=M();return I(r.onSelectPhoneCountry(n))})("onPhoneNumberChange",function(n){E(e);let r=M();return I(r.onPhoneNumberChange(n))}),y()(),f(7,"div",26)(8,"div",37),k(9),O(10,"translate"),y(),f(11,"div",39),L(12,"ion-input",40),O(13,"translate"),F(14,Io,3,6,"button",41),O(15,"async"),y()(),f(16,"button",42),F(17,Oo,1,0,"ng-container",33),y(),f(18,"div",43)(19,"button",35),T("click",function(){E(e);let n=M();return I(n.userService.authMode=n.AuthMode.REGISTER)}),k(20),O(21,"translate"),y()()()}if(i&2){let e,t,n,r,s=M(),l=B(11);b("@delayHide",void 0)("formGroup",s.form),u(2),N("error-label",((e=s.form.get("mobile"))==null?null:e.invalid)&&(((e=s.form.get("mobile"))==null?null:e.dirty)||((e=s.form.get("mobile"))==null?null:e.touched))),u(),ae(P(4,25,"phone-number")),u(2),N("error-field",((t=s.form.get("mobile"))==null?null:t.invalid)&&(((t=s.form.get("mobile"))==null?null:t.dirty)||((t=s.form.get("mobile"))==null?null:t.touched))),b("placeholder",P(6,27,"phone-number")),u(3),N("error-label",((n=s.form.get("smsCode"))==null?null:n.invalid)&&(((n=s.form.get("smsCode"))==null?null:n.dirty)||((n=s.form.get("smsCode"))==null?null:n.touched))),u(),ae(P(10,29,"verification-code")),u(3),N("error-field",((r=s.form.get("smsCode"))==null?null:r.invalid)&&(((r=s.form.get("smsCode"))==null?null:r.dirty)||((r=s.form.get("smsCode"))==null?null:r.touched))),b("readonly",s.progress!=="Inputing")("placeholder",P(13,31,"verification-code-placeholder")),u(2),b("ngLet",P(15,33,s.userService.smsTimeRemaining$)),u(2),N("disabled",s.form.invalid)("success",s.progress=="Success")("failed",s.progress=="Error"),u(),b("ngTemplateOutlet",l),u(2),b("disabled",s.progress!=="Inputing"),u(),z(" ",P(21,35,"register")," ")}}function To(i,o){}function Do(i,o){i&1&&(f(0,"div",49),L(1,"span",50),y()),i&2&&b("@upHide",Be(1,Oi))}function ko(i,o){i&1&&(xe(),f(0,"svg",51),L(1,"path",52),y()),i&2&&b("@upHide",Be(1,Oi))}function Ro(i,o){i&1&&(f(0,"div",53),L(1,"ion-icon",54),f(2,"span"),k(3),O(4,"translate"),y()()),i&2&&(b("@upHide",Be(4,Oi)),u(3),ae(P(4,2,"login-failed")))}function Ao(i,o){i&1&&(f(0,"div",53)(1,"span",55),k(2),O(3,"translate"),y()()),i&2&&(b("@upHide",Be(4,Oi)),u(2),ae(P(3,2,"login-human-verification")))}function Lo(i,o){i&1&&(f(0,"span",56),k(1),O(2,"translate"),y()),i&2&&(u(),z(" ",P(2,1,"login")," "))}function No(i,o){if(i&1&&F(0,Do,2,2,"div",45)(1,ko,2,2,"svg",46)(2,Ro,5,5,"div",47)(3,Ao,4,5,"div",47)(4,Lo,3,3,"span",48),i&2){let e=M();b("ngIf",e.progress==="Loading"),u(),b("ngIf",e.progress=="Success"),u(),b("ngIf",e.progress==="Error"),u(),b("ngIf",e.progress==="Verifying"),u(),b("ngIf",e.progress==="Inputing")}}var Ii=class i extends mi{constructor(e,t,n,r,s,l){super();this.fb=e;this.animationCtrl=t;this.userService=n;this.authService=r;this.route=s;this.ngZone=l}onFinish=new K;onFailed=new K;form;loginType="account";verifyCode;showPassword=!1;progress="Inputing";isLogining=!1;isFailed=!1;isOpenCaptchaModal=!1;LoginType=Mn;AuthMode=ut;captchaType="loginPwd";ngOnInit(){this.setLoginForm("account"),this.userService.userInfo.set(null),G.isBrowser&&this.userService.initVerificationTimer()}ngOnDestroy(){super.ngOnDestroy()}switchLoginType(e){this.loginType=e,this.setLoginForm(e)}onSelectPhoneCountry(e){e&&this.form.get("mobileArea")?.patchValue(e)}onPhoneNumberChange(e){this.form.get("mobile")?.markAsTouched(),this.form.get("mobile")?.patchValue(e)}getVerifyCode(){this.verifyCode=null,this.authService.getVerifyCode("Login").pipe(q(this.onDestroy$)).subscribe(e=>{e&&(this.verifyCode=e,this.form.get("captchaId")?.patchValue(e.captchaId),this.cdr.detectChanges())})}getSmsCode(){this.captchaType="sendSms",this.isOpenCaptchaModal=!0}async submit(){if(this.progress==="Inputing"){if(this.form.invalid){let e=this.form.getRawValue();e.username||(this.form.controls.username.markAsDirty(),this.form.controls.username.updateValueAndValidity({onlySelf:!0})),e.password||(this.form.controls.password.markAsDirty(),this.form.controls.password.updateValueAndValidity({onlySelf:!0})),this.loginHasFailed(!0);return}this.progress="Verifying",this.captchaType="loginPwd",this.cdr.detectChanges(),this.isOpenCaptchaModal=!0,this.cdr.detectChanges()}}async submitMobile(){if(this.progress!=="Inputing")return;let e=this.form.value;if(this.form.invalid){e.mobile||(this.form.controls.mobile.markAsDirty(),this.form.controls.mobile.updateValueAndValidity({onlySelf:!0})),e.smsCode||(this.form.controls.smsCode.markAsDirty(),this.form.controls.smsCode.updateValueAndValidity({onlySelf:!0})),this.loginHasFailed(!0);return}this.progress="Loading",this.cdr.detectChanges(),this.authService.loginByMobilePhone(Re(se({},e),{mobile:e.mobile.toString(),smsCode:e.smsCode.toString()})).pipe(q(this.onDestroy$)).subscribe(t=>{this.login(t)})}async login(e){if(G.isBrowser&&await Me(_e(300)),!e.body.data){this.loginHasFailed(),this.toast.toastError(e.body.i18nKey||e.body.message),this.getVerifyCode();return}this.progress="Success",this.cdr.detectChanges(),G.isBrowser&&await Me(_e(800)),this.userService.setToken(e.headers.get("token")),await Me(_e(0)),this.userService.setUserInfo(e.body.data),this.userService.updateUserInfo();let t=this.route.snapshot.queryParamMap.get("back")||"/",n=this.router.url.includes("/login")?decodeURIComponent(t):this.router.url;this.onFinish.emit(),G.isBrowser&&await Me(_e(200)),this.router.navigateByUrl("/blank",{skipLocationChange:!0}).then(()=>{this.router.navigateByUrl(n,{replaceUrl:!0}).then(()=>{})})}async loginHasFailed(e=!1){G.isBrowser&&(e||(this.progress="Error",this.cdr.detectChanges(),await ot(_e(260))),this.isFailed=!0,this.onFailed.emit(this.isFailed),this.cdr.detectChanges(),setTimeout(()=>{this.progress="Inputing",this.isFailed=!1,this.onFailed.emit(this.isFailed),this.cdr.detectChanges()},800))}setLoginForm(e){switch(e){case"account":this.form=this.fb.group({username:[this.form?.get("username")?.value||null,[Se.required]],password:[this.form?.get("password")?.value||null,[Se.required]],mobileArea:[this.form?.get("mobileArea")?.value||"+86"],mobile:[this.form?.get("mobile")?.value||null],smsCode:[this.form?.get("smsCode")?.value||null]}),this.form.updateValueAndValidity();break;case"mobile":this.form=this.fb.group({username:[this.form?.get("username")?.value||null],password:[this.form?.get("password")?.value||null],mobileArea:[this.form?.get("mobileArea")?.value||"+86",[Se.required]],mobile:[this.form?.get("mobile")?.value||null,[Se.required]],smsCode:[this.form?.get("smsCode")?.value||null,[Se.required]]}),this.form.updateValueAndValidity();break}}loginAfterCaptcha(e){let t=this.form.getRawValue();if(this.loginType==="account")this.progress="Loading",this.cdr.detectChanges(),this.authService.login(Re(se({},t),{source:"web",password:(0,_r.default)(t.password).toString(),username:t.username?.trim()}),e).pipe(q(this.onDestroy$)).subscribe(n=>{this.login(n)});else if(this.loginType==="mobile"){this.progress="Inputing";let{mobile:n,mobileArea:r}=this.form.value;this.authService.sendSMSVerifyCode({method:"loginByMobilePhone",mobileArea:r||"+86",mobile:n.toString()},e).pipe(q(this.onDestroy$)).subscribe(s=>{if(s.code!==0){this.progress="Inputing",this.toast.toastError(s.i18nKey||s.message);return}this.userService.startVerificationTimer("sms",60,!0),this.toast.toastSuccess(this.i18n.instant("verify-code-sent"))})}}onCaptchDismiss(e){this.progress="Inputing"}static \u0275fac=function(t){return new(t||i)(w(bt),w(Ue),w(ht),w(Ye),w(pt),w(be))};static \u0275cmp=U({type:i,selectors:[["app-login-form"]],outputs:{onFinish:"onFinish",onFailed:"onFailed"},features:[Q],ngContentSelectors:Co,decls:13,vars:6,consts:[["accountLogin",""],["mobileLogin",""],["qrLogin",""],["loginBtnContent",""],["username",""],["password",""],["eyeClose",""],["eyeOpen",""],["visibility","hover",3,"autoHeightDisabled"],[1,"auth-form","pt-8"],["class","w-full",4,"ngIf"],[3,"isOpenChange","onSuccess","captchaType","isOpen"],[1,"w-full"],[1,"grid","grid-cols-2","relative","rounded-lg","mb-8","bg-[#545A80]","text-white"],[1,"w-1/2","absolute","bg-primary-color","rounded-lg","h-full","top-0","left-0","transform","transition-transform","duration-300",3,"ngClass"],[1,"w-full","h-10","text-base","2xs:text-xl","font-medium","flex","items-center","justify-center","gap-x-2","relative",3,"click","disabled","ngClass"],["name","person-outline",1,"h-4","w-4","xs:w-6","xs:h-6"],["name","call-outline",1,"h-4","w-4","xs:w-6","xs:h-6"],[1,"relative","overflow-hidden","w-full",2,"height","300px"],[1,"flex","h-full","transform","transition-transform","duration-300",3,"ngClass"],[1,"basis-full","flex-shrink-0","flex-grow-0"],[3,"ngTemplateOutlet"],[1,"",3,"submit","formGroup"],[1,"",2,"--delay","100ms"],[1,"flex","items-center","mb-8","relative"],["formControlName","username","type","text",1,"w-full","border-2","bg-white","rounded-md",3,"readonly","placeholder"],[1,"",2,"--delay","200ms"],[1,"flex","items-center","mb-4","relative"],["appPasswordToggle","","type","password","formControlName","password",1,"w-full","icon-input","bg-white","rounded-md",2,"--strong","0 0 0",3,"eyeClose","readonly","eyeOpen","placeholder","clearOnEdit"],[1,"cursor-pointer","w-7","h-7","flex","justify-center","items-center","z-10","absolute","right-2","top-1/2","transform","-translate-y-1/2","text-gray-4"],[1,"flex","items-center","mb-4","w-full","justify-end","fade-in","text-white",2,"--delay","250ms"],["type","button",1,"block","ml-auto","text-lg","font-bold","text-dark-purple","cursor-pointer","hover:text-primary-color",3,"click","disabled"],["type","submit",1,"auth-btn","theme-btn","border","border-solid","border-transparent","bg-dark-purple","text-white","w-full","mb-2","text-2xl","rounded-xl","font-medium","relative","hover:bg-primary-color","bg-primary-gradient",2,"--delay","250ms"],[4,"ngTemplateOutlet"],[1,"flex","items-center","justify-center","text-white",2,"--delay","250ms"],["type","button",1,"text-2xl","cursor-pointer","font-medium","text-gray-6","text-center","py-2","w-full","h-12","register-account","flex","items-center","justify-center","rounded-md","hover:text-primary-color","hover:bg-primary-color/10",3,"click","disabled"],[1,"relative","z-10",2,"--delay","100ms"],[1,"text-lg","font-bold","text-gray-6"],[1,"block","w-full","mb-4",3,"onSelectPhoneCountry","onPhoneNumberChange","placeholder"],[1,"flex","items-center","mb-6","gap-2"],["type","number","formControlName","smsCode","maxlength","6",1,"bg-white","rounded-md",3,"readonly","placeholder"],["class","verification-btn theme-btn whitespace-nowrap text-lg bg-main-yellow hover:shadow-md text-black h-12 w-32 rounded-md px-2 py-1 border border-solid font-bold","type","button",3,"disabled","error-field","click",4,"ngLet"],["type","submit",1,"auth-btn","theme-btn","border","border-solid","border-transparent","bg-dark-purple","text-white","text-2xl","font-medium","text-center","w-full","rounded-xl","py-2.5","mb-2","relative","bg-primary-gradient",2,"--delay","250ms"],[1,"flex","items-center","justify-center",2,"--delay","250ms"],["type","button",1,"verification-btn","theme-btn","whitespace-nowrap","text-lg","bg-main-yellow","hover:shadow-md","text-black","h-12","w-32","rounded-md","px-2","py-1","border","border-solid","font-bold",3,"click","disabled"],["class","absolute block left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2",4,"ngIf"],["width","36","height","36","viewBox","0 0 36 36","class","absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2",4,"ngIf"],["class","absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 flex items-center whitespace-nowrap",4,"ngIf"],["class","absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2",4,"ngIf"],[1,"absolute","block","left-1/2","top-1/2","transform","-translate-x-1/2","-translate-y-1/2"],[1,"spinner"],["width","36","height","36","viewBox","0 0 36 36",1,"absolute","left-1/2","top-1/2","transform","-translate-x-1/2","-translate-y-1/2"],["fill","#fff","d","M13.5 24.26L7.24 18l-2.12 2.12 8.38 8.38 18-18-2.12-2.12z"],[1,"absolute","left-1/2","top-1/2","transform","-translate-x-1/2","-translate-y-1/2","flex","items-center","whitespace-nowrap"],["name","alert-circle-outline",1,"mr-2","w-6","h-6"],[1,"animated-elipsis"],[1,"absolute","left-1/2","top-1/2","transform","-translate-x-1/2","-translate-y-1/2"]],template:function(t,n){if(t&1){let r=V();ct(bo),dt(0),f(1,"ng-scrollbar",8)(2,"div",9),F(3,xo,17,22,"div",10),y()(),F(4,Eo,27,34,"ng-template",null,0,ce)(6,Po,22,37,"ng-template",null,1,ce)(8,To,0,0,"ng-template",null,2,ce)(10,No,5,5,"ng-template",null,3,ce),f(12,"app-captcha-modal",11),Vt("isOpenChange",function(l){return E(r),Ft(n.isOpenCaptchaModal,l)||(n.isOpenCaptchaModal=l),I(l)}),T("isOpenChange",function(l){return E(r),I(n.onCaptchDismiss(l))})("onSuccess",function(l){return E(r),I(n.loginAfterCaptcha(l))}),y()}t&2&&(u(),b("autoHeightDisabled",!1),u(),N("failed",n.isFailed),u(),b("ngIf",n.form),u(9),b("captchaType",n.captchaType),Nt("isOpen",n.isOpenCaptchaModal))},dependencies:[Z,ri,Pe,ze,ge,vt,gt,ft,ci,he,Ce,Ct,je,Si,it,nt,qe,Ci,Mi,et,tt,It,He,_t,yt,Pt,oi,Te],styles:["ng-scrollbar[_ngcontent-%COMP%]{max-height:85vh}.auth-form[_ngcontent-%COMP%]{min-height:430px}.login-type[_ngcontent-%COMP%]{max-width:100px;transition:all .2s ease}.login-type[_ngcontent-%COMP%]:hover{background:rgba(var(--dark-purple-rgb),.05);transform:translateY(-2px)}.login-type.active[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}ion-input[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;--highlight-color-focused: var(--strong);--highlight-color-valid: var(--strong);font-weight:500;box-shadow:0 10px 15px -3px #0000000d,0 4px 6px -2px #00000008}ion-input[_ngcontent-%COMP%]     input[type=number]::-webkit-inner-spin-button, ion-input[_ngcontent-%COMP%]     input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;margin:0}ion-input[_ngcontent-%COMP%]     input{font-size:18px!important;height:100%;padding:0 12px!important}ion-input[_ngcontent-%COMP%]     input:-webkit-autofill, ion-input[_ngcontent-%COMP%]     input:-webkit-autofill:hover, ion-input[_ngcontent-%COMP%]     input:-webkit-autofill:focus, ion-input[_ngcontent-%COMP%]     textarea:-webkit-autofill, ion-input[_ngcontent-%COMP%]     textarea:-webkit-autofill:hover, ion-input[_ngcontent-%COMP%]     textarea:-webkit-autofill:focus, ion-input[_ngcontent-%COMP%]     select:-webkit-autofill, ion-input[_ngcontent-%COMP%]     select:-webkit-autofill:hover, ion-input[_ngcontent-%COMP%]     select:-webkit-autofill:focus{border:0;filter:none;-webkit-text-fill-color:var(--strong);-webkit-box-shadow:0 0 0px 1000px var(--panel-3) inset;transition:background-color 50000s ease-in-out 0s}ion-input[_ngcontent-%COMP%]     .input-highlight{display:none}ion-input.icon-input[_ngcontent-%COMP%]     input{padding-right:42px!important}app-eye-close[_ngcontent-%COMP%], app-eye-open[_ngcontent-%COMP%]{display:block;width:1rem}.checkmark[_ngcontent-%COMP%]{transform:translate(-50%) translateY(-54%) rotate(45deg);width:5px;height:10px}.auth-btn[_ngcontent-%COMP%]{height:55px;box-shadow:0 10px 15px -3px #00000020,0 4px 6px -2px #00000008;text-shadow:2px 3px 6px rgba(0,0,0,.1);transition:all .26s ease-out}.auth-btn.success[_ngcontent-%COMP%]{background-color:#03bf3f;border:1px solid #7befa2}.auth-btn.success[_ngcontent-%COMP%]:hover{background:#03bf3f}.auth-btn.failed[_ngcontent-%COMP%]{background-color:red;border-color:red;color:#fff;opacity:1}.auth-btn.failed[_ngcontent-%COMP%]:hover{background-color:red}.auth-btn.disabled[_ngcontent-%COMP%]{cursor:not-allowed;box-shadow:none;text-shadow:none}.auth-btn[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{display:inline-block;margin:0 8px;border-radius:50%;width:1.5em;height:1.5em;border:.215em solid transparent;vertical-align:middle;font-size:16px;border-top-color:#fff;filter:drop-shadow(2px 3px 6px rgba(0,0,0,.1));animation:_ngcontent-%COMP%_spin 1s cubic-bezier(.55,.15,.45,.85) infinite}.auth-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{filter:drop-shadow(2px 3px 6px rgba(0,0,0,.1))}auth-form.failed[_ngcontent-%COMP%]   .auth-btn[_ngcontent-%COMP%]{transition-delay:0;transition:none;background-color:red;border-color:red;color:#fff;opacity:1}.verification-btn[_ngcontent-%COMP%]{border-color:#d9b500}.verification-btn[_ngcontent-%COMP%]:disabled{box-shadow:none}.error-label[_ngcontent-%COMP%]{color:red}ion-icon[_ngcontent-%COMP%]{--ionicon-stroke-width: 40px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}ion-input[_ngcontent-%COMP%]{color:#000;--strong: 0, 0, 0;--contrast-strong: 255, 255, 255}app-phone-control[_ngcontent-%COMP%]{color:#000}app-phone-control[_ngcontent-%COMP%]     input{color:#000}"],data:{animation:[Mt,ve("delayHide",[J(":leave",[X("0.3s ease-out")])])]}})};var yr=$t(Ki());var Fo=(()=>{class i{constructor(e,t,n,r,s){this._legacyCanvasSize=i.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=e,this.$canvas=document.createElement("canvas"),n&&typeof n=="object"?this._onDecode=t:(console.warn(n||r||s?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=t),t=typeof n=="object"?n:{},this._onDecodeError=t.onDecodeError||(typeof n=="function"?n:this._onDecodeError),this._calculateScanRegion=t.calculateScanRegion||(typeof r=="function"?r:this._calculateScanRegion),this._preferredCamera=t.preferredCamera||s||this._preferredCamera,this._legacyCanvasSize=typeof n=="number"?n:typeof r=="number"?r:this._legacyCanvasSize,this._maxScansPerSecond=t.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),e.disablePictureInPicture=!0,e.playsInline=!0,e.muted=!0;let l=!1;if(e.hidden&&(e.hidden=!1,l=!0),document.body.contains(e)||(document.body.appendChild(e),l=!0),n=e.parentElement,t.highlightScanRegion||t.highlightCodeOutline){if(r=!!t.overlay,this.$overlay=t.overlay||document.createElement("div"),s=this.$overlay.style,s.position="absolute",s.display="none",s.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!r&&t.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}n.insertBefore(this.$overlay,this.$video.nextSibling)}t.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(e),requestAnimationFrame(()=>{let S=window.getComputedStyle(e);S.display==="none"&&(e.style.setProperty("display","block","important"),l=!0),S.visibility!=="visible"&&(e.style.setProperty("visibility","visible","important"),l=!0),l&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),e.style.opacity="0",e.style.width="0",e.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),e.addEventListener("play",this._onPlay),e.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=i.createQrEngine()}static set WORKER_PATH(e){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await i.listCameras(!1)).length}catch{return!1}}static async listCameras(e=!1){if(!navigator.mediaDevices)return[];let t=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(r=>r.kind==="videoinput"),n;try{e&&(await t()).every(r=>!r.label)&&(n=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(await t()).map((r,s)=>({id:r.deviceId,label:r.label||(s===0?"Default Camera":`Camera ${s+1}`)}))}finally{n&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),i._stopVideoStream(n))}}async hasFlash(){let e;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;e=this.$video.srcObject}else e=(await this._getCameraStream()).stream;return"torch"in e.getVideoTracks()[0].getSettings()}catch{return!1}finally{e&&e!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),i._stopVideoStream(e))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(e){throw this._flashOn=!1,e}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),i._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&(window.location.protocol!=="https:"&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:e,facingMode:t}=await this._getCameraStream();!this._active||this._paused?i._stopVideoStream(e):(this._setVideoMirror(t),this.$video.srcObject=e,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(e){if(!this._paused)throw this._active=!1,e}}stop(){this.pause(),this._active=!1}async pause(e=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let t=()=>{this.$video.srcObject instanceof MediaStream&&(i._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return e?(t(),!0):(await new Promise(n=>setTimeout(n,300)),this._paused?(t(),!0):!1)}async setCamera(e){e!==this._preferredCamera&&(this._preferredCamera=e,await this._restartVideoStream())}static async scanImage(e,t,n,r,s=!1,l=!1){let S,d=!1;t&&("scanRegion"in t||"qrEngine"in t||"canvas"in t||"disallowCanvasResizing"in t||"alsoTryWithoutScanRegion"in t||"returnDetailedScanResult"in t)?(S=t.scanRegion,n=t.qrEngine,r=t.canvas,s=t.disallowCanvasResizing||!1,l=t.alsoTryWithoutScanRegion||!1,d=!0):console.warn(t||n||r||s||l?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),t=!!n;try{let h,g;[n,h]=await Promise.all([n||i.createQrEngine(),i._loadImage(e)]),[r,g]=i._drawToCanvas(h,S,r,s);let v;if(n instanceof Worker){let _=n;t||i._postWorkerMessageSync(_,"inversionMode","both"),v=await new Promise((R,D)=>{let p,a,c,m=-1;a=x=>{x.data.id===m&&(_.removeEventListener("message",a),_.removeEventListener("error",c),clearTimeout(p),x.data.data!==null?R({data:x.data.data,cornerPoints:i._convertPoints(x.data.cornerPoints,S)}):D(i.NO_QR_CODE_FOUND))},c=x=>{_.removeEventListener("message",a),_.removeEventListener("error",c),clearTimeout(p),D("Scanner error: "+(x?x.message||x:"Unknown Error"))},_.addEventListener("message",a),_.addEventListener("error",c),p=setTimeout(()=>c("timeout"),1e4);let C=g.getImageData(0,0,r.width,r.height);m=i._postWorkerMessageSync(_,"decode",C,[C.data.buffer])})}else v=await Promise.race([new Promise((_,R)=>window.setTimeout(()=>R("Scanner error: timeout"),1e4)),(async()=>{try{var[_]=await n.detect(r);if(!_)throw i.NO_QR_CODE_FOUND;return{data:_.rawValue,cornerPoints:i._convertPoints(_.cornerPoints,S)}}catch(R){if(_=R.message||R,/not implemented|service unavailable/.test(_))return i._disableBarcodeDetector=!0,i.scanImage(e,{scanRegion:S,canvas:r,disallowCanvasResizing:s,alsoTryWithoutScanRegion:l});throw`Scanner error: ${_}`}})()]);return d?v:v.data}catch(h){if(!S||!l)throw h;let g=await i.scanImage(e,{qrEngine:n,canvas:r,disallowCanvasResizing:s});return d?g:g.data}finally{t||i._postWorkerMessage(n,"close")}}setGrayscaleWeights(e,t,n,r=!0){i._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:e,green:t,blue:n,useIntegerApproximation:r})}setInversionMode(e){i._postWorkerMessage(this._qrEnginePromise,"inversionMode",e)}static async createQrEngine(e){if(e&&console.warn("Specifying a worker path is not required and not supported anymore."),e=()=>import("./chunk-XLQZLLWS.js").then(n=>n.createWorker()),!(!i._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")))return e();let t=navigator.userAgentData;return t&&t.brands.some(({brand:n})=>/Chromium/i.test(n))&&/mac ?OS/i.test(t.platform)&&await t.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:n,platformVersion:r})=>/arm/i.test(n||"arm")&&13<=parseInt(r||"13")).catch(()=>!0)?e():new BarcodeDetector({formats:["qr_code"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(e){let t=Math.round(.6666666666666666*Math.min(e.videoWidth,e.videoHeight));return{x:Math.round((e.videoWidth-t)/2),y:Math.round((e.videoHeight-t)/2),width:t,height:t,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var e=this.$video,t=e.videoWidth,n=e.videoHeight,r=e.offsetWidth,s=e.offsetHeight,l=e.offsetLeft,S=e.offsetTop,d=window.getComputedStyle(e),h=d.objectFit,g=t/n,v=r/s;switch(h){case"none":var _=t,R=n;break;case"fill":_=r,R=s;break;default:(h==="cover"?g>v:g<v)?(R=s,_=R*g):(_=r,R=_/g),h==="scale-down"&&(_=Math.min(_,t),R=Math.min(R,n))}var[D,p]=d.objectPosition.split(" ").map((c,m)=>{let C=parseFloat(c);return c.endsWith("%")?(m?s-R:r-_)*C/100:C});d=this._scanRegion.width||t,v=this._scanRegion.height||n,h=this._scanRegion.x||0;var a=this._scanRegion.y||0;g=this.$overlay.style,g.width=`${d/t*_}px`,g.height=`${v/n*R}px`,g.top=`${S+p+a/n*R}px`,n=/scaleX\(-1\)/.test(e.style.transform),g.left=`${l+(n?r-D-_:D)+(n?t-h-d:h)/t*_}px`,g.transform=e.style.transform}})}static _convertPoints(e,t){if(!t)return e;let n=t.x||0,r=t.y||0,s=t.width&&t.downScaledWidth?t.width/t.downScaledWidth:1;t=t.height&&t.downScaledHeight?t.height/t.downScaledHeight:1;for(let l of e)l.x=l.x*s+n,l.y=l.y*t+r;return e}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var e=Date.now()-this._lastScanTimestamp,t=1e3/this._maxScansPerSecond;e<t&&await new Promise(r=>setTimeout(r,t-e)),this._lastScanTimestamp=Date.now();try{var n=await i.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(r){if(!this._active)return;this._onDecodeError(r)}!i._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=i.createQrEngine()),n?(this._onDecode?this._onDecode(n):this._legacyOnDecode&&this._legacyOnDecode(n.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} ${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",n.cornerPoints.map(({x:r,y:s})=>`${r},${s}`).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(e){e!==i.NO_QR_CODE_FOUND&&console.log(e)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let e=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",t=[{width:{min:1024}},{width:{min:768}},{}],n=t.map(r=>Object.assign({},r,{[e]:{exact:this._preferredCamera}}));for(let r of[...n,...t])try{let s=await navigator.mediaDevices.getUserMedia({video:r,audio:!1}),l=this._getFacingMode(s)||(r.facingMode?this._preferredCamera:this._preferredCamera==="environment"?"user":"environment");return{stream:s,facingMode:l}}catch{}throw"Camera not found."}async _restartVideoStream(){let e=this._paused;await this.pause(!0)&&!e&&this._active&&await this.start()}static _stopVideoStream(e){for(let t of e.getTracks())t.stop(),e.removeTrack(t)}_setVideoMirror(e){this.$video.style.transform="scaleX("+(e==="user"?-1:1)+")"}_getFacingMode(e){return(e=e.getVideoTracks()[0])?/rear|back|environment/i.test(e.label)?"environment":/front|user|face/i.test(e.label)?"user":null:null}static _drawToCanvas(e,t,n,r=!1){n=n||document.createElement("canvas");let s=t&&t.x?t.x:0,l=t&&t.y?t.y:0,S=t&&t.width?t.width:e.videoWidth||e.width,d=t&&t.height?t.height:e.videoHeight||e.height;return r||(r=t&&t.downScaledWidth?t.downScaledWidth:S,t=t&&t.downScaledHeight?t.downScaledHeight:d,n.width!==r&&(n.width=r),n.height!==t&&(n.height=t)),t=n.getContext("2d",{alpha:!1}),t.imageSmoothingEnabled=!1,t.drawImage(e,s,l,S,d,0,0,n.width,n.height),[n,t]}static async _loadImage(e){if(e instanceof Image)return await i._awaitImageLoad(e),e;if(e instanceof HTMLVideoElement||e instanceof HTMLCanvasElement||e instanceof SVGImageElement||"OffscreenCanvas"in window&&e instanceof OffscreenCanvas||"ImageBitmap"in window&&e instanceof ImageBitmap)return e;if(e instanceof File||e instanceof Blob||e instanceof URL||typeof e=="string"){let t=new Image;t.src=e instanceof File||e instanceof Blob?URL.createObjectURL(e):e.toString();try{return await i._awaitImageLoad(t),t}finally{(e instanceof File||e instanceof Blob)&&URL.revokeObjectURL(t.src)}}else throw"Unsupported image type."}static async _awaitImageLoad(e){e.complete&&e.naturalWidth!==0||await new Promise((t,n)=>{let r=s=>{e.removeEventListener("load",r),e.removeEventListener("error",r),s instanceof ErrorEvent?n("Image load error"):t()};e.addEventListener("load",r),e.addEventListener("error",r)})}static async _postWorkerMessage(e,t,n,r){return i._postWorkerMessageSync(await e,t,n,r)}static _postWorkerMessageSync(e,t,n,r){if(!(e instanceof Worker))return-1;let s=i._workerMessageId++;return e.postMessage({id:s,type:t,data:n},r),s}}return i.DEFAULT_CANVAS_SIZE=400,i.NO_QR_CODE_FOUND="No QR code found",i._disableBarcodeDetector=!1,i._workerMessageId=0,i})(),Pi=Fo;var Ti=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=U({type:i,selectors:[["app-camera-flip-icon"]],decls:5,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","version","1.1","id","\u5716\u5C64_1","x","0","y","0","viewBox","0 0 100 100",0,"xml","space","preserve"],["d","M70.492 25.691H59.347l-2.039-5.253a3.252 3.252 0 0 0-3.081-2.209h-8.454a3.254 3.254 0 0 0-3.081 2.209l-2.039 5.253H29.508a4.975 4.975 0 0 0-4.975 4.975v25.585a4.975 4.975 0 0 0 4.975 4.975h40.984a4.975 4.975 0 0 0 4.975-4.975V30.666a4.975 4.975 0 0 0-4.975-4.975z","fill","none","stroke","currentColor","stroke-width","4","stroke-miterlimit","10"],["cx","50","cy","43.459","r","11.371","fill","none","stroke","currentColor","stroke-width","4","stroke-miterlimit","10"],["d","M7.5 56.45c0 9.087 11.913 16.84 29.751 19.457l-.785 5.864 8.675-6.629-6.625-8.676-.782 5.842c-15.475-2.289-26.602-8.881-26.602-15.858 0-3.102 2.2-6.225 6.245-8.932v-4.26C10.916 46.924 7.5 51.482 7.5 56.45z","fill","currentColor"],["d","M82.624 43.262v4.259c4.043 2.706 6.244 5.823 6.244 8.929 0 9.073-17.8 16.739-38.869 16.739v3.632c23.832 0 42.5-8.948 42.5-20.37.001-4.9-3.507-9.571-9.875-13.189z","fill","currentColor"]],template:function(e,t){e&1&&(xe(),Ne(0,"svg",0),lt(1,"path",1)(2,"circle",2)(3,"path",3)(4,"path",4),Fe())},dependencies:[Z],encapsulation:2})};function Vo(i,o){if(i&1){let e=V();f(0,"div",16),T("click",function(){E(e);let n=M(2);return I(n.flipCamera())}),L(1,"app-camera-flip-icon",17),f(2,"div",18),k(3),O(4,"translate"),y()()}i&2&&(u(3),z(" ",P(4,1,"flip-camera")," "))}function Bo(i,o){if(i&1){let e=V();f(0,"div",4)(1,"div",5)(2,"div"),F(3,Vo,5,3,"div",6),y(),f(4,"button",7),T("click",function(){E(e),M();let n=B(1);return I(n.dismiss())}),k(5," \u2715 "),y()()(),f(6,"div",8),L(7,"video",9,1),f(9,"button",10),T("click",function(){E(e);let n=B(18);return I(n.click())}),f(10,"div",11),L(11,"ion-icon",12),f(12,"div",13),k(13),O(14,"translate"),y()(),f(15,"span",14),k(16,"+"),y()(),f(17,"input",15,2),T("change",function(n){E(e);let r=M();return I(r.scanImageForQr(n))}),y()()}if(i&2){let e=M();u(3),b("ngIf",e.cameraList.length>1),u(10),ae(P(14,2,"album"))}}var Di=class i extends $e{onScanned=new K;ngOnInit(){}code;qrScanner;qrcode;async scanImageForQr(o){console.log(o);let e=o.target.files[0];console.log("event",o),console.log(e);let t=e.type;if(!["image/gif","image/jpeg","image/png"].includes(t)){alert("File is not an image!");return}Pi.scanImage(e).then(r=>this.onScanned.emit({data:r})).catch(r=>alert("No Qr code found"))}cameraList=[];async handlePresent(){await this.getCameraList(),this.selectedCamera=0,this.qrScanner=new Pi(document.getElementById("QrScanner"),o=>this.onScanned.emit(o),{highlightScanRegion:!0}),this.qrScanner.start(),this.qrcode&&(this.qrcode.callback=o=>{console.log("data",o)}),this.cdr.markForCheck()}selectedCamera=0;async getCameraList(){this.cameraList=await Pi.listCameras(),this.cameraList.length===1&&!this.cameraList[0].id&&(this.cameraList[0].id="environment",this.cameraList.push({id:"user",label:"Camera 2"}))}async cycleCamera(){this.selectedCamera++,this.selectedCamera>this.cameraList.length-1&&(this.selectedCamera=0),await this.qrScanner.setCamera(this.cameraList[this.selectedCamera].id)}handleDismiss(){super.handleDismiss(),this.stop()}stop(){this.qrScanner?.stop()}facingMode="environment";async flipCamera(){this.facingMode=this.facingMode==="environment"?"user":"environment",await this.qrScanner.setCamera(this.facingMode)}ngOnDestroy(){super.ngOnDestroy(),this.stop()}static \u0275fac=(()=>{let o;return function(t){return(o||(o=Ni(i)))(t||i)}})();static \u0275cmp=U({type:i,selectors:[["app-qr-scan-modal"]],outputs:{onScanned:"onScanned"},features:[Q],decls:3,vars:1,consts:[["modal",""],["QrScanner",""],["inputFile",""],[3,"didPresent","didDismiss","isOpen"],[1,"absolute","top-0","w-full","left-0","right-0","z-10","bg-black/30"],[1,"flex","justify-between","items-center","px-2","py-1"],["class","flex items-center cursor-pointer",3,"click",4,"ngIf"],[1,"outline-none","text-5xl","text-primary",3,"click"],[1,"light-box-modal","flex","items-center"],["id","QrScanner"],[1,"absolute","cursor-pointer","z-10","bottom-1","left-1/2","transform","-translate-x-1/2","rounded-full","w-14","h-14","bg-black/20","hover:bg-black/50","flex","items-center","justify-center","text-white",3,"click"],[1,"text-center"],["name","images-outline",1,"w-8","h-8"],[1,"text-xs","leading-3","-mt-1.5","text-[10px]"],[1,"absolute","right-1","top-1","text-sm"],["type","file","type","file","accept","image/*",1,"hidden",3,"change"],[1,"flex","items-center","cursor-pointer",3,"click"],[1,"w-10","block","text-white","mx-auto"],[1,"text-xl","ml-2","text-white","capitalize"]],template:function(e,t){if(e&1){let n=V();f(0,"ion-modal",3,0),T("didPresent",function(){return E(n),I(t.handlePresent())})("didDismiss",function(){return E(n),I(t.handleDismiss())}),F(2,Bo,19,4,"ng-template"),y()}e&2&&b("isOpen",t.isOpen)},dependencies:[Z,Pe,ge,he,Ce,pi,Sn,En,Ti,Te],styles:["ion-modal[_ngcontent-%COMP%]{--backdrop-opacity: .8;--height: 100%;--width: 100%;--background: white}.light-box-modal[_ngcontent-%COMP%]{height:100%}video[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover}  .scan-region-highlight{box-shadow:0 0 0 500vw #0000004d}  .scan-region-highlight svg{stroke:#ff7e18!important}"]})};var zo=new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),Tt=class{static number(o){if(o.value){if(!/^[0-9]*$/.test(o.value))return{error:!0}}return{}}static phone(o){if(o.value){if(!/^1(3\d|4[5-9]|5[0-35-9]|6[567]|7[0-8]|8\d|9[0-35-9])\d{8}$/.test(o.value))return{error:!0}}else return{required:!0};return{}}static userName(o){if(o.value){if(!/(?![A-Z]*$)(?![a-z]*$)(?![0-9]*$)(?![^a-zA-Z0-9]*$)/.test(o.value)||/[\u4e00-\u9fa5]/.test(o.value))return{error:!0};if(o.value.trim().length<6)return{length:!0}}else return{required:!0};return{}}static password(o){if(o.value)if(/(?![A-Z]*$)(?![a-z]*$)(?![0-9]*$)(?![^a-zA-Z0-9]*$)/.test(o.value)){if(o.value.trim().length<6)return{length:!0}}else return{error:!0};else return{required:!0};return{}}static email(o){if(o.value){if(!zo.test(o.value))return{error:!0}}return{}}};var ki=class i{constructor(o,e,t){this.router=o;this.activatedRoute=e;this.storage=t}saveRecommenderId(){let o=this.router.events.pipe(Wt(e=>e instanceof Cn)).subscribe(e=>{let t=this.activatedRoute.snapshot.queryParamMap.get("recommenderId");t&&this.storage.set(Ze,t,{expires:new Date(Date.now()+1728e5).toUTCString()});let n=this.activatedRoute.snapshot.queryParamMap.get("sharerId");n&&this.storage.set(mt,n,{expires:new Date(Date.now()+1728e5).toUTCString()});let r=this.activatedRoute.snapshot.queryParamMap.get("useNewCode");n&&this.storage.set(Xe,r,{expires:new Date(Date.now()+1728e5).toUTCString()}),o.unsubscribe()})}setRecommenderId(o){this.storage.set(Ze,o)}setIsUseNewShare(o){this.storage.set(Xe,o)}getRecommenderId(){return this.storage.get(Ze)||""}getSharerId(){return this.storage.get(mt)||""}getIsUseNewShare(){return this.storage.get(Xe)||""}static \u0275fac=function(e){return new(e||i)(de(wn),de(pt),de(si))};static \u0275prov=fe({token:i,factory:i.\u0275fac,providedIn:"root"})};var Uo=[[["","header",""]]],$o=["[header]"],br=()=>({value:!0});function Go(i,o){i&1&&(f(0,"div",30),k(1),O(2,"translate"),y()),i&2&&(u(),z(" ",P(2,1,"register-loot-box-tooltip")," "))}function Wo(i,o){if(i&1&&(f(0,"div",23)(1,"div",24),k(2),O(3,"translate"),y(),L(4,"ion-icon",25),f(5,"div",26),k(6),O(7,"translate"),y(),L(8,"ion-icon",27),f(9,"div",28),L(10,"ion-icon",29),y(),F(11,Go,3,3,"ng-template",null,3,ce),y()),i&2){let e=B(12),t=M();u(),N("active",t.step===t.RegisterStep.BIND_EMAIL_PHONE),u(),z(" ",P(3,7,"step-1")," "),u(3),N("active",t.step===t.RegisterStep.CREATE_USERNAME_PASSWORD),u(),z(" ",P(7,9,"step-2")," "),u(3),b("appTooltip",e)}}function qo(i,o){if(i&1&&(f(0,"div",49),k(1),O(2,"translate"),y()),i&2){let e,t=M(2);u(),z(" ",P(2,1,(e=t.form.get("email"))!=null&&e.errors&&((e=t.form.get("email"))!=null&&e.errors.exists)?"register-email-already-exists":"register-email-error")," ")}}function Yo(i,o){if(i&1&&(f(0,"div",49),k(1),O(2,"translate"),y()),i&2){let e,t=M(2);u(),z(" ",P(2,1,(e=t.form.get("mobile"))!=null&&e.errors&&((e=t.form.get("mobile"))!=null&&e.errors.exists)?"register-phone-number-already-exists":"register-phone-number-invalid")," ")}}function Qo(i,o){if(i&1){let e=V();f(0,"button",50),T("click",function(){E(e);let n=M(2);return I(n.onGetCode("sms"))}),k(1),O(2,"translate"),y()}if(i&2){let e,t,n=o.ngLet,r=M(2);N("error-field",!((e=r.form.get("verifyCode"))!=null&&e.value)&&(((e=r.form.get("verifyCode"))==null?null:e.dirty)||((e=r.form.get("verifyCode"))==null?null:e.touched))),b("disabled",n>0||!((t=r.form.get("mobile"))!=null&&t.value)||((t=r.form.get("mobile"))==null?null:t.invalid)),u(),z(" ",n||P(2,4,"sms")," ")}}function Ko(i,o){if(i&1){let e=V();f(0,"button",50),T("click",function(){E(e);let n=M(2);return I(n.onGetCode("email"))}),k(1),O(2,"translate"),y()}if(i&2){let e,t,n=o.ngLet,r=M(2);N("error-field",!((e=r.form.get("verifyCode"))!=null&&e.value)&&(((e=r.form.get("verifyCode"))==null?null:e.dirty)||((e=r.form.get("verifyCode"))==null?null:e.touched))),b("disabled",n>0||!((t=r.form.get("email"))!=null&&t.value)||((t=r.form.get("email"))==null?null:t.invalid)),u(),z(" ",n||P(2,4,"email")," ")}}function Zo(i,o){if(i&1&&(f(0,"div",51),k(1),O(2,"translate"),y()),i&2){let e,t=M(2);u(),z(" ",P(2,1,(e=t.form.get("verifyCode"))!=null&&e.errors&&((e=t.form.get("verifyCode"))!=null&&e.errors.invalid)?"verification-code-incorrect":"register-verification-empty-error")," ")}}function Xo(i,o){i&1&&(f(0,"div",52),L(1,"span",53),y()),i&2&&b("@upHide",Be(1,br))}function Jo(i,o){i&1&&(f(0,"span",54),k(1),O(2,"translate"),y()),i&2&&(b("@upHide",Be(4,br)),u(),z(" ",P(2,2,"next")," "))}function ea(i,o){if(i&1&&(f(0,"div",55),k(1),O(2,"translate"),y()),i&2){let e=M(2);u(),Fi("",P(2,2,"inviter"),": ",e.form.get("newCode").value)}}function ta(i,o){if(i&1&&(f(0,"span"),k(1),y()),i&2){let e=M(3);u(),ae(e.flushingStatus==="success"?"Cleared!":"Clear Inviter")}}function ia(i,o){i&1&&L(0,"app-loading-spinner",58)}function na(i,o){if(i&1){let e=V();f(0,"button",56),T("click",function(){E(e);let n=M(2);return I(n.flushCookies())}),F(1,ta,2,1,"span",57)(2,ia,1,0,"ng-template",null,5,ce),y()}if(i&2){let e=B(3),t=M(2);u(),b("ngIf",t.flushingStatus!=="flushing")("ngIfElse",e)}}function ra(i,o){if(i&1){let e=V();f(0,"button",59),T("click",function(){E(e);let n=M(2);return I(n.skipStep())}),k(1," Skip Step "),y()}}function oa(i,o){if(i&1){let e=V();f(0,"div",31)(1,"div",32)(2,"div",33),L(3,"ion-input",34,4),O(5,"translate"),y(),F(6,qo,3,3,"div",35),y(),f(7,"div",36)(8,"app-phone-control",37),O(9,"translate"),T("onSelectPhoneCountry",function(n){E(e);let r=M();return I(r.onSelectPhoneCountry(n))})("onPhoneNumberChange",function(n){E(e);let r=M();return I(r.onPhoneNumberChange(n))}),y(),F(10,Yo,3,3,"div",35),y(),f(11,"div",38)(12,"div",39),L(13,"ion-input",40),O(14,"translate"),F(15,Qo,3,6,"button",41),O(16,"async"),F(17,Ko,3,6,"button",41),O(18,"async"),y(),F(19,Zo,3,3,"div",42),y(),f(20,"button",43),T("click",function(){E(e);let n=M();return I(n.handleNext())}),F(21,Xo,2,2,"div",44)(22,Jo,3,5,"span",45),y(),F(23,ea,3,4,"div",46)(24,na,4,2,"button",47)(25,ra,2,0,"button",48),y()}if(i&2){let e,t,n,r,s,l,S,d=M();b("hidden",d.step!==d.RegisterStep.BIND_EMAIL_PHONE)("formGroup",d.form),u(),b("ngClass",d.formAnimation),u(2),N("error-field",!((e=d.form.get("email"))!=null&&e.valid)&&(((e=d.form.get("email"))==null?null:e.dirty)||((e=d.form.get("email"))==null?null:e.touched))),b("placeholder",Ve(P(5,27,"email"))),u(3),b("ngIf",((t=d.form.get("email"))==null?null:t.invalid)&&(((t=d.form.get("email"))==null?null:t.dirty)||((t=d.form.get("email"))==null?null:t.touched))),u(),b("ngClass",d.formAnimation),u(),N("error-field",!((n=d.form.get("mobile"))!=null&&n.valid)&&(((n=d.form.get("mobile"))==null?null:n.dirty)||((n=d.form.get("mobile"))==null?null:n.touched))),b("placeholder",P(9,29,"phone-number")),u(2),b("ngIf",((r=d.form.get("mobile"))==null?null:r.invalid)&&(((r=d.form.get("mobile"))==null?null:r.dirty)||((r=d.form.get("mobile"))==null?null:r.touched))),u(),b("ngClass",d.formAnimation),u(2),N("error-field",!((s=d.form.get("verifyCode"))!=null&&s.valid)&&(((s=d.form.get("verifyCode"))==null?null:s.dirty)||((s=d.form.get("verifyCode"))==null?null:s.touched))),b("placeholder",P(14,31,"verification-code-placeholder")),u(2),b("ngLet",P(16,33,d.userService.smsTimeRemaining$)),u(2),b("ngLet",P(18,35,d.userService.emailTimeRemaining$)),u(2),b("ngIf",((l=d.form.get("verifyCode"))==null?null:l.invalid)&&(((l=d.form.get("verifyCode"))==null?null:l.dirty)||((l=d.form.get("verifyCode"))==null?null:l.touched))),u(),N("disabled",!((S=d.form.get("email"))!=null&&S.value)&&!((S=d.form.get("mobile"))!=null&&S.value)||((S=d.form.get("verifyCode"))==null?null:S.invalid)||((S=d.form.get("email"))==null?null:S.invalid)||((S=d.form.get("mobile"))==null?null:S.invalid)),u(),b("ngIf",d.isLoading),u(),b("ngIf",!d.isLoading),u(),b("ngIf",d.hasRecommenderInURL),u(),b("ngIf",d.showHiddenOption&&d.hasRecommenderInURL),u(),b("ngIf",d.showHiddenOption)}}function aa(i,o){if(i&1){let e=V();f(0,"div",68)(1,"div",69)(2,"span",70),xe(),f(3,"svg",71),L(4,"path",72),y()(),Li(),f(5,"ion-input",73),O(6,"translate"),T("ionInput",function(n){E(e);let r=M(2);return I(r.handleInviteCodeChange(n))})("ionBlur",function(n){E(e);let r=M(2);return I(r.handleInviteCodeChange(n))}),f(7,"button",74),T("touchstart",function(n){E(e);let r=M(2);return I(r.openCamera(n))})("click",function(n){E(e);let r=M(2);return I(r.openCamera(n))}),L(8,"img",75),y()()()()}if(i&2){let e,t=M(2);b("ngClass",t.formAnimation),u(5),N("error-field",((e=t.form.get("newCode"))==null?null:e.invalid)&&(((e=t.form.get("newCode"))==null?null:e.dirty)||((e=t.form.get("newCode"))==null?null:e.touched))),b("placeholder",P(6,4,"enter-invitation-code"))}}function sa(i,o){if(i&1){let e=V();f(0,"div",68)(1,"div",69)(2,"span",70),xe(),f(3,"svg",71),L(4,"path",72),y()(),Li(),f(5,"ion-input",76),O(6,"translate"),T("ionInput",function(n){E(e);let r=M(2);return I(r.handleInviteUsernameChange(n))})("ionBlur",function(n){E(e);let r=M(2);return I(r.handleInviteUsernameChange(n))}),y()()()}if(i&2){let e,t=M(2);b("ngClass",t.formAnimation),u(5),N("error-field",((e=t.form.get("recommenderId"))==null?null:e.invalid)&&(((e=t.form.get("recommenderId"))==null?null:e.dirty)||((e=t.form.get("recommenderId"))==null?null:e.touched))),b("placeholder",P(6,4,"enter-inviter-username"))}}function la(i,o){if(i&1){let e=V();f(0,"button",59),T("click",function(){E(e);let n=M(2);return I(n.skipStep())}),k(1," Skip Step "),y()}}function ca(i,o){if(i&1){let e=V();f(0,"div",31)(1,"div",60)(2,"div",61,6)(4,"div",62)(5,"div",63,7)(7,"div",64),T("click",function(){E(e);let n=M();return I(n.handleInviteTabClick(0))}),k(8),O(9,"translate"),y(),f(10,"div",64),T("click",function(){E(e);let n=M();return I(n.handleInviteTabClick(1))}),k(11),O(12,"translate"),y()()()(),f(13,"div",65),F(14,aa,9,6,"div",66)(15,sa,7,6,"div",66),y()(),f(16,"button",67),T("click",function(){E(e);let n=M();return I(n.handleNext())}),k(17),O(18,"translate"),y(),F(19,la,2,0,"button",48),y()}if(i&2){let e,t=M();b("hidden",t.step!==t.RegisterStep.ADD_INVITER)("formGroup",t.form),u(7),N("active",t.activeInviterTab===0),u(),z(" ",P(9,12,"invitation-code-tab")," "),u(2),N("active",t.activeInviterTab===1),u(),z(" ",P(12,14,"inviter-username-tab")," "),u(3),b("ngIf",t.activeInviterTab==0),u(),b("ngIf",t.activeInviterTab==1),u(2),z(" ",P(18,16,(e=t.form.get("useNewCode"))!=null&&e.value&&((e=t.form.get("newCode"))!=null&&e.value)||!((e=t.form.get("useNewCode"))!=null&&e.value)&&((e=t.form.get("recommenderId"))!=null&&e.value)?"next":"skip")," "),u(2),b("ngIf",t.showHiddenOption)}}function da(i,o){if(i&1&&(f(0,"div",49),k(1),O(2,"translate"),y()),i&2){let e,t=M(2);u(),z(" ",P(2,1,(e=t.form.get("username"))!=null&&e.errors&&((e=t.form.get("username"))!=null&&e.errors.length)?"register-user-name-validation-symbols-number":"register-user-name-validation-symbols-types")," ")}}function pa(i,o){if(i&1&&(f(0,"div",49),k(1),O(2,"translate"),y()),i&2){let e,t=M(2);u(),z(" ",P(2,1,(e=t.form.get("password"))!=null&&e.errors&&((e=t.form.get("password"))!=null&&e.errors.length)?"register-password-validation-symbols-number":"register-password-validation-symbols-types")," ")}}function ua(i,o){i&1&&(f(0,"div",49),k(1),O(2,"translate"),y()),i&2&&(u(),z(" ",P(2,1,"register-passwords-not-match-error")," "))}function ma(i,o){if(i&1){let e=V();f(0,"button",59),T("click",function(){E(e);let n=M(2);return I(n.skipStep())}),k(1," Skip Step "),y()}}function ha(i,o){if(i&1&&(f(0,"div",85),k(1),O(2,"translate"),y()),i&2){let e=M(2);u(),Fi("",P(2,2,"inviter"),": ",e.form.get("useNewCode").value?e.form.get("newCode").value:e.form.get("recommenderId").value)}}function ga(i,o){i&1&&L(0,"app-eye-open")}function fa(i,o){if(i&1){let e=V();f(0,"div",31)(1,"div",77)(2,"div",78),k(3),O(4,"translate"),y(),f(5,"div",33),L(6,"ion-input",79,8),O(8,"translate"),y(),F(9,da,3,3,"div",35),y(),f(10,"div",80)(11,"div",78),k(12),O(13,"translate"),y(),f(14,"div",33),L(15,"ion-input",81,9),O(17,"translate"),f(18,"div",82,10),L(20,"app-eye-close"),y(),f(21,"div",82,11),L(23,"app-eye-open"),y()(),F(24,pa,3,3,"div",35),y(),f(25,"div",38)(26,"div",78),k(27),O(28,"translate"),y(),f(29,"div",33),L(30,"ion-input",83,12),O(32,"translate"),f(33,"div",82,13),L(35,"app-eye-close"),y(),f(36,"div",82,14),L(38,"app-eye-open"),y()(),F(39,ua,3,3,"div",35),y(),f(40,"button",43),T("click",function(){E(e);let n=M();return I(n.handleNext())}),k(41),O(42,"translate"),y(),F(43,ma,2,0,"button",48)(44,ha,3,4,"div",84)(45,ga,1,0,"ng-template",null,15,ce),y()}if(i&2){let e,t,n,r,s,l,S,d,h,g,v=B(19),_=B(22),R=B(34),D=B(37),p=M();b("hidden",p.step!==p.RegisterStep.CREATE_USERNAME_PASSWORD)("formGroup",p.form),u(),b("ngClass",p.formAnimation),u(),N("error-label",((e=p.form.get("username"))==null?null:e.invalid)&&(((e=p.form.get("username"))==null?null:e.dirty)||((e=p.form.get("username"))==null?null:e.touched))),u(),ae(P(4,40,"create-username")),u(3),N("error-field",((t=p.form.get("username"))==null?null:t.invalid)&&(((t=p.form.get("username"))==null?null:t.dirty)||((t=p.form.get("username"))==null?null:t.touched))),b("placeholder",Ve(P(8,42,"username"))),u(3),b("ngIf",((n=p.form.get("username"))==null?null:n.invalid)&&(((n=p.form.get("username"))==null?null:n.dirty)||((n=p.form.get("username"))==null?null:n.touched))),u(),b("ngClass",p.formAnimation),u(),N("error-label",((r=p.form.get("password"))==null?null:r.invalid)&&(((r=p.form.get("password"))==null?null:r.dirty)||((r=p.form.get("password"))==null?null:r.touched))),u(),ae(P(13,44,"create-password")),u(3),N("error-field",((s=p.form.get("password"))==null?null:s.invalid)&&(((s=p.form.get("password"))==null?null:s.dirty)||((s=p.form.get("password"))==null?null:s.touched))),b("placeholder",Ve(P(17,46,"password")))("eyeClose",v)("eyeOpen",_)("clearOnEdit",!1),u(9),b("ngIf",((l=p.form.get("password"))==null?null:l.invalid)&&(((l=p.form.get("password"))==null?null:l.dirty)||((l=p.form.get("password"))==null?null:l.touched))),u(),b("ngClass",p.formAnimation),u(),N("error-label",((S=p.form.get("confirmPassword"))==null?null:S.invalid)&&(((S=p.form.get("confirmPassword"))==null?null:S.dirty)||((S=p.form.get("confirmPassword"))==null?null:S.touched))),u(),ae(P(28,48,"confirm-password")),u(3),N("error-field",((d=p.form.get("confirmPassword"))==null?null:d.invalid)&&(((d=p.form.get("confirmPassword"))==null?null:d.dirty)||((d=p.form.get("confirmPassword"))==null?null:d.touched))),b("placeholder",Ve(P(32,50,"confirm-password")))("eyeClose",R)("eyeOpen",D)("clearOnEdit",!1),u(9),b("ngIf",((h=p.form.get("confirmPassword"))==null?null:h.invalid)&&(((h=p.form.get("confirmPassword"))==null?null:h.dirty)||((h=p.form.get("confirmPassword"))==null?null:h.touched))),u(),N("disabled",p.form.invalid),u(),z(" ",P(42,52,"register-confirm")," "),u(2),b("ngIf",p.showHiddenOption),u(),b("ngIf",((g=p.form.get("useNewCode"))==null?null:g.value)&&((g=p.form.get("newCode"))==null?null:g.value)||!((g=p.form.get("useNewCode"))!=null&&g.value)&&((g=p.form.get("recommenderId"))==null?null:g.value))}}function va(i,o){if(i&1){let e=V();f(0,"app-qr-scan-modal",86),T("onScanned",function(n){E(e);let r=M();return I(r.handleQrScanned(n))}),Vt("isOpenChange",function(n){E(e);let r=M();return Ft(r.isOpenQrScanModal,n)||(r.isOpenQrScanModal=n),I(n)}),y()}if(i&2){let e=M();Nt("isOpen",e.isOpenQrScanModal)}}var Ri=class i extends $e{constructor(e,t,n,r,s,l,S,d,h){super();this.activeRoute=e;this.fb=t;this.referralService=n;this.ngZone=r;this.storage=s;this.userService=l;this.animationCtrl=S;this.authService=d;this.themeService=h}onFinish=new K;onFailed=new K;form;hasRecommenderInURL=!1;step=1;flushingStatus;showHiddenOption=!1;showPassword=!1;showConfirmPassword=!1;isFailed=!1;isFormDirty=!1;isLoading=!1;isOpenCaptchaModal=!1;isOpenQrScanModal=!1;scaleInAnimation=gi;AuthMode=ut;RegisterStep=li;type="register";formAnimation="fade-from-right";captchaType="sendSms";captchaVerifyCode=null;isRollerCoaster=!1;activeInviterTab=0;ngOnInit(){this.initForm(),this.isRollerCoaster=this.router.url.startsWith("/roller-coaster")}ngOnDestroy(){super.ngOnDestroy()}confirmationValidator=e=>{if(e.value){if(!Object.is(e.value,this.form.get("password")?.value))return{confirm:!0,error:!0}}else return{required:!0};return{}};initForm(){let e=this.activeRoute.snapshot.queryParams,t=e.recommenderId||this.referralService.getRecommenderId()||e.sharerId||this.referralService.getSharerId()||null;this.hasRecommenderInURL=!!t,console.log(t,this.hasRecommenderInURL),this.form=this.fb.group({username:[null,[Tt.userName]],password:[null,[Tt.password]],confirmPassword:[null,[Se.required,this.confirmationValidator]],mobileArea:["+86"],mobile:[null],email:[null,Tt.email],verifyCode:[null,[Se.required]],recommenderId:[null],useNewCode:[!0],newCode:[this.hasRecommenderInURL?t:null]}),console.log("formdata",this.form.getRawValue())}flushCookies(){G.isBrowser&&!this.flushingStatus&&(this.flushingStatus="flushing",_e(600).subscribe(()=>{this.storage.remove(Ze),this.storage.remove(mt),this.storage.remove(Xe),this.storage.remove(Vi),this.flushingStatus="success",this.cdr.detectChanges(),this.form.get("recommenderId")?.setValue(null),this.form.get("recommenderId")?.enable(),this.hasRecommenderInURL=!1,this.cdr.detectChanges(),_e(1500).subscribe(()=>{this.flushingStatus="",this.cdr.detectChanges()})}))}registerHasFailed(){G.isBrowser&&(this.isFailed=!0,this.onFailed.emit(this.isFailed),this.cdr.detectChanges(),setTimeout(()=>{this.isFailed=!1,this.onFailed.emit(this.isFailed),this.cdr.detectChanges()},800))}openCamera(e){e.preventDefault(),e.stopPropagation(),this.isOpenQrScanModal=!0}handleQrScanned(e){try{let t=new URL(e.data),n=new URLSearchParams(t.search),r=n.get("sharerId")||n.get("recommenderId");this.isOpenQrScanModal=!1,r&&(this.form.get("newCode")?.setValue(r),this.form.get("useNewCode")?.setValue(!0)),this.cdr.detectChanges()}catch{}}skipStep(){switch(this.step){case 1:this.step=this.hasRecommenderInURL?3:2;break;case 2:this.step=3;break;case 3:this.onFinish.emit(),this.userService.bypassLogin(),this.ngZone.run(()=>{this.router.navigateByUrl("/blank",{skipLocationChange:!0}).then(()=>{this.router.navigateByUrl("/")})});break}}handleBack(){switch(this.formAnimation="fade-from-left",this.step){case 1:this.userService.authMode="login";break;case 2:this.step=1;break;case 3:this.step=this.hasRecommenderInURL?1:2;break}}async handleNext(){if(!this.isLoading)switch(this.step){case 1:this.isLoading=!0;let e=await this.validateBidEmailPhoneStep();if(this.isLoading=!1,this.formAnimation="fade-from-right",!e)return;this.step=this.hasRecommenderInURL?3:2;break;case 2:this.formAnimation="fade-from-right",this.step=3;break;case 3:if(!this.form.valid){this.markAsDirty(),this.registerHasFailed();return}this.submit();break}}async validateBidEmailPhoneStep(){let e=this.form.getRawValue();if(!e.email&&!e.mobile||this.form.get("verifyCode")?.invalid||this.form.get("email")?.invalid||this.form.get("mobile")?.invalid)return this.markAsDirty(),this.registerHasFailed(),!1;let t=!0;if(e.email&&this.captchaVerifyCode&&(await ot(this.authService.checkEmailValidity(e.email,this.captchaVerifyCode)))?.data?.isRegistered&&(this.form.get("email")?.setErrors({exists:!0}),t=!1),e.mobile&&this.captchaVerifyCode&&(await ot(this.authService.checkMobileValidity({mobile:e.mobile,mobileArea:e.mobileArea},this.captchaVerifyCode)))?.data?.isRegistered&&(this.form.get("mobile")?.setErrors({exists:!0}),t=!1),e.verifyCode){let n=this.captchaType==="sendEmail"?this.authService.checkEmailCodeValidity({address:e.email,emailCode:e.verifyCode,type:"register"}):this.authService.checkSMSCodeValidity({mobile:e.mobile,mobileArea:e.mobileArea,smsCode:e.verifyCode,method:"register"});(await ot(n)).code!=0&&(this.form.get("verifyCode")?.setErrors({invalid:!0}),t=!1)}return t}markAsDirty(){Object.values(this.form.controls).forEach(e=>{e.invalid&&(e.markAsDirty(),e.updateValueAndValidity({onlySelf:!0}))})}submit(){let e=this.form.getRawValue(),t={mobileArea:e.mobileArea,mobile:e.mobile?e.mobile.toString():null,email:e.email?e.email:null,verifyCode:e.verifyCode.toString().trim(),username:e.username.trim(),password:(0,yr.default)(this.form.value.password).toString(),type:this.type,recommenderId:!e.useNewCode&&e.recommenderId?e.recommenderId:null,useNewCode:e.useNewCode&&e.newCode?!0:!e.useNewCode&&e.recommenderId?!1:null,newCode:e.useNewCode&&e.newCode?e.newCode?.toString():null,source:G.isApp?"app":"web"};this.authService.register(t).pipe(q(this.onDestroy$),an(()=>Ke(null))).subscribe(n=>{if(n?.body?.code!==0){n?.body?.code===1001013&&(this.form.patchValue({useNewCode:!1,recommenderId:"",newCode:""}),this.flushCookies()),this.toast.toastError(n?.body.i18nKey||n?.body?.message);return}this.toast.toastSuccess(this.i18n.instant("registration-success")),this.handleAutoLogin(n),this.storage.remove(Ze),this.storage.remove(mt),this.storage.remove(Xe),this.storage.remove(Vi)})}async handleAutoLogin(e){if(!e.headers.get("token")){this.router.navigateByUrl("/login").then(()=>{this.onFinish.emit()});return}G.isBrowser&&await Me(_e(300)),this.userService.setToken(e.headers.get("token")),G.isBrowser&&await Me(_e(10)),this.userService.updateUserInfo(),this.onFinish.emit(),G.isBrowser&&await Me(_e(200)),this.ngZone.run(()=>{this.router.navigateByUrl("/blank",{skipLocationChange:!0}).then(()=>{this.router.navigateByUrl("/")})})}onSelectPhoneCountry(e){e&&this.form.get("mobileArea")?.patchValue(e)}onPhoneNumberChange(e){this.form.get("mobile")?.markAsTouched(),this.form.get("mobile")?.patchValue(e)}onGetCode(e){switch(this.type=e,e){case"sms":this.captchaType="sendSms";break;case"email":this.captchaType="sendEmail";break}this.isOpenCaptchaModal=!0}onCaptchaSuccess(e){switch(this.type){case"email":return this.getEmailCode(e);case"sms":return this.getSmsCode(e)}}getSmsCode(e){let{mobile:t,mobileArea:n}=this.form.value;this.authService.sendSMSVerifyCode({method:"register",mobileArea:n||"+86",mobile:t.toString()},e).pipe(q(this.onDestroy$)).subscribe(r=>{if(r.code===7001012){this.form.get("mobile")?.setErrors({exists:!0});return}if(r.code===8){this.form.get("mobile")?.setErrors({invalid:!0});return}if(r.code!==0){this.toast.toastError(r.i18nKey||r.message);return}this.captchaVerifyCode=e,this.userService.startVerificationTimer("sms",60,!0),this.toast.toastSuccess(this.i18n.instant("verify-code-sent")),this.type="sms"})}getEmailCode(e){this.authService.sendEmailVerifyCode({email:this.form.value.email,type:"register"},e).subscribe(t=>{if(t.code===1001006){this.form.get("email")?.setErrors({exists:!0});return}if(t.code!==0){this.toast.toastError(t.i18nKey||t.message);return}this.captchaVerifyCode=e,this.userService.startVerificationTimer("email",60,!0),this.toast.toastSuccess(this.i18n.instant("verify-code-sent")),this.type="email"})}handleInviteCodeChange(e){this.form.patchValue({newCode:e.target.value.replace(/[^a-zA-Z0-9]/g,"")})}handleInviteUsernameChange(e){this.form.patchValue({recommenderId:e.target.value.replace(/[^a-zA-Z0-9]/g,"")})}handleInviteTabClick(e){this.activeInviterTab=e,this.form.patchValue({useNewCode:e==0}),console.log(this.form.value)}static \u0275fac=function(t){return new(t||i)(w(pt),w(bt),w(ki),w(be),w(si),w(ht),w(Ue),w(Ye),w(Pn))};static \u0275cmp=U({type:i,selectors:[["app-register-form"]],outputs:{onFinish:"onFinish",onFailed:"onFailed"},features:[Q],ngContentSelectors:$o,decls:16,vars:9,consts:[["bindEmailPhoneStep",""],["addInviterStep",""],["createUsernamePasswordStep",""],["lootboxTooltip",""],["email",""],["flushing",""],["tabContainer",""],["tabScroll",""],["username",""],["password",""],["eyeClose",""],["eyeOpen",""],["confirmPassword",""],["eyeCloseConfirm",""],["eyeOpenConfirm",""],["hiddenPassword",""],["visibility","hover",3,"autoHeightDisabled"],[1,"auth-form","py-6","flex","flex-col","items-start","justify-center","h-full","relative"],["class","w-full flex items-center justify-between text-xl leading-relaxed font-medium mb-5",4,"ngIf"],[1,"w-full","mb-1.5"],[3,"ngTemplateOutlet"],[3,"isOpen","onScanned","isOpenChange",4,"isBrowser"],[3,"isOpenChange","onSuccess","captchaType","isOpen"],[1,"w-full","flex","items-center","justify-between","text-xl","leading-relaxed","font-medium","mb-5"],[1,"tab-item","justify-center","text-center","py-2","px-1","3xs:px-3","sm:px-5","flex","items-center","fade-in",2,"--delay","100ms"],["name","chevron-forward-outline",1,"text-white","fade-in",2,"--delay","130ms"],[1,"tab-item","justify-center","text-center","py-2","px-1","3xs:px-3","sm:px-5","flex","items-center","fade-in",2,"--delay","160ms"],["name","chevron-forward-outline",1,"text-white","fade-in",2,"--delay","190ms"],[1,"tab-item","relative","justify-center","text-center","py-2","px-1","3xs:px-3","sm:px-5","flex","items-center","fade-in",2,"--delay","220ms",3,"appTooltip"],["name","checkmark-circle-outline",1,"h-16","w-16","text-main-blue"],[1,"p-2"],[1,"w-full",3,"hidden","formGroup"],[1,"mb-8",2,"--delay","100ms",3,"ngClass"],[1,"flex","items-center","mb-4","relative"],["formControlName","email","type","text",1,"w-full","bg-white","rounded-md",3,"placeholder"],["class","text-main-red -mt-3 mb-1.5 ml-px text-sm",4,"ngIf"],[1,"relative","z-1","mb-8",2,"--delay","200ms",3,"ngClass"],[1,"block","w-full","mb-4",3,"onSelectPhoneCountry","onPhoneNumberChange","placeholder"],[2,"--delay","300ms",3,"ngClass"],[1,"flex","items-center","gap-2","mb-6"],["type","string","formControlName","verifyCode",1,"flex-1","bg-white","rounded-md",3,"placeholder"],["class","verification-btn theme-btn whitespace-nowrap text-lg bg-main-yellow text-black h-12 min-w-20 hover:shadow-md rounded-md px-2 py-1 border border-solid font-bold","type","button",3,"disabled","error-field","click",4,"ngLet"],["class","text-main-red -mt-5 mb-1.5 ml-px text-sm",4,"ngIf"],["type","submit",1,"auth-btn","theme-btn","border","border-solid","border-transparent","bg-dark-purple","text-white","w-full","text-2xl","rounded-md","font-medium","relative","hover:bg-primary-color","fade-in","mt-2",2,"--delay","350ms",3,"click"],["class","absolute block left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2",4,"ngIf"],["class","absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2",4,"ngIf"],["class","text-gray-5 font-medium text-sm text-right -mb-3 mt-1 capitalize",4,"ngIf"],["class","flex border-2 rounded-lg bg-green-700 text-white font-medium border-solid border-blue-400 px-4 py-2 text-lg w-full mt-2 mb-3 justify-center",3,"click",4,"ngIf"],["class","flex border-2 rounded-lg bg-green-700 text-white font-medium border-solid border-blue-400 px-4 py-3 text-lg w-full mt-2 -mb-2 justify-center",3,"click",4,"ngIf"],[1,"text-main-red","-mt-3","mb-1.5","ml-px","text-sm"],["type","button",1,"verification-btn","theme-btn","whitespace-nowrap","text-lg","bg-main-yellow","text-black","h-12","min-w-20","hover:shadow-md","rounded-md","px-2","py-1","border","border-solid","font-bold",3,"click","disabled"],[1,"text-main-red","-mt-5","mb-1.5","ml-px","text-sm"],[1,"absolute","block","left-1/2","top-1/2","transform","-translate-x-1/2","-translate-y-1/2"],[1,"spinner"],[1,"absolute","left-1/2","top-1/2","transform","-translate-x-1/2","-translate-y-1/2"],[1,"text-gray-5","font-medium","text-sm","text-right","-mb-3","mt-1","capitalize"],[1,"flex","border-2","rounded-lg","bg-green-700","text-white","font-medium","border-solid","border-blue-400","px-4","py-2","text-lg","w-full","mt-2","mb-3","justify-center",3,"click"],[4,"ngIf","ngIfElse"],[1,"text-gray-3","mx-auto","block","mt-0.5","pt-px","mb-2.5","h-4"],[1,"flex","border-2","rounded-lg","bg-green-700","text-white","font-medium","border-solid","border-blue-400","px-4","py-3","text-lg","w-full","mt-2","-mb-2","justify-center",3,"click"],[1,"flex","flex-col","h-full"],[1,"w-full","ribbon","sticky","rounded-t-md"],[1,"whitespace-nowrap","!px-0","flex"],["appHorizontalScroll","",1,"flex","w-full","relative","flex-1","justify-center"],[1,"inviter-tab-item","w-full",3,"click"],[1,"flex-1","block","h-full","mt-2","pt-2.5","rounded-b-lg","overflow-hidden"],["class","w-full","style","--delay: 100ms",3,"ngClass",4,"ngIf"],["type","submit",1,"auth-btn","theme-btn","border","border-solid","border-transparent","bg-dark-purple","text-white","w-full","text-2xl","rounded-md","font-medium","relative","hover:bg-primary-color","fade-in","mt-1",2,"--delay","200ms",3,"click"],[1,"w-full",2,"--delay","100ms",3,"ngClass"],[1,"flex","items-center","gap-2","mb-6","relative"],[1,"icon-wrapper","flex","items-center","absolute","z-10","left-2.5"],["viewBox","64 64 896 896","focusable","false","fill","currentColor","width","1em","height","1em","data-icon","share-alt","aria-hidden","true"],["d","M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"],["formControlName","newCode","maxlength","20",1,"icon-input","flex-1","bg-white","rounded-md","text-left",3,"ionInput","ionBlur","placeholder"],["fill","clear","slot","end","aria-label","Show/hide",1,"absolute","right-0.5","rounded-sm","p-1","z-50","!pointer-events-auto","hover:bg-black/10","md:hidden",3,"touchstart","click"],["src","/assets/svgs/qr-icon.svg","alt","",1,"h-8"],["formControlName","recommenderId","maxlength","20",1,"icon-input","flex-1","border-2","bg-white","rounded-md","text-left",3,"ionInput","ionBlur","placeholder"],[2,"--delay","100ms",3,"ngClass"],[1,"text-lg","font-bold","text-gray-6"],["formControlName","username","type","text",1,"w-full","border-2","bg-white","rounded-md",3,"placeholder"],[2,"--delay","200ms",3,"ngClass"],["appPasswordToggle","","type","password","formControlName","password",1,"w-full","bg-white","rounded-md",3,"eyeClose","eyeOpen","clearOnEdit","placeholder"],[1,"cursor-pointer","w-7","h-7","flex","justify-center","items-center","z-10","absolute","right-2","top-1/2","transform","-translate-y-1/2","text-gray-4"],["appPasswordToggle","","type","password","formControlName","confirmPassword",1,"w-full","bg-white","rounded-md",3,"eyeClose","eyeOpen","clearOnEdit","placeholder"],["class","text-gray-5 font-medium text-sm text-right -mb-4 mt-2 capitalize fade-in","style","--delay: 350ms",4,"ngIf"],[1,"text-gray-5","font-medium","text-sm","text-right","-mb-4","mt-2","capitalize","fade-in",2,"--delay","350ms"],[3,"onScanned","isOpenChange","isOpen"]],template:function(t,n){if(t&1){let r=V();ct(Uo),dt(0),f(1,"ng-scrollbar",16)(2,"div",17),F(3,Wo,13,11,"div",18),f(4,"form",19),Oe(5,20)(6,20)(7,20),y()()(),F(8,oa,26,37,"ng-template",null,0,ce)(10,ca,20,18,"ng-template",null,1,ce)(12,fa,47,54,"ng-template",null,2,ce)(14,va,1,1,"app-qr-scan-modal",21),f(15,"app-captcha-modal",22),Vt("isOpenChange",function(l){return E(r),Ft(n.isOpenCaptchaModal,l)||(n.isOpenCaptchaModal=l),I(l)}),T("onSuccess",function(l){return E(r),I(n.onCaptchaSuccess(l))}),y()}if(t&2){let r=B(9),s=B(11),l=B(13);u(),b("autoHeightDisabled",!1),u(),N("failed",n.isFailed),u(),b("ngIf",n.step!==n.RegisterStep.ADD_INVITER),u(2),b("ngTemplateOutlet",r),u(),b("ngTemplateOutlet",s),u(),b("ngTemplateOutlet",l),u(8),b("captchaType",n.captchaType),Nt("isOpen",n.isOpenCaptchaModal)}},dependencies:[je,Z,ri,Pe,ze,ge,vt,gt,ft,ci,xn,he,Ce,Pt,He,_t,yt,Di,It,tt,nt,Ct,et,qe,Ci,hi,wt,it,oi,Te],styles:['ng-scrollbar[_ngcontent-%COMP%]{max-height:85vh}ion-input[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;--highlight-color-focused: var(--strong);--highlight-color-valid: var(--strong);font-weight:500;box-shadow:0 10px 15px -3px #0000000d,0 4px 6px -2px #00000008}ion-input.icon-input[_ngcontent-%COMP%]{--padding-start: 22px}ion-input[_ngcontent-%COMP%]     input[type=number]::-webkit-inner-spin-button, ion-input[_ngcontent-%COMP%]     input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;margin:0}ion-input[_ngcontent-%COMP%]     input{font-size:14px!important;height:100%;padding:0 12px!important}@media (min-width: 340px){ion-input[_ngcontent-%COMP%]     input{font-size:18px!important}}ion-input[_ngcontent-%COMP%]     input:-webkit-autofill, ion-input[_ngcontent-%COMP%]     input:-webkit-autofill:hover, ion-input[_ngcontent-%COMP%]     input:-webkit-autofill:focus, ion-input[_ngcontent-%COMP%]     textarea:-webkit-autofill, ion-input[_ngcontent-%COMP%]     textarea:-webkit-autofill:hover, ion-input[_ngcontent-%COMP%]     textarea:-webkit-autofill:focus, ion-input[_ngcontent-%COMP%]     select:-webkit-autofill, ion-input[_ngcontent-%COMP%]     select:-webkit-autofill:hover, ion-input[_ngcontent-%COMP%]     select:-webkit-autofill:focus{border:0;filter:none;-webkit-text-fill-color:var(--strong);-webkit-box-shadow:0 0 0px 1000px var(--panel-3) inset;transition:background-color 50000s ease-in-out 0s}ion-input[_ngcontent-%COMP%]     .input-highlight{display:none}ion-input.icon-input[_ngcontent-%COMP%]     input{padding-right:42px!important}app-eye-close[_ngcontent-%COMP%], app-eye-open[_ngcontent-%COMP%]{display:block;width:1rem}.auth-btn[_ngcontent-%COMP%]{height:55px;box-shadow:0 10px 15px -3px #00000020,0 4px 6px -2px #00000008;text-shadow:2px 3px 6px rgba(0,0,0,.1);transition:all .26s ease-out}.auth-btn.success[_ngcontent-%COMP%]{background:#03bf3f;border:1px solid #7befa2}.auth-btn.success[_ngcontent-%COMP%]:hover{background:#03bf3f}.auth-btn.failed[_ngcontent-%COMP%]{background-color:red;border-color:red;color:#fff;opacity:1}.auth-btn.failed[_ngcontent-%COMP%]:hover{background-color:red}.auth-btn.disabled[_ngcontent-%COMP%]{cursor:not-allowed;box-shadow:none;text-shadow:none}.auth-btn[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{display:inline-block;margin:0 8px;border-radius:50%;width:1.5em;height:1.5em;border:.215em solid transparent;vertical-align:middle;font-size:16px;border-top-color:#fff;filter:drop-shadow(2px 3px 6px rgba(0,0,0,.1));animation:loader-2-2 1s cubic-bezier(.55,.15,.45,.85) infinite}.auth-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{filter:drop-shadow(2px 3px 6px rgba(0,0,0,.1))}auth-form.failed[_ngcontent-%COMP%]   .auth-btn[_ngcontent-%COMP%]{transition-delay:0;transition:none;background-color:red;border-color:red;color:#fff;opacity:1}.verification-btn[_ngcontent-%COMP%]{border-color:#d9b500}.verification-btn[_ngcontent-%COMP%]:disabled{box-shadow:none}.tab-item[_ngcontent-%COMP%]{color:#fff;border-radius:.375rem}.tab-item.active[_ngcontent-%COMP%]{position:relative;--tw-bg-opacity: 1;background-color:rgb(var(--main-blue) / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.error-label[_ngcontent-%COMP%]{color:red}.floating[_ngcontent-%COMP%]{filter:drop-shadow(0px 0px 7px var(--main-yellow));animation:floating 3s ease-in-out infinite;--distance: -5px}app-spinning-radial[_ngcontent-%COMP%]{filter:invert(1) opacity(.05)}.inviter-tab-item[_ngcontent-%COMP%]{position:relative;display:flex;cursor:pointer;align-items:center;justify-content:center;border-top-left-radius:.375rem;border-top-right-radius:.375rem;padding:.5rem .25rem;text-align:center;font-size:.875rem;line-height:1.25rem;font-weight:500}@media (min-width: 340px){.inviter-tab-item[_ngcontent-%COMP%]{padding-left:.75rem;padding-right:.75rem;font-size:1rem;line-height:1.5rem}}@media (min-width: 768px){.inviter-tab-item[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.75rem}}.inviter-tab-item[_ngcontent-%COMP%]:hover{--tw-text-opacity: 1;color:rgb(var(--main-blue) / var(--tw-text-opacity, 1))}.inviter-tab-item.active[_ngcontent-%COMP%]{position:relative;background-color:rgb(var(--main-blue) / .1);--tw-text-opacity: 1;color:rgb(var(--main-blue) / var(--tw-text-opacity, 1))}.inviter-tab-item.active[_ngcontent-%COMP%]:before{content:"";position:absolute;height:3px;left:0;bottom:0;width:100%;right:0;--tw-bg-opacity: 1;background-color:rgb(var(--main-blue) / var(--tw-bg-opacity, 1))}ion-input[_ngcontent-%COMP%]{color:#000;--strong: 0, 0, 0;--contrast-strong: 255, 255, 255}app-phone-control[_ngcontent-%COMP%]{color:#000}app-phone-control[_ngcontent-%COMP%]     input{color:#000}'],data:{animation:[Mt]}})};var _a=["modal"],ya=i=>({disabled:i});function ba(i,o){if(i&1){let e=V();f(0,"app-login-form",6,2),T("onFailed",function(n){E(e);let r=M(2);return I(r.isFailed=n)})("onFinish",function(){E(e);let n=M(2);return I(n.onFinish())}),f(2,"div",7)(3,"div",8),k(4),O(5,"translate"),y(),Oe(6,9),y()()}if(i&2){let e=B(1);M(2);let t=B(4);u(4),z(" ",P(5,3,"login")," "),u(2),b("ngTemplateOutletContext",De(5,ya,e.progress!=="Inputing"))("ngTemplateOutlet",t)}}function Ca(i,o){if(i&1&&Oe(0,13),i&2){M(3);let e=B(4);b("ngTemplateOutlet",e)}}function wa(i,o){if(i&1){let e=V();f(0,"app-register-form",6,3),T("onFailed",function(n){E(e);let r=M(2);return I(r.isFailed=n)})("onFinish",function(){E(e);let n=M(2);return I(n.onFinish())}),f(2,"div",7)(3,"div",10)(4,"ion-icon",11),T("click",function(){E(e);let n=B(1);return I(n.handleBack())}),y(),f(5,"div",12),k(6),O(7,"translate"),y()(),Xt(8,Ca,1,1,"ng-container",13),y()()}if(i&2){let e=B(1),t=M(2);u(6),ae(P(7,2,e.step===t.RegisterStep.ADD_INVITER?"enter-inviter-information":"register")),u(2),Jt(e.step===t.RegisterStep.BIND_EMAIL_PHONE?8:-1)}}function Ma(i,o){if(i&1&&(f(0,"div",5),Xt(1,ba,7,7,"app-login-form"),Xt(2,wa,9,4,"app-register-form"),y()),i&2){let e=M();N("failed",e.isFailed),u(),Jt(e.userService.authMode===e.AuthMode.LOGIN?1:-1),u(),Jt(e.userService.authMode===e.AuthMode.REGISTER?2:-1)}}function xa(i,o){if(i&1){let e=V();f(0,"ion-icon",14),T("click",function(){let n=E(e).disabled;M();let r=B(1);return I(!n&&r.dismiss())}),y()}}var Cr=class i extends $e{constructor(e,t){super();this.animationCtrl=e;this.userService=t}modalElementRef;mode="login";scaleInAnimation=gi;AuthMode=ut;RegisterStep=li;isFailed=!1;ngOnInit(){}ngOnDestroy(){super.ngOnDestroy()}handlePresent(){kn({AliyunCaptcha:"https://o.alicdn.com/captcha-frontend/aliyunCaptcha/AliyunCaptcha.js"})}onFinish(){this.modalRef.dismiss()}handleDismiss(){this.isOpenChange.emit(!1)}handleDidPresent(){console.log(this.modalElementRef.nativeElement.shadowRoot);let e=this.modalElementRef.nativeElement.shadowRoot,t=this.modalElementRef.nativeElement.shadowRoot;if(!t)return;let n=t.querySelector('[part="content"]');if(!n)return;n.classList.add("glass-container");let r=document.createElement("template");r.innerHTML=`
  <div class="glass-container" part="glass-container">
    <div class="glass-filter" part="glass-filter"></div>
    <div class="glass-overlay" part="glass-overlay"></div>
    <div class="glass-specular" part="glass-specular"></div>
    <svg style="display: none">
      <filter id="abcd" x="0%" y="0%" width="100%" height="100%">
        <feTurbulence type="fractalNoise" baseFrequency="0.008 0.008" numOctaves="2" seed="92" result="noise"></feTurbulence>
        <feGaussianBlur in="noise" stdDeviation="2" result="blurred"></feGaussianBlur>
        <feDisplacementMap in="SourceGraphic" in2="blurred" scale="70" xChannelSelector="R" yChannelSelector="G"></feDisplacementMap>
      </filter>
    </svg>
    </div>
  `,n.appendChild(r.content.cloneNode(!0))}static \u0275fac=function(t){return new(t||i)(w(Ue),w(ht))};static \u0275cmp=U({type:i,selectors:[["app-auth-modal"]],viewQuery:function(t,n){if(t&1&&le(_a,7,$),t&2){let r;ee(r=te())&&(n.modalElementRef=r.first)}},inputs:{mode:"mode"},features:[Q],decls:5,vars:3,consts:[["modal",""],["closeBtn",""],["loginForm",""],["registerForm",""],[1,"glass-modal","px-2",3,"willPresent","didDismiss","isOpen","enterAnimation","backdropDismiss"],[1,"modal-content","3xs:px-4","px-8"],[3,"onFailed","onFinish"],["header","",1,"modal-header"],[1,"modal-title","text-2xl","md:text-4xl","flex","justify-center","font-bold","pt-3","md:pt-4","fade-in",2,"--delay","100ms"],[3,"ngTemplateOutletContext","ngTemplateOutlet"],[1,"modal-title","text-2xl","md:text-4xl","flex","justify-center","font-bold","pt-3","md:pt-4"],["name","chevron-back-outline",1,"h-10","w-10","block","absolute","left-2","cursor-pointer","z-10",3,"click"],[1,"fade-in",2,"--delay","100ms"],[3,"ngTemplateOutlet"],["name","close-outline",1,"modal-close-btn","rounded-md","w-10","xs:w-10","h-10","xs:h-10","absolute","-right-2","-top-3","3xs:-right-3",3,"click"]],template:function(t,n){if(t&1){let r=V();f(0,"ion-modal",4,0),T("willPresent",function(){return E(r),I(n.handlePresent())})("didDismiss",function(){return E(r),I(n.handleDismiss())}),F(2,Ma,3,4,"ng-template"),y(),F(3,xa,1,0,"ng-template",null,1,ce)}t&2&&b("isOpen",n.isOpen)("enterAnimation",n.scaleInAnimation.bind(n,n.modalElementRef.nativeElement,n.animationCtrl))("backdropDismiss",n.userService.authMode===n.AuthMode.LOGIN)},dependencies:[je,di,Z,ze,ge,he,Ce,Ri,Ii,Te],styles:["ion-modal[_ngcontent-%COMP%]{--width: 400px;--height: auto}.modal-content.failed[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_angry-shake .4s}@keyframes _ngcontent-%COMP%_angry-shake{0%{transform:translate(4px,1px) rotate(0)}10%{transform:translate(-1px,-4px) rotate(-1deg)}20%{transform:translate(-6px) rotate(1deg)}30%{transform:translateY(4px) rotate(0)}40%{transform:translate(2px,-2px) rotate(1deg)}50%{transform:translate(-2px,4px) rotate(-1deg)}60%{transform:translate(-6px,2px) rotate(0)}70%{transform:translate(4px,2px) rotate(-1deg)}80%{transform:translate(-2px,-2px) rotate(1deg)}90%{transform:translate(4px,4px) rotate(0)}to{transform:translate(2px,-4px) rotate(-1deg)}}"],data:{animation:[Tn,Dn,Mt]}})};export{Cr as AuthModalComponent};
