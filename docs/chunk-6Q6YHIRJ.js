import{b as wo}from"./chunk-3MOYO27G.js";import{k as So}from"./chunk-7D3XAEE7.js";import{a as Ca}from"./chunk-CG2EMPLA.js";import{b as ka,c as La}from"./chunk-CTLUDKZB.js";import{va as bo}from"./chunk-YVA7YSBN.js";import{E as Kt,F as Ar,H as Ot,K as Kr,s as cr,t as Eo,u as Ro,v as Ta}from"./chunk-3WGOZNFF.js";import{a as Z,b as se,e as zt,f as yt,g as St,h as Na,j as Zt,k as _o}from"./chunk-QGXACWGO.js";var Io=St(zn=>{"use strict";zn.byteLength=qf;zn.toByteArray=Wf;zn.fromByteArray=Yf;var Wt=[],Ut=[],$f=typeof Uint8Array<"u"?Uint8Array:Array,Ao="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Ir=0,Ma=Ao.length;Ir<Ma;++Ir)Wt[Ir]=Ao[Ir],Ut[Ao.charCodeAt(Ir)]=Ir;var Ir,Ma;Ut[45]=62;Ut[95]=63;function Ua(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function qf(n){var e=Ua(n),t=e[0],r=e[1];return(t+r)*3/4-r}function Vf(n,e,t){return(e+t)*3/4-t}function Wf(n){var e,t=Ua(n),r=t[0],i=t[1],o=new $f(Vf(n,r,i)),s=0,f=i>0?r-4:r,l;for(l=0;l<f;l+=4)e=Ut[n.charCodeAt(l)]<<18|Ut[n.charCodeAt(l+1)]<<12|Ut[n.charCodeAt(l+2)]<<6|Ut[n.charCodeAt(l+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=Ut[n.charCodeAt(l)]<<2|Ut[n.charCodeAt(l+1)]>>4,o[s++]=e&255),i===1&&(e=Ut[n.charCodeAt(l)]<<10|Ut[n.charCodeAt(l+1)]<<4|Ut[n.charCodeAt(l+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function Gf(n){return Wt[n>>18&63]+Wt[n>>12&63]+Wt[n>>6&63]+Wt[n&63]}function Hf(n,e,t){for(var r,i=[],o=e;o<t;o+=3)r=(n[o]<<16&16711680)+(n[o+1]<<8&65280)+(n[o+2]&255),i.push(Gf(r));return i.join("")}function Yf(n){for(var e,t=n.length,r=t%3,i=[],o=16383,s=0,f=t-r;s<f;s+=o)i.push(Hf(n,s,s+o>f?f:s+o));return r===1?(e=n[t-1],i.push(Wt[e>>2]+Wt[e<<4&63]+"==")):r===2&&(e=(n[t-2]<<8)+n[t-1],i.push(Wt[e>>10]+Wt[e>>4&63]+Wt[e<<2&63]+"=")),i.join("")}});var Oo=St(vo=>{"use strict";vo.read=function(n,e,t,r,i){var o,s,f=i*8-r-1,l=(1<<f)-1,m=l>>1,E=-7,S=t?i-1:0,v=t?-1:1,A=n[e+S];for(S+=v,o=A&(1<<-E)-1,A>>=-E,E+=f;E>0;o=o*256+n[e+S],S+=v,E-=8);for(s=o&(1<<-E)-1,o>>=-E,E+=r;E>0;s=s*256+n[e+S],S+=v,E-=8);if(o===0)o=1-m;else{if(o===l)return s?NaN:(A?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-m}return(A?-1:1)*s*Math.pow(2,o-r)};vo.write=function(n,e,t,r,i,o){var s,f,l,m=o*8-i-1,E=(1<<m)-1,S=E>>1,v=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=r?0:o-1,I=r?1:-1,x=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(f=isNaN(e)?1:0,s=E):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+S>=1?e+=v/l:e+=v*Math.pow(2,1-S),e*l>=2&&(s++,l/=2),s+S>=E?(f=0,s=E):s+S>=1?(f=(e*l-1)*Math.pow(2,i),s=s+S):(f=e*Math.pow(2,S-1)*Math.pow(2,i),s=0));i>=8;n[t+A]=f&255,A+=I,f/=256,i-=8);for(s=s<<i|f,m+=i;m>0;n[t+A]=s&255,A+=I,s/=256,m-=8);n[t+A-I]|=x*128}});var mn=St(Wr=>{"use strict";var xo=Io(),qr=Oo(),Pa=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Wr.Buffer=k;Wr.SlowBuffer=el;Wr.INSPECT_MAX_BYTES=50;var Kn=2147483647;Wr.kMaxLength=Kn;k.TYPED_ARRAY_SUPPORT=jf();!k.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function jf(){try{let n=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(n,e),n.foo()===42}catch{return!1}}Object.defineProperty(k.prototype,"parent",{enumerable:!0,get:function(){if(k.isBuffer(this))return this.buffer}});Object.defineProperty(k.prototype,"offset",{enumerable:!0,get:function(){if(k.isBuffer(this))return this.byteOffset}});function Jt(n){if(n>Kn)throw new RangeError('The value "'+n+'" is invalid for option "size"');let e=new Uint8Array(n);return Object.setPrototypeOf(e,k.prototype),e}function k(n,e,t){if(typeof n=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ko(n)}return Ka(n,e,t)}k.poolSize=8192;function Ka(n,e,t){if(typeof n=="string")return Zf(n,e);if(ArrayBuffer.isView(n))return Jf(n);if(n==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);if(Gt(n,ArrayBuffer)||n&&Gt(n.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Gt(n,SharedArrayBuffer)||n&&Gt(n.buffer,SharedArrayBuffer)))return No(n,e,t);if(typeof n=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let r=n.valueOf&&n.valueOf();if(r!=null&&r!==n)return k.from(r,e,t);let i=Qf(n);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof n[Symbol.toPrimitive]=="function")return k.from(n[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n)}k.from=function(n,e,t){return Ka(n,e,t)};Object.setPrototypeOf(k.prototype,Uint8Array.prototype);Object.setPrototypeOf(k,Uint8Array);function $a(n){if(typeof n!="number")throw new TypeError('"size" argument must be of type number');if(n<0)throw new RangeError('The value "'+n+'" is invalid for option "size"')}function Xf(n,e,t){return $a(n),n<=0?Jt(n):e!==void 0?typeof t=="string"?Jt(n).fill(e,t):Jt(n).fill(e):Jt(n)}k.alloc=function(n,e,t){return Xf(n,e,t)};function ko(n){return $a(n),Jt(n<0?0:Lo(n)|0)}k.allocUnsafe=function(n){return ko(n)};k.allocUnsafeSlow=function(n){return ko(n)};function Zf(n,e){if((typeof e!="string"||e==="")&&(e="utf8"),!k.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=qa(n,e)|0,r=Jt(t),i=r.write(n,e);return i!==t&&(r=r.slice(0,i)),r}function Bo(n){let e=n.length<0?0:Lo(n.length)|0,t=Jt(e);for(let r=0;r<e;r+=1)t[r]=n[r]&255;return t}function Jf(n){if(Gt(n,Uint8Array)){let e=new Uint8Array(n);return No(e.buffer,e.byteOffset,e.byteLength)}return Bo(n)}function No(n,e,t){if(e<0||n.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(n.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let r;return e===void 0&&t===void 0?r=new Uint8Array(n):t===void 0?r=new Uint8Array(n,e):r=new Uint8Array(n,e,t),Object.setPrototypeOf(r,k.prototype),r}function Qf(n){if(k.isBuffer(n)){let e=Lo(n.length)|0,t=Jt(e);return t.length===0||n.copy(t,0,0,e),t}if(n.length!==void 0)return typeof n.length!="number"||Mo(n.length)?Jt(0):Bo(n);if(n.type==="Buffer"&&Array.isArray(n.data))return Bo(n.data)}function Lo(n){if(n>=Kn)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Kn.toString(16)+" bytes");return n|0}function el(n){return+n!=n&&(n=0),k.alloc(+n)}k.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==k.prototype};k.compare=function(e,t){if(Gt(e,Uint8Array)&&(e=k.from(e,e.offset,e.byteLength)),Gt(t,Uint8Array)&&(t=k.from(t,t.offset,t.byteLength)),!k.isBuffer(e)||!k.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,i=t.length;for(let o=0,s=Math.min(r,i);o<s;++o)if(e[o]!==t[o]){r=e[o],i=t[o];break}return r<i?-1:i<r?1:0};k.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};k.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return k.alloc(0);let r;if(t===void 0)for(t=0,r=0;r<e.length;++r)t+=e[r].length;let i=k.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){let s=e[r];if(Gt(s,Uint8Array))o+s.length>i.length?(k.isBuffer(s)||(s=k.from(s)),s.copy(i,o)):Uint8Array.prototype.set.call(i,s,o);else if(k.isBuffer(s))s.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return i};function qa(n,e){if(k.isBuffer(n))return n.length;if(ArrayBuffer.isView(n)||Gt(n,ArrayBuffer))return n.byteLength;if(typeof n!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof n);let t=n.length,r=arguments.length>2&&arguments[2]===!0;if(!r&&t===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return To(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return Ja(n).length;default:if(i)return r?-1:To(n).length;e=(""+e).toLowerCase(),i=!0}}k.byteLength=qa;function tl(n,e,t){let r=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(n||(n="utf8");;)switch(n){case"hex":return ll(this,e,t);case"utf8":case"utf-8":return Wa(this,e,t);case"ascii":return ul(this,e,t);case"latin1":case"binary":return fl(this,e,t);case"base64":return al(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return hl(this,e,t);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),r=!0}}k.prototype._isBuffer=!0;function vr(n,e,t){let r=n[e];n[e]=n[t],n[t]=r}k.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)vr(this,t,t+1);return this};k.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)vr(this,t,t+3),vr(this,t+1,t+2);return this};k.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)vr(this,t,t+7),vr(this,t+1,t+6),vr(this,t+2,t+5),vr(this,t+3,t+4);return this};k.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Wa(this,0,e):tl.apply(this,arguments)};k.prototype.toLocaleString=k.prototype.toString;k.prototype.equals=function(e){if(!k.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:k.compare(this,e)===0};k.prototype.inspect=function(){let e="",t=Wr.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};Pa&&(k.prototype[Pa]=k.prototype.inspect);k.prototype.compare=function(e,t,r,i,o){if(Gt(e,Uint8Array)&&(e=k.from(e,e.offset,e.byteLength)),!k.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),r===void 0&&(r=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),t<0||r>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&t>=r)return 0;if(i>=o)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,i>>>=0,o>>>=0,this===e)return 0;let s=o-i,f=r-t,l=Math.min(s,f),m=this.slice(i,o),E=e.slice(t,r);for(let S=0;S<l;++S)if(m[S]!==E[S]){s=m[S],f=E[S];break}return s<f?-1:f<s?1:0};function Va(n,e,t,r,i){if(n.length===0)return-1;if(typeof t=="string"?(r=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,Mo(t)&&(t=i?0:n.length-1),t<0&&(t=n.length+t),t>=n.length){if(i)return-1;t=n.length-1}else if(t<0)if(i)t=0;else return-1;if(typeof e=="string"&&(e=k.from(e,r)),k.isBuffer(e))return e.length===0?-1:Da(n,e,t,r,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(n,e,t):Uint8Array.prototype.lastIndexOf.call(n,e,t):Da(n,[e],t,r,i);throw new TypeError("val must be string, number or Buffer")}function Da(n,e,t,r,i){let o=1,s=n.length,f=e.length;if(r!==void 0&&(r=String(r).toLowerCase(),r==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(n.length<2||e.length<2)return-1;o=2,s/=2,f/=2,t/=2}function l(E,S){return o===1?E[S]:E.readUInt16BE(S*o)}let m;if(i){let E=-1;for(m=t;m<s;m++)if(l(n,m)===l(e,E===-1?0:m-E)){if(E===-1&&(E=m),m-E+1===f)return E*o}else E!==-1&&(m-=m-E),E=-1}else for(t+f>s&&(t=s-f),m=t;m>=0;m--){let E=!0;for(let S=0;S<f;S++)if(l(n,m+S)!==l(e,S)){E=!1;break}if(E)return m}return-1}k.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1};k.prototype.indexOf=function(e,t,r){return Va(this,e,t,r,!0)};k.prototype.lastIndexOf=function(e,t,r){return Va(this,e,t,r,!1)};function rl(n,e,t,r){t=Number(t)||0;let i=n.length-t;r?(r=Number(r),r>i&&(r=i)):r=i;let o=e.length;r>o/2&&(r=o/2);let s;for(s=0;s<r;++s){let f=parseInt(e.substr(s*2,2),16);if(Mo(f))return s;n[t+s]=f}return s}function nl(n,e,t,r){return $n(To(e,n.length-t),n,t,r)}function il(n,e,t,r){return $n(gl(e),n,t,r)}function ol(n,e,t,r){return $n(Ja(e),n,t,r)}function sl(n,e,t,r){return $n(ml(e,n.length-t),n,t,r)}k.prototype.write=function(e,t,r,i){if(t===void 0)i="utf8",r=this.length,t=0;else if(r===void 0&&typeof t=="string")i=t,r=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(r)?(r=r>>>0,i===void 0&&(i="utf8")):(i=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-t;if((r===void 0||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return rl(this,e,t,r);case"utf8":case"utf-8":return nl(this,e,t,r);case"ascii":case"latin1":case"binary":return il(this,e,t,r);case"base64":return ol(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return sl(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};k.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function al(n,e,t){return e===0&&t===n.length?xo.fromByteArray(n):xo.fromByteArray(n.slice(e,t))}function Wa(n,e,t){t=Math.min(n.length,t);let r=[],i=e;for(;i<t;){let o=n[i],s=null,f=o>239?4:o>223?3:o>191?2:1;if(i+f<=t){let l,m,E,S;switch(f){case 1:o<128&&(s=o);break;case 2:l=n[i+1],(l&192)===128&&(S=(o&31)<<6|l&63,S>127&&(s=S));break;case 3:l=n[i+1],m=n[i+2],(l&192)===128&&(m&192)===128&&(S=(o&15)<<12|(l&63)<<6|m&63,S>2047&&(S<55296||S>57343)&&(s=S));break;case 4:l=n[i+1],m=n[i+2],E=n[i+3],(l&192)===128&&(m&192)===128&&(E&192)===128&&(S=(o&15)<<18|(l&63)<<12|(m&63)<<6|E&63,S>65535&&S<1114112&&(s=S))}}s===null?(s=65533,f=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|s&1023),r.push(s),i+=f}return cl(r)}var Fa=4096;function cl(n){let e=n.length;if(e<=Fa)return String.fromCharCode.apply(String,n);let t="",r=0;for(;r<e;)t+=String.fromCharCode.apply(String,n.slice(r,r+=Fa));return t}function ul(n,e,t){let r="";t=Math.min(n.length,t);for(let i=e;i<t;++i)r+=String.fromCharCode(n[i]&127);return r}function fl(n,e,t){let r="";t=Math.min(n.length,t);for(let i=e;i<t;++i)r+=String.fromCharCode(n[i]);return r}function ll(n,e,t){let r=n.length;(!e||e<0)&&(e=0),(!t||t<0||t>r)&&(t=r);let i="";for(let o=e;o<t;++o)i+=_l[n[o]];return i}function hl(n,e,t){let r=n.slice(e,t),i="";for(let o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+r[o+1]*256);return i}k.prototype.slice=function(e,t){let r=this.length;e=~~e,t=t===void 0?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e);let i=this.subarray(e,t);return Object.setPrototypeOf(i,k.prototype),i};function ct(n,e,t){if(n%1!==0||n<0)throw new RangeError("offset is not uint");if(n+e>t)throw new RangeError("Trying to access beyond buffer length")}k.prototype.readUintLE=k.prototype.readUIntLE=function(e,t,r){e=e>>>0,t=t>>>0,r||ct(e,t,this.length);let i=this[e],o=1,s=0;for(;++s<t&&(o*=256);)i+=this[e+s]*o;return i};k.prototype.readUintBE=k.prototype.readUIntBE=function(e,t,r){e=e>>>0,t=t>>>0,r||ct(e,t,this.length);let i=this[e+--t],o=1;for(;t>0&&(o*=256);)i+=this[e+--t]*o;return i};k.prototype.readUint8=k.prototype.readUInt8=function(e,t){return e=e>>>0,t||ct(e,1,this.length),this[e]};k.prototype.readUint16LE=k.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||ct(e,2,this.length),this[e]|this[e+1]<<8};k.prototype.readUint16BE=k.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||ct(e,2,this.length),this[e]<<8|this[e+1]};k.prototype.readUint32LE=k.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||ct(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};k.prototype.readUint32BE=k.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||ct(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};k.prototype.readBigUInt64LE=ur(function(e){e=e>>>0,Vr(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&gn(e,this.length-8);let i=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+r*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});k.prototype.readBigUInt64BE=ur(function(e){e=e>>>0,Vr(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&gn(e,this.length-8);let i=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+r;return(BigInt(i)<<BigInt(32))+BigInt(o)});k.prototype.readIntLE=function(e,t,r){e=e>>>0,t=t>>>0,r||ct(e,t,this.length);let i=this[e],o=1,s=0;for(;++s<t&&(o*=256);)i+=this[e+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i};k.prototype.readIntBE=function(e,t,r){e=e>>>0,t=t>>>0,r||ct(e,t,this.length);let i=t,o=1,s=this[e+--i];for(;i>0&&(o*=256);)s+=this[e+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*t)),s};k.prototype.readInt8=function(e,t){return e=e>>>0,t||ct(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};k.prototype.readInt16LE=function(e,t){e=e>>>0,t||ct(e,2,this.length);let r=this[e]|this[e+1]<<8;return r&32768?r|4294901760:r};k.prototype.readInt16BE=function(e,t){e=e>>>0,t||ct(e,2,this.length);let r=this[e+1]|this[e]<<8;return r&32768?r|4294901760:r};k.prototype.readInt32LE=function(e,t){return e=e>>>0,t||ct(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};k.prototype.readInt32BE=function(e,t){return e=e>>>0,t||ct(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};k.prototype.readBigInt64LE=ur(function(e){e=e>>>0,Vr(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&gn(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(r<<24);return(BigInt(i)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});k.prototype.readBigInt64BE=ur(function(e){e=e>>>0,Vr(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&gn(e,this.length-8);let i=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+r)});k.prototype.readFloatLE=function(e,t){return e=e>>>0,t||ct(e,4,this.length),qr.read(this,e,!0,23,4)};k.prototype.readFloatBE=function(e,t){return e=e>>>0,t||ct(e,4,this.length),qr.read(this,e,!1,23,4)};k.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||ct(e,8,this.length),qr.read(this,e,!0,52,8)};k.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||ct(e,8,this.length),qr.read(this,e,!1,52,8)};function xt(n,e,t,r,i,o){if(!k.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(t+r>n.length)throw new RangeError("Index out of range")}k.prototype.writeUintLE=k.prototype.writeUIntLE=function(e,t,r,i){if(e=+e,t=t>>>0,r=r>>>0,!i){let f=Math.pow(2,8*r)-1;xt(this,e,t,r,f,0)}let o=1,s=0;for(this[t]=e&255;++s<r&&(o*=256);)this[t+s]=e/o&255;return t+r};k.prototype.writeUintBE=k.prototype.writeUIntBE=function(e,t,r,i){if(e=+e,t=t>>>0,r=r>>>0,!i){let f=Math.pow(2,8*r)-1;xt(this,e,t,r,f,0)}let o=r-1,s=1;for(this[t+o]=e&255;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+r};k.prototype.writeUint8=k.prototype.writeUInt8=function(e,t,r){return e=+e,t=t>>>0,r||xt(this,e,t,1,255,0),this[t]=e&255,t+1};k.prototype.writeUint16LE=k.prototype.writeUInt16LE=function(e,t,r){return e=+e,t=t>>>0,r||xt(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};k.prototype.writeUint16BE=k.prototype.writeUInt16BE=function(e,t,r){return e=+e,t=t>>>0,r||xt(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};k.prototype.writeUint32LE=k.prototype.writeUInt32LE=function(e,t,r){return e=+e,t=t>>>0,r||xt(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};k.prototype.writeUint32BE=k.prototype.writeUInt32BE=function(e,t,r){return e=+e,t=t>>>0,r||xt(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function Ga(n,e,t,r,i){Za(e,r,i,n,t,7);let o=Number(e&BigInt(4294967295));n[t++]=o,o=o>>8,n[t++]=o,o=o>>8,n[t++]=o,o=o>>8,n[t++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return n[t++]=s,s=s>>8,n[t++]=s,s=s>>8,n[t++]=s,s=s>>8,n[t++]=s,t}function Ha(n,e,t,r,i){Za(e,r,i,n,t,7);let o=Number(e&BigInt(4294967295));n[t+7]=o,o=o>>8,n[t+6]=o,o=o>>8,n[t+5]=o,o=o>>8,n[t+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return n[t+3]=s,s=s>>8,n[t+2]=s,s=s>>8,n[t+1]=s,s=s>>8,n[t]=s,t+8}k.prototype.writeBigUInt64LE=ur(function(e,t=0){return Ga(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});k.prototype.writeBigUInt64BE=ur(function(e,t=0){return Ha(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});k.prototype.writeIntLE=function(e,t,r,i){if(e=+e,t=t>>>0,!i){let l=Math.pow(2,8*r-1);xt(this,e,t,r,l-1,-l)}let o=0,s=1,f=0;for(this[t]=e&255;++o<r&&(s*=256);)e<0&&f===0&&this[t+o-1]!==0&&(f=1),this[t+o]=(e/s>>0)-f&255;return t+r};k.prototype.writeIntBE=function(e,t,r,i){if(e=+e,t=t>>>0,!i){let l=Math.pow(2,8*r-1);xt(this,e,t,r,l-1,-l)}let o=r-1,s=1,f=0;for(this[t+o]=e&255;--o>=0&&(s*=256);)e<0&&f===0&&this[t+o+1]!==0&&(f=1),this[t+o]=(e/s>>0)-f&255;return t+r};k.prototype.writeInt8=function(e,t,r){return e=+e,t=t>>>0,r||xt(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};k.prototype.writeInt16LE=function(e,t,r){return e=+e,t=t>>>0,r||xt(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};k.prototype.writeInt16BE=function(e,t,r){return e=+e,t=t>>>0,r||xt(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};k.prototype.writeInt32LE=function(e,t,r){return e=+e,t=t>>>0,r||xt(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};k.prototype.writeInt32BE=function(e,t,r){return e=+e,t=t>>>0,r||xt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};k.prototype.writeBigInt64LE=ur(function(e,t=0){return Ga(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});k.prototype.writeBigInt64BE=ur(function(e,t=0){return Ha(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ya(n,e,t,r,i,o){if(t+r>n.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function ja(n,e,t,r,i){return e=+e,t=t>>>0,i||Ya(n,e,t,4,34028234663852886e22,-34028234663852886e22),qr.write(n,e,t,r,23,4),t+4}k.prototype.writeFloatLE=function(e,t,r){return ja(this,e,t,!0,r)};k.prototype.writeFloatBE=function(e,t,r){return ja(this,e,t,!1,r)};function Xa(n,e,t,r,i){return e=+e,t=t>>>0,i||Ya(n,e,t,8,17976931348623157e292,-17976931348623157e292),qr.write(n,e,t,r,52,8),t+8}k.prototype.writeDoubleLE=function(e,t,r){return Xa(this,e,t,!0,r)};k.prototype.writeDoubleBE=function(e,t,r){return Xa(this,e,t,!1,r)};k.prototype.copy=function(e,t,r,i){if(!k.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),!i&&i!==0&&(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<r&&(i=r),i===r||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);let o=i-r;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,r,i):Uint8Array.prototype.set.call(e,this.subarray(r,i),t),o};k.prototype.fill=function(e,t,r,i){if(typeof e=="string"){if(typeof t=="string"?(i=t,t=0,r=this.length):typeof r=="string"&&(i=r,r=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!k.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t=t>>>0,r=r===void 0?this.length:r>>>0,e||(e=0);let o;if(typeof e=="number")for(o=t;o<r;++o)this[o]=e;else{let s=k.isBuffer(e)?e:k.from(e,i),f=s.length;if(f===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=s[o%f]}return this};var $r={};function Co(n,e,t){$r[n]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${n}]`,this.stack,delete this.name}get code(){return n}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${n}]: ${this.message}`}}}Co("ERR_BUFFER_OUT_OF_BOUNDS",function(n){return n?`${n} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Co("ERR_INVALID_ARG_TYPE",function(n,e){return`The "${n}" argument must be of type number. Received type ${typeof e}`},TypeError);Co("ERR_OUT_OF_RANGE",function(n,e,t){let r=`The value of "${n}" is out of range.`,i=t;return Number.isInteger(t)&&Math.abs(t)>2**32?i=za(String(t)):typeof t=="bigint"&&(i=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(i=za(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r},RangeError);function za(n){let e="",t=n.length,r=n[0]==="-"?1:0;for(;t>=r+4;t-=3)e=`_${n.slice(t-3,t)}${e}`;return`${n.slice(0,t)}${e}`}function dl(n,e,t){Vr(e,"offset"),(n[e]===void 0||n[e+t]===void 0)&&gn(e,n.length-(t+1))}function Za(n,e,t,r,i,o){if(n>t||n<e){let s=typeof e=="bigint"?"n":"",f;throw o>3?e===0||e===BigInt(0)?f=`>= 0${s} and < 2${s} ** ${(o+1)*8}${s}`:f=`>= -(2${s} ** ${(o+1)*8-1}${s}) and < 2 ** ${(o+1)*8-1}${s}`:f=`>= ${e}${s} and <= ${t}${s}`,new $r.ERR_OUT_OF_RANGE("value",f,n)}dl(r,i,o)}function Vr(n,e){if(typeof n!="number")throw new $r.ERR_INVALID_ARG_TYPE(e,"number",n)}function gn(n,e,t){throw Math.floor(n)!==n?(Vr(n,t),new $r.ERR_OUT_OF_RANGE(t||"offset","an integer",n)):e<0?new $r.ERR_BUFFER_OUT_OF_BOUNDS:new $r.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,n)}var pl=/[^+/0-9A-Za-z-_]/g;function yl(n){if(n=n.split("=")[0],n=n.trim().replace(pl,""),n.length<2)return"";for(;n.length%4!==0;)n=n+"=";return n}function To(n,e){e=e||1/0;let t,r=n.length,i=null,o=[];for(let s=0;s<r;++s){if(t=n.charCodeAt(s),t>55295&&t<57344){if(!i){if(t>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&o.push(239,191,189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,t<128){if((e-=1)<0)break;o.push(t)}else if(t<2048){if((e-=2)<0)break;o.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;o.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return o}function gl(n){let e=[];for(let t=0;t<n.length;++t)e.push(n.charCodeAt(t)&255);return e}function ml(n,e){let t,r,i,o=[];for(let s=0;s<n.length&&!((e-=2)<0);++s)t=n.charCodeAt(s),r=t>>8,i=t%256,o.push(i),o.push(r);return o}function Ja(n){return xo.toByteArray(yl(n))}function $n(n,e,t,r){let i;for(i=0;i<r&&!(i+t>=e.length||i>=n.length);++i)e[i+t]=n[i];return i}function Gt(n,e){return n instanceof e||n!=null&&n.constructor!=null&&n.constructor.name!=null&&n.constructor.name===e.name}function Mo(n){return n!==n}var _l=(function(){let n="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let r=t*16;for(let i=0;i<16;++i)e[r+i]=n[t]+n[i]}return e})();function ur(n){return typeof BigInt>"u"?wl:n}function wl(){throw new Error("BigInt not supported")}});var Fc=St(Qr=>{"use strict";var Xo=Io(),Zr=Oo(),Sc=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Qr.Buffer=L;Qr.SlowBuffer=Yl;Qr.INSPECT_MAX_BYTES=50;var Yn=2147483647;Qr.kMaxLength=Yn;L.TYPED_ARRAY_SUPPORT=ql();!L.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function ql(){try{let n=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(n,e),n.foo()===42}catch{return!1}}Object.defineProperty(L.prototype,"parent",{enumerable:!0,get:function(){if(L.isBuffer(this))return this.buffer}});Object.defineProperty(L.prototype,"offset",{enumerable:!0,get:function(){if(L.isBuffer(this))return this.byteOffset}});function tr(n){if(n>Yn)throw new RangeError('The value "'+n+'" is invalid for option "size"');let e=new Uint8Array(n);return Object.setPrototypeOf(e,L.prototype),e}function L(n,e,t){if(typeof n=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return es(n)}return Oc(n,e,t)}L.poolSize=8192;function Oc(n,e,t){if(typeof n=="string")return Wl(n,e);if(ArrayBuffer.isView(n))return Gl(n);if(n==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);if(Ht(n,ArrayBuffer)||n&&Ht(n.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ht(n,SharedArrayBuffer)||n&&Ht(n.buffer,SharedArrayBuffer)))return Jo(n,e,t);if(typeof n=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let r=n.valueOf&&n.valueOf();if(r!=null&&r!==n)return L.from(r,e,t);let i=Hl(n);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof n[Symbol.toPrimitive]=="function")return L.from(n[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n)}L.from=function(n,e,t){return Oc(n,e,t)};Object.setPrototypeOf(L.prototype,Uint8Array.prototype);Object.setPrototypeOf(L,Uint8Array);function xc(n){if(typeof n!="number")throw new TypeError('"size" argument must be of type number');if(n<0)throw new RangeError('The value "'+n+'" is invalid for option "size"')}function Vl(n,e,t){return xc(n),n<=0?tr(n):e!==void 0?typeof t=="string"?tr(n).fill(e,t):tr(n).fill(e):tr(n)}L.alloc=function(n,e,t){return Vl(n,e,t)};function es(n){return xc(n),tr(n<0?0:ts(n)|0)}L.allocUnsafe=function(n){return es(n)};L.allocUnsafeSlow=function(n){return es(n)};function Wl(n,e){if((typeof e!="string"||e==="")&&(e="utf8"),!L.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=Bc(n,e)|0,r=tr(t),i=r.write(n,e);return i!==t&&(r=r.slice(0,i)),r}function Zo(n){let e=n.length<0?0:ts(n.length)|0,t=tr(e);for(let r=0;r<e;r+=1)t[r]=n[r]&255;return t}function Gl(n){if(Ht(n,Uint8Array)){let e=new Uint8Array(n);return Jo(e.buffer,e.byteOffset,e.byteLength)}return Zo(n)}function Jo(n,e,t){if(e<0||n.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(n.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let r;return e===void 0&&t===void 0?r=new Uint8Array(n):t===void 0?r=new Uint8Array(n,e):r=new Uint8Array(n,e,t),Object.setPrototypeOf(r,L.prototype),r}function Hl(n){if(L.isBuffer(n)){let e=ts(n.length)|0,t=tr(e);return t.length===0||n.copy(t,0,0,e),t}if(n.length!==void 0)return typeof n.length!="number"||ns(n.length)?tr(0):Zo(n);if(n.type==="Buffer"&&Array.isArray(n.data))return Zo(n.data)}function ts(n){if(n>=Yn)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Yn.toString(16)+" bytes");return n|0}function Yl(n){return+n!=n&&(n=0),L.alloc(+n)}L.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==L.prototype};L.compare=function(e,t){if(Ht(e,Uint8Array)&&(e=L.from(e,e.offset,e.byteLength)),Ht(t,Uint8Array)&&(t=L.from(t,t.offset,t.byteLength)),!L.isBuffer(e)||!L.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,i=t.length;for(let o=0,s=Math.min(r,i);o<s;++o)if(e[o]!==t[o]){r=e[o],i=t[o];break}return r<i?-1:i<r?1:0};L.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};L.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return L.alloc(0);let r;if(t===void 0)for(t=0,r=0;r<e.length;++r)t+=e[r].length;let i=L.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){let s=e[r];if(Ht(s,Uint8Array))o+s.length>i.length?(L.isBuffer(s)||(s=L.from(s)),s.copy(i,o)):Uint8Array.prototype.set.call(i,s,o);else if(L.isBuffer(s))s.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return i};function Bc(n,e){if(L.isBuffer(n))return n.length;if(ArrayBuffer.isView(n)||Ht(n,ArrayBuffer))return n.byteLength;if(typeof n!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof n);let t=n.length,r=arguments.length>2&&arguments[2]===!0;if(!r&&t===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return Qo(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return Dc(n).length;default:if(i)return r?-1:Qo(n).length;e=(""+e).toLowerCase(),i=!0}}L.byteLength=Bc;function jl(n,e,t){let r=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(n||(n="utf8");;)switch(n){case"hex":return oh(this,e,t);case"utf8":case"utf-8":return Tc(this,e,t);case"ascii":return nh(this,e,t);case"latin1":case"binary":return ih(this,e,t);case"base64":return th(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return sh(this,e,t);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),r=!0}}L.prototype._isBuffer=!0;function Tr(n,e,t){let r=n[e];n[e]=n[t],n[t]=r}L.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)Tr(this,t,t+1);return this};L.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)Tr(this,t,t+3),Tr(this,t+1,t+2);return this};L.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)Tr(this,t,t+7),Tr(this,t+1,t+6),Tr(this,t+2,t+5),Tr(this,t+3,t+4);return this};L.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Tc(this,0,e):jl.apply(this,arguments)};L.prototype.toLocaleString=L.prototype.toString;L.prototype.equals=function(e){if(!L.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:L.compare(this,e)===0};L.prototype.inspect=function(){let e="",t=Qr.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};Sc&&(L.prototype[Sc]=L.prototype.inspect);L.prototype.compare=function(e,t,r,i,o){if(Ht(e,Uint8Array)&&(e=L.from(e,e.offset,e.byteLength)),!L.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),r===void 0&&(r=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),t<0||r>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&t>=r)return 0;if(i>=o)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,i>>>=0,o>>>=0,this===e)return 0;let s=o-i,f=r-t,l=Math.min(s,f),m=this.slice(i,o),E=e.slice(t,r);for(let S=0;S<l;++S)if(m[S]!==E[S]){s=m[S],f=E[S];break}return s<f?-1:f<s?1:0};function Nc(n,e,t,r,i){if(n.length===0)return-1;if(typeof t=="string"?(r=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,ns(t)&&(t=i?0:n.length-1),t<0&&(t=n.length+t),t>=n.length){if(i)return-1;t=n.length-1}else if(t<0)if(i)t=0;else return-1;if(typeof e=="string"&&(e=L.from(e,r)),L.isBuffer(e))return e.length===0?-1:Ac(n,e,t,r,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(n,e,t):Uint8Array.prototype.lastIndexOf.call(n,e,t):Ac(n,[e],t,r,i);throw new TypeError("val must be string, number or Buffer")}function Ac(n,e,t,r,i){let o=1,s=n.length,f=e.length;if(r!==void 0&&(r=String(r).toLowerCase(),r==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(n.length<2||e.length<2)return-1;o=2,s/=2,f/=2,t/=2}function l(E,S){return o===1?E[S]:E.readUInt16BE(S*o)}let m;if(i){let E=-1;for(m=t;m<s;m++)if(l(n,m)===l(e,E===-1?0:m-E)){if(E===-1&&(E=m),m-E+1===f)return E*o}else E!==-1&&(m-=m-E),E=-1}else for(t+f>s&&(t=s-f),m=t;m>=0;m--){let E=!0;for(let S=0;S<f;S++)if(l(n,m+S)!==l(e,S)){E=!1;break}if(E)return m}return-1}L.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1};L.prototype.indexOf=function(e,t,r){return Nc(this,e,t,r,!0)};L.prototype.lastIndexOf=function(e,t,r){return Nc(this,e,t,r,!1)};function Xl(n,e,t,r){t=Number(t)||0;let i=n.length-t;r?(r=Number(r),r>i&&(r=i)):r=i;let o=e.length;r>o/2&&(r=o/2);let s;for(s=0;s<r;++s){let f=parseInt(e.substr(s*2,2),16);if(ns(f))return s;n[t+s]=f}return s}function Zl(n,e,t,r){return jn(Qo(e,n.length-t),n,t,r)}function Jl(n,e,t,r){return jn(fh(e),n,t,r)}function Ql(n,e,t,r){return jn(Dc(e),n,t,r)}function eh(n,e,t,r){return jn(lh(e,n.length-t),n,t,r)}L.prototype.write=function(e,t,r,i){if(t===void 0)i="utf8",r=this.length,t=0;else if(r===void 0&&typeof t=="string")i=t,r=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(r)?(r=r>>>0,i===void 0&&(i="utf8")):(i=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-t;if((r===void 0||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return Xl(this,e,t,r);case"utf8":case"utf-8":return Zl(this,e,t,r);case"ascii":case"latin1":case"binary":return Jl(this,e,t,r);case"base64":return Ql(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return eh(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};L.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function th(n,e,t){return e===0&&t===n.length?Xo.fromByteArray(n):Xo.fromByteArray(n.slice(e,t))}function Tc(n,e,t){t=Math.min(n.length,t);let r=[],i=e;for(;i<t;){let o=n[i],s=null,f=o>239?4:o>223?3:o>191?2:1;if(i+f<=t){let l,m,E,S;switch(f){case 1:o<128&&(s=o);break;case 2:l=n[i+1],(l&192)===128&&(S=(o&31)<<6|l&63,S>127&&(s=S));break;case 3:l=n[i+1],m=n[i+2],(l&192)===128&&(m&192)===128&&(S=(o&15)<<12|(l&63)<<6|m&63,S>2047&&(S<55296||S>57343)&&(s=S));break;case 4:l=n[i+1],m=n[i+2],E=n[i+3],(l&192)===128&&(m&192)===128&&(E&192)===128&&(S=(o&15)<<18|(l&63)<<12|(m&63)<<6|E&63,S>65535&&S<1114112&&(s=S))}}s===null?(s=65533,f=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|s&1023),r.push(s),i+=f}return rh(r)}var Ic=4096;function rh(n){let e=n.length;if(e<=Ic)return String.fromCharCode.apply(String,n);let t="",r=0;for(;r<e;)t+=String.fromCharCode.apply(String,n.slice(r,r+=Ic));return t}function nh(n,e,t){let r="";t=Math.min(n.length,t);for(let i=e;i<t;++i)r+=String.fromCharCode(n[i]&127);return r}function ih(n,e,t){let r="";t=Math.min(n.length,t);for(let i=e;i<t;++i)r+=String.fromCharCode(n[i]);return r}function oh(n,e,t){let r=n.length;(!e||e<0)&&(e=0),(!t||t<0||t>r)&&(t=r);let i="";for(let o=e;o<t;++o)i+=hh[n[o]];return i}function sh(n,e,t){let r=n.slice(e,t),i="";for(let o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+r[o+1]*256);return i}L.prototype.slice=function(e,t){let r=this.length;e=~~e,t=t===void 0?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e);let i=this.subarray(e,t);return Object.setPrototypeOf(i,L.prototype),i};function lt(n,e,t){if(n%1!==0||n<0)throw new RangeError("offset is not uint");if(n+e>t)throw new RangeError("Trying to access beyond buffer length")}L.prototype.readUintLE=L.prototype.readUIntLE=function(e,t,r){e=e>>>0,t=t>>>0,r||lt(e,t,this.length);let i=this[e],o=1,s=0;for(;++s<t&&(o*=256);)i+=this[e+s]*o;return i};L.prototype.readUintBE=L.prototype.readUIntBE=function(e,t,r){e=e>>>0,t=t>>>0,r||lt(e,t,this.length);let i=this[e+--t],o=1;for(;t>0&&(o*=256);)i+=this[e+--t]*o;return i};L.prototype.readUint8=L.prototype.readUInt8=function(e,t){return e=e>>>0,t||lt(e,1,this.length),this[e]};L.prototype.readUint16LE=L.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||lt(e,2,this.length),this[e]|this[e+1]<<8};L.prototype.readUint16BE=L.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||lt(e,2,this.length),this[e]<<8|this[e+1]};L.prototype.readUint32LE=L.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||lt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};L.prototype.readUint32BE=L.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||lt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};L.prototype.readBigUInt64LE=dr(function(e){e=e>>>0,Jr(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&bn(e,this.length-8);let i=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+r*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});L.prototype.readBigUInt64BE=dr(function(e){e=e>>>0,Jr(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&bn(e,this.length-8);let i=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+r;return(BigInt(i)<<BigInt(32))+BigInt(o)});L.prototype.readIntLE=function(e,t,r){e=e>>>0,t=t>>>0,r||lt(e,t,this.length);let i=this[e],o=1,s=0;for(;++s<t&&(o*=256);)i+=this[e+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i};L.prototype.readIntBE=function(e,t,r){e=e>>>0,t=t>>>0,r||lt(e,t,this.length);let i=t,o=1,s=this[e+--i];for(;i>0&&(o*=256);)s+=this[e+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*t)),s};L.prototype.readInt8=function(e,t){return e=e>>>0,t||lt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};L.prototype.readInt16LE=function(e,t){e=e>>>0,t||lt(e,2,this.length);let r=this[e]|this[e+1]<<8;return r&32768?r|4294901760:r};L.prototype.readInt16BE=function(e,t){e=e>>>0,t||lt(e,2,this.length);let r=this[e+1]|this[e]<<8;return r&32768?r|4294901760:r};L.prototype.readInt32LE=function(e,t){return e=e>>>0,t||lt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};L.prototype.readInt32BE=function(e,t){return e=e>>>0,t||lt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};L.prototype.readBigInt64LE=dr(function(e){e=e>>>0,Jr(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&bn(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(r<<24);return(BigInt(i)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});L.prototype.readBigInt64BE=dr(function(e){e=e>>>0,Jr(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&bn(e,this.length-8);let i=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+r)});L.prototype.readFloatLE=function(e,t){return e=e>>>0,t||lt(e,4,this.length),Zr.read(this,e,!0,23,4)};L.prototype.readFloatBE=function(e,t){return e=e>>>0,t||lt(e,4,this.length),Zr.read(this,e,!1,23,4)};L.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||lt(e,8,this.length),Zr.read(this,e,!0,52,8)};L.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||lt(e,8,this.length),Zr.read(this,e,!1,52,8)};function Bt(n,e,t,r,i,o){if(!L.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(t+r>n.length)throw new RangeError("Index out of range")}L.prototype.writeUintLE=L.prototype.writeUIntLE=function(e,t,r,i){if(e=+e,t=t>>>0,r=r>>>0,!i){let f=Math.pow(2,8*r)-1;Bt(this,e,t,r,f,0)}let o=1,s=0;for(this[t]=e&255;++s<r&&(o*=256);)this[t+s]=e/o&255;return t+r};L.prototype.writeUintBE=L.prototype.writeUIntBE=function(e,t,r,i){if(e=+e,t=t>>>0,r=r>>>0,!i){let f=Math.pow(2,8*r)-1;Bt(this,e,t,r,f,0)}let o=r-1,s=1;for(this[t+o]=e&255;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+r};L.prototype.writeUint8=L.prototype.writeUInt8=function(e,t,r){return e=+e,t=t>>>0,r||Bt(this,e,t,1,255,0),this[t]=e&255,t+1};L.prototype.writeUint16LE=L.prototype.writeUInt16LE=function(e,t,r){return e=+e,t=t>>>0,r||Bt(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};L.prototype.writeUint16BE=L.prototype.writeUInt16BE=function(e,t,r){return e=+e,t=t>>>0,r||Bt(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};L.prototype.writeUint32LE=L.prototype.writeUInt32LE=function(e,t,r){return e=+e,t=t>>>0,r||Bt(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};L.prototype.writeUint32BE=L.prototype.writeUInt32BE=function(e,t,r){return e=+e,t=t>>>0,r||Bt(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function kc(n,e,t,r,i){Pc(e,r,i,n,t,7);let o=Number(e&BigInt(4294967295));n[t++]=o,o=o>>8,n[t++]=o,o=o>>8,n[t++]=o,o=o>>8,n[t++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return n[t++]=s,s=s>>8,n[t++]=s,s=s>>8,n[t++]=s,s=s>>8,n[t++]=s,t}function Lc(n,e,t,r,i){Pc(e,r,i,n,t,7);let o=Number(e&BigInt(4294967295));n[t+7]=o,o=o>>8,n[t+6]=o,o=o>>8,n[t+5]=o,o=o>>8,n[t+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return n[t+3]=s,s=s>>8,n[t+2]=s,s=s>>8,n[t+1]=s,s=s>>8,n[t]=s,t+8}L.prototype.writeBigUInt64LE=dr(function(e,t=0){return kc(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});L.prototype.writeBigUInt64BE=dr(function(e,t=0){return Lc(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});L.prototype.writeIntLE=function(e,t,r,i){if(e=+e,t=t>>>0,!i){let l=Math.pow(2,8*r-1);Bt(this,e,t,r,l-1,-l)}let o=0,s=1,f=0;for(this[t]=e&255;++o<r&&(s*=256);)e<0&&f===0&&this[t+o-1]!==0&&(f=1),this[t+o]=(e/s>>0)-f&255;return t+r};L.prototype.writeIntBE=function(e,t,r,i){if(e=+e,t=t>>>0,!i){let l=Math.pow(2,8*r-1);Bt(this,e,t,r,l-1,-l)}let o=r-1,s=1,f=0;for(this[t+o]=e&255;--o>=0&&(s*=256);)e<0&&f===0&&this[t+o+1]!==0&&(f=1),this[t+o]=(e/s>>0)-f&255;return t+r};L.prototype.writeInt8=function(e,t,r){return e=+e,t=t>>>0,r||Bt(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};L.prototype.writeInt16LE=function(e,t,r){return e=+e,t=t>>>0,r||Bt(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};L.prototype.writeInt16BE=function(e,t,r){return e=+e,t=t>>>0,r||Bt(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};L.prototype.writeInt32LE=function(e,t,r){return e=+e,t=t>>>0,r||Bt(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};L.prototype.writeInt32BE=function(e,t,r){return e=+e,t=t>>>0,r||Bt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};L.prototype.writeBigInt64LE=dr(function(e,t=0){return kc(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});L.prototype.writeBigInt64BE=dr(function(e,t=0){return Lc(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Cc(n,e,t,r,i,o){if(t+r>n.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function Mc(n,e,t,r,i){return e=+e,t=t>>>0,i||Cc(n,e,t,4,34028234663852886e22,-34028234663852886e22),Zr.write(n,e,t,r,23,4),t+4}L.prototype.writeFloatLE=function(e,t,r){return Mc(this,e,t,!0,r)};L.prototype.writeFloatBE=function(e,t,r){return Mc(this,e,t,!1,r)};function Uc(n,e,t,r,i){return e=+e,t=t>>>0,i||Cc(n,e,t,8,17976931348623157e292,-17976931348623157e292),Zr.write(n,e,t,r,52,8),t+8}L.prototype.writeDoubleLE=function(e,t,r){return Uc(this,e,t,!0,r)};L.prototype.writeDoubleBE=function(e,t,r){return Uc(this,e,t,!1,r)};L.prototype.copy=function(e,t,r,i){if(!L.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),!i&&i!==0&&(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<r&&(i=r),i===r||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);let o=i-r;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,r,i):Uint8Array.prototype.set.call(e,this.subarray(r,i),t),o};L.prototype.fill=function(e,t,r,i){if(typeof e=="string"){if(typeof t=="string"?(i=t,t=0,r=this.length):typeof r=="string"&&(i=r,r=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!L.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t=t>>>0,r=r===void 0?this.length:r>>>0,e||(e=0);let o;if(typeof e=="number")for(o=t;o<r;++o)this[o]=e;else{let s=L.isBuffer(e)?e:L.from(e,i),f=s.length;if(f===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=s[o%f]}return this};var Xr={};function rs(n,e,t){Xr[n]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${n}]`,this.stack,delete this.name}get code(){return n}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${n}]: ${this.message}`}}}rs("ERR_BUFFER_OUT_OF_BOUNDS",function(n){return n?`${n} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);rs("ERR_INVALID_ARG_TYPE",function(n,e){return`The "${n}" argument must be of type number. Received type ${typeof e}`},TypeError);rs("ERR_OUT_OF_RANGE",function(n,e,t){let r=`The value of "${n}" is out of range.`,i=t;return Number.isInteger(t)&&Math.abs(t)>2**32?i=vc(String(t)):typeof t=="bigint"&&(i=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(i=vc(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r},RangeError);function vc(n){let e="",t=n.length,r=n[0]==="-"?1:0;for(;t>=r+4;t-=3)e=`_${n.slice(t-3,t)}${e}`;return`${n.slice(0,t)}${e}`}function ah(n,e,t){Jr(e,"offset"),(n[e]===void 0||n[e+t]===void 0)&&bn(e,n.length-(t+1))}function Pc(n,e,t,r,i,o){if(n>t||n<e){let s=typeof e=="bigint"?"n":"",f;throw o>3?e===0||e===BigInt(0)?f=`>= 0${s} and < 2${s} ** ${(o+1)*8}${s}`:f=`>= -(2${s} ** ${(o+1)*8-1}${s}) and < 2 ** ${(o+1)*8-1}${s}`:f=`>= ${e}${s} and <= ${t}${s}`,new Xr.ERR_OUT_OF_RANGE("value",f,n)}ah(r,i,o)}function Jr(n,e){if(typeof n!="number")throw new Xr.ERR_INVALID_ARG_TYPE(e,"number",n)}function bn(n,e,t){throw Math.floor(n)!==n?(Jr(n,t),new Xr.ERR_OUT_OF_RANGE(t||"offset","an integer",n)):e<0?new Xr.ERR_BUFFER_OUT_OF_BOUNDS:new Xr.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,n)}var ch=/[^+/0-9A-Za-z-_]/g;function uh(n){if(n=n.split("=")[0],n=n.trim().replace(ch,""),n.length<2)return"";for(;n.length%4!==0;)n=n+"=";return n}function Qo(n,e){e=e||1/0;let t,r=n.length,i=null,o=[];for(let s=0;s<r;++s){if(t=n.charCodeAt(s),t>55295&&t<57344){if(!i){if(t>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&o.push(239,191,189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,t<128){if((e-=1)<0)break;o.push(t)}else if(t<2048){if((e-=2)<0)break;o.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;o.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return o}function fh(n){let e=[];for(let t=0;t<n.length;++t)e.push(n.charCodeAt(t)&255);return e}function lh(n,e){let t,r,i,o=[];for(let s=0;s<n.length&&!((e-=2)<0);++s)t=n.charCodeAt(s),r=t>>8,i=t%256,o.push(i),o.push(r);return o}function Dc(n){return Xo.toByteArray(uh(n))}function jn(n,e,t,r){let i;for(i=0;i<r&&!(i+t>=e.length||i>=n.length);++i)e[i+t]=n[i];return i}function Ht(n,e){return n instanceof e||n!=null&&n.constructor!=null&&n.constructor.name!=null&&n.constructor.name===e.name}function ns(n){return n!==n}var hh=(function(){let n="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let r=t*16;for(let i=0;i<16;++i)e[r+i]=n[t]+n[i]}return e})();function dr(n){return typeof BigInt>"u"?dh:n}function dh(){throw new Error("BigInt not supported")}});var os=St((zc,is)=>{"use strict";(function(n,e){"use strict";function t(p,a){if(!p)throw new Error(a||"Assertion failed")}function r(p,a){p.super_=a;var c=function(){};c.prototype=a.prototype,p.prototype=new c,p.prototype.constructor=p}function i(p,a,c){if(i.isBN(p))return p;this.negative=0,this.words=null,this.length=0,this.red=null,p!==null&&((a==="le"||a==="be")&&(c=a,a=10),this._init(p||0,a||10,c||"be"))}typeof n=="object"?n.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Fc().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,c){return a.cmp(c)>0?a:c},i.min=function(a,c){return a.cmp(c)<0?a:c},i.prototype._init=function(a,c,h){if(typeof a=="number")return this._initNumber(a,c,h);if(typeof a=="object")return this._initArray(a,c,h);c==="hex"&&(c=16),t(c===(c|0)&&c>=2&&c<=36),a=a.toString().replace(/\s+/g,"");var d=0;a[0]==="-"&&(d++,this.negative=1),d<a.length&&(c===16?this._parseHex(a,d,h):(this._parseBase(a,c,d),h==="le"&&this._initArray(this.toArray(),c,h)))},i.prototype._initNumber=function(a,c,h){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(t(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),c,h)},i.prototype._initArray=function(a,c,h){if(t(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var y,w,b=0;if(h==="be")for(d=a.length-1,y=0;d>=0;d-=3)w=a[d]|a[d-1]<<8|a[d-2]<<16,this.words[y]|=w<<b&67108863,this.words[y+1]=w>>>26-b&67108863,b+=24,b>=26&&(b-=26,y++);else if(h==="le")for(d=0,y=0;d<a.length;d+=3)w=a[d]|a[d+1]<<8|a[d+2]<<16,this.words[y]|=w<<b&67108863,this.words[y+1]=w>>>26-b&67108863,b+=24,b>=26&&(b-=26,y++);return this._strip()};function s(p,a){var c=p.charCodeAt(a);if(c>=48&&c<=57)return c-48;if(c>=65&&c<=70)return c-55;if(c>=97&&c<=102)return c-87;t(!1,"Invalid character in "+p)}function f(p,a,c){var h=s(p,c);return c-1>=a&&(h|=s(p,c-1)<<4),h}i.prototype._parseHex=function(a,c,h){this.length=Math.ceil((a.length-c)/6),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var y=0,w=0,b;if(h==="be")for(d=a.length-1;d>=c;d-=2)b=f(a,c,d)<<y,this.words[w]|=b&67108863,y>=18?(y-=18,w+=1,this.words[w]|=b>>>26):y+=8;else{var g=a.length-c;for(d=g%2===0?c+1:c;d<a.length;d+=2)b=f(a,c,d)<<y,this.words[w]|=b&67108863,y>=18?(y-=18,w+=1,this.words[w]|=b>>>26):y+=8}this._strip()};function l(p,a,c,h){for(var d=0,y=0,w=Math.min(p.length,c),b=a;b<w;b++){var g=p.charCodeAt(b)-48;d*=h,g>=49?y=g-49+10:g>=17?y=g-17+10:y=g,t(g>=0&&y<h,"Invalid character"),d+=y}return d}i.prototype._parseBase=function(a,c,h){this.words=[0],this.length=1;for(var d=0,y=1;y<=67108863;y*=c)d++;d--,y=y/c|0;for(var w=a.length-h,b=w%d,g=Math.min(w,w-b)+h,u=0,_=h;_<g;_+=d)u=l(a,_,_+d,c),this.imuln(y),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(b!==0){var F=1;for(u=l(a,_,a.length,c),_=0;_<b;_++)F*=c;this.imuln(F),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var c=0;c<this.length;c++)a.words[c]=this.words[c];a.length=this.length,a.negative=this.negative,a.red=this.red};function m(p,a){p.words=a.words,p.length=a.length,p.negative=a.negative,p.red=a.red}if(i.prototype._move=function(a){m(a,this)},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=E}catch{i.prototype.inspect=E}else i.prototype.inspect=E;function E(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,c){a=a||10,c=c|0||1;var h;if(a===16||a==="hex"){h="";for(var d=0,y=0,w=0;w<this.length;w++){var b=this.words[w],g=((b<<d|y)&16777215).toString(16);y=b>>>24-d&16777215,d+=2,d>=26&&(d-=26,w--),y!==0||w!==this.length-1?h=S[6-g.length]+g+h:h=g+h}for(y!==0&&(h=y.toString(16)+h);h.length%c!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(a===(a|0)&&a>=2&&a<=36){var u=v[a],_=A[a];h="";var F=this.clone();for(F.negative=0;!F.isZero();){var D=F.modrn(_).toString(a);F=F.idivn(_),F.isZero()?h=D+h:h=S[u-D.length]+D+h}for(this.isZero()&&(h="0"+h);h.length%c!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}t(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(a,c){return this.toArrayLike(o,a,c)}),i.prototype.toArray=function(a,c){return this.toArrayLike(Array,a,c)};var I=function(a,c){return a.allocUnsafe?a.allocUnsafe(c):new a(c)};i.prototype.toArrayLike=function(a,c,h){this._strip();var d=this.byteLength(),y=h||Math.max(1,d);t(d<=y,"byte array longer than desired length"),t(y>0,"Requested array length <= 0");var w=I(a,y),b=c==="le"?"LE":"BE";return this["_toArrayLike"+b](w,d),w},i.prototype._toArrayLikeLE=function(a,c){for(var h=0,d=0,y=0,w=0;y<this.length;y++){var b=this.words[y]<<w|d;a[h++]=b&255,h<a.length&&(a[h++]=b>>8&255),h<a.length&&(a[h++]=b>>16&255),w===6?(h<a.length&&(a[h++]=b>>24&255),d=0,w=0):(d=b>>>24,w+=2)}if(h<a.length)for(a[h++]=d;h<a.length;)a[h++]=0},i.prototype._toArrayLikeBE=function(a,c){for(var h=a.length-1,d=0,y=0,w=0;y<this.length;y++){var b=this.words[y]<<w|d;a[h--]=b&255,h>=0&&(a[h--]=b>>8&255),h>=0&&(a[h--]=b>>16&255),w===6?(h>=0&&(a[h--]=b>>24&255),d=0,w=0):(d=b>>>24,w+=2)}if(h>=0)for(a[h--]=d;h>=0;)a[h--]=0},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var c=a,h=0;return c>=4096&&(h+=13,c>>>=13),c>=64&&(h+=7,c>>>=7),c>=8&&(h+=4,c>>>=4),c>=2&&(h+=2,c>>>=2),h+c},i.prototype._zeroBits=function(a){if(a===0)return 26;var c=a,h=0;return(c&8191)===0&&(h+=13,c>>>=13),(c&127)===0&&(h+=7,c>>>=7),(c&15)===0&&(h+=4,c>>>=4),(c&3)===0&&(h+=2,c>>>=2),(c&1)===0&&h++,h},i.prototype.bitLength=function(){var a=this.words[this.length-1],c=this._countBits(a);return(this.length-1)*26+c};function x(p){for(var a=new Array(p.bitLength()),c=0;c<a.length;c++){var h=c/26|0,d=c%26;a[c]=p.words[h]>>>d&1}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,c=0;c<this.length;c++){var h=this._zeroBits(this.words[c]);if(a+=h,h!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var c=0;c<a.length;c++)this.words[c]=this.words[c]|a.words[c];return this._strip()},i.prototype.ior=function(a){return t((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var c;this.length>a.length?c=a:c=this;for(var h=0;h<c.length;h++)this.words[h]=this.words[h]&a.words[h];return this.length=c.length,this._strip()},i.prototype.iand=function(a){return t((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var c,h;this.length>a.length?(c=this,h=a):(c=a,h=this);for(var d=0;d<h.length;d++)this.words[d]=c.words[d]^h.words[d];if(this!==c)for(;d<c.length;d++)this.words[d]=c.words[d];return this.length=c.length,this._strip()},i.prototype.ixor=function(a){return t((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){t(typeof a=="number"&&a>=0);var c=Math.ceil(a/26)|0,h=a%26;this._expand(c),h>0&&c--;for(var d=0;d<c;d++)this.words[d]=~this.words[d]&67108863;return h>0&&(this.words[d]=~this.words[d]&67108863>>26-h),this._strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,c){t(typeof a=="number"&&a>=0);var h=a/26|0,d=a%26;return this._expand(h+1),c?this.words[h]=this.words[h]|1<<d:this.words[h]=this.words[h]&~(1<<d),this._strip()},i.prototype.iadd=function(a){var c;if(this.negative!==0&&a.negative===0)return this.negative=0,c=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,c=this.isub(a),a.negative=1,c._normSign();var h,d;this.length>a.length?(h=this,d=a):(h=a,d=this);for(var y=0,w=0;w<d.length;w++)c=(h.words[w]|0)+(d.words[w]|0)+y,this.words[w]=c&67108863,y=c>>>26;for(;y!==0&&w<h.length;w++)c=(h.words[w]|0)+y,this.words[w]=c&67108863,y=c>>>26;if(this.length=h.length,y!==0)this.words[this.length]=y,this.length++;else if(h!==this)for(;w<h.length;w++)this.words[w]=h.words[w];return this},i.prototype.add=function(a){var c;return a.negative!==0&&this.negative===0?(a.negative=0,c=this.sub(a),a.negative^=1,c):a.negative===0&&this.negative!==0?(this.negative=0,c=a.sub(this),this.negative=1,c):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var c=this.iadd(a);return a.negative=1,c._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var h=this.cmp(a);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var d,y;h>0?(d=this,y=a):(d=a,y=this);for(var w=0,b=0;b<y.length;b++)c=(d.words[b]|0)-(y.words[b]|0)+w,w=c>>26,this.words[b]=c&67108863;for(;w!==0&&b<d.length;b++)c=(d.words[b]|0)+w,w=c>>26,this.words[b]=c&67108863;if(w===0&&b<d.length&&d!==this)for(;b<d.length;b++)this.words[b]=d.words[b];return this.length=Math.max(this.length,b),d!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function T(p,a,c){c.negative=a.negative^p.negative;var h=p.length+a.length|0;c.length=h,h=h-1|0;var d=p.words[0]|0,y=a.words[0]|0,w=d*y,b=w&67108863,g=w/67108864|0;c.words[0]=b;for(var u=1;u<h;u++){for(var _=g>>>26,F=g&67108863,D=Math.min(u,a.length-1),q=Math.max(0,u-p.length+1);q<=D;q++){var H=u-q|0;d=p.words[H]|0,y=a.words[q]|0,w=d*y+F,_+=w/67108864|0,F=w&67108863}c.words[u]=F|0,g=_|0}return g!==0?c.words[u]=g|0:c.length--,c._strip()}var N=function(a,c,h){var d=a.words,y=c.words,w=h.words,b=0,g,u,_,F=d[0]|0,D=F&8191,q=F>>>13,H=d[1]|0,oe=H&8191,ne=H>>>13,Ee=d[2]|0,de=Ee&8191,me=Ee>>>13,yn=d[3]|0,xe=yn&8191,Be=yn>>>13,pa=d[4]|0,Ne=pa&8191,Te=pa>>>13,ya=d[5]|0,ke=ya&8191,Le=ya>>>13,ga=d[6]|0,Ce=ga&8191,Me=ga>>>13,ma=d[7]|0,Ue=ma&8191,Pe=ma>>>13,_a=d[8]|0,De=_a&8191,Fe=_a>>>13,wa=d[9]|0,ze=wa&8191,Ke=wa>>>13,Ea=y[0]|0,$e=Ea&8191,qe=Ea>>>13,Ra=y[1]|0,Ve=Ra&8191,We=Ra>>>13,ba=y[2]|0,Ge=ba&8191,He=ba>>>13,Sa=y[3]|0,Ye=Sa&8191,je=Sa>>>13,Aa=y[4]|0,Xe=Aa&8191,Ze=Aa>>>13,Ia=y[5]|0,Je=Ia&8191,Qe=Ia>>>13,va=y[6]|0,et=va&8191,tt=va>>>13,Oa=y[7]|0,rt=Oa&8191,nt=Oa>>>13,xa=y[8]|0,it=xa&8191,ot=xa>>>13,Ba=y[9]|0,st=Ba&8191,at=Ba>>>13;h.negative=a.negative^c.negative,h.length=19,g=Math.imul(D,$e),u=Math.imul(D,qe),u=u+Math.imul(q,$e)|0,_=Math.imul(q,qe);var Ji=(b+g|0)+((u&8191)<<13)|0;b=(_+(u>>>13)|0)+(Ji>>>26)|0,Ji&=67108863,g=Math.imul(oe,$e),u=Math.imul(oe,qe),u=u+Math.imul(ne,$e)|0,_=Math.imul(ne,qe),g=g+Math.imul(D,Ve)|0,u=u+Math.imul(D,We)|0,u=u+Math.imul(q,Ve)|0,_=_+Math.imul(q,We)|0;var Qi=(b+g|0)+((u&8191)<<13)|0;b=(_+(u>>>13)|0)+(Qi>>>26)|0,Qi&=67108863,g=Math.imul(de,$e),u=Math.imul(de,qe),u=u+Math.imul(me,$e)|0,_=Math.imul(me,qe),g=g+Math.imul(oe,Ve)|0,u=u+Math.imul(oe,We)|0,u=u+Math.imul(ne,Ve)|0,_=_+Math.imul(ne,We)|0,g=g+Math.imul(D,Ge)|0,u=u+Math.imul(D,He)|0,u=u+Math.imul(q,Ge)|0,_=_+Math.imul(q,He)|0;var eo=(b+g|0)+((u&8191)<<13)|0;b=(_+(u>>>13)|0)+(eo>>>26)|0,eo&=67108863,g=Math.imul(xe,$e),u=Math.imul(xe,qe),u=u+Math.imul(Be,$e)|0,_=Math.imul(Be,qe),g=g+Math.imul(de,Ve)|0,u=u+Math.imul(de,We)|0,u=u+Math.imul(me,Ve)|0,_=_+Math.imul(me,We)|0,g=g+Math.imul(oe,Ge)|0,u=u+Math.imul(oe,He)|0,u=u+Math.imul(ne,Ge)|0,_=_+Math.imul(ne,He)|0,g=g+Math.imul(D,Ye)|0,u=u+Math.imul(D,je)|0,u=u+Math.imul(q,Ye)|0,_=_+Math.imul(q,je)|0;var to=(b+g|0)+((u&8191)<<13)|0;b=(_+(u>>>13)|0)+(to>>>26)|0,to&=67108863,g=Math.imul(Ne,$e),u=Math.imul(Ne,qe),u=u+Math.imul(Te,$e)|0,_=Math.imul(Te,qe),g=g+Math.imul(xe,Ve)|0,u=u+Math.imul(xe,We)|0,u=u+Math.imul(Be,Ve)|0,_=_+Math.imul(Be,We)|0,g=g+Math.imul(de,Ge)|0,u=u+Math.imul(de,He)|0,u=u+Math.imul(me,Ge)|0,_=_+Math.imul(me,He)|0,g=g+Math.imul(oe,Ye)|0,u=u+Math.imul(oe,je)|0,u=u+Math.imul(ne,Ye)|0,_=_+Math.imul(ne,je)|0,g=g+Math.imul(D,Xe)|0,u=u+Math.imul(D,Ze)|0,u=u+Math.imul(q,Xe)|0,_=_+Math.imul(q,Ze)|0;var ro=(b+g|0)+((u&8191)<<13)|0;b=(_+(u>>>13)|0)+(ro>>>26)|0,ro&=67108863,g=Math.imul(ke,$e),u=Math.imul(ke,qe),u=u+Math.imul(Le,$e)|0,_=Math.imul(Le,qe),g=g+Math.imul(Ne,Ve)|0,u=u+Math.imul(Ne,We)|0,u=u+Math.imul(Te,Ve)|0,_=_+Math.imul(Te,We)|0,g=g+Math.imul(xe,Ge)|0,u=u+Math.imul(xe,He)|0,u=u+Math.imul(Be,Ge)|0,_=_+Math.imul(Be,He)|0,g=g+Math.imul(de,Ye)|0,u=u+Math.imul(de,je)|0,u=u+Math.imul(me,Ye)|0,_=_+Math.imul(me,je)|0,g=g+Math.imul(oe,Xe)|0,u=u+Math.imul(oe,Ze)|0,u=u+Math.imul(ne,Xe)|0,_=_+Math.imul(ne,Ze)|0,g=g+Math.imul(D,Je)|0,u=u+Math.imul(D,Qe)|0,u=u+Math.imul(q,Je)|0,_=_+Math.imul(q,Qe)|0;var no=(b+g|0)+((u&8191)<<13)|0;b=(_+(u>>>13)|0)+(no>>>26)|0,no&=67108863,g=Math.imul(Ce,$e),u=Math.imul(Ce,qe),u=u+Math.imul(Me,$e)|0,_=Math.imul(Me,qe),g=g+Math.imul(ke,Ve)|0,u=u+Math.imul(ke,We)|0,u=u+Math.imul(Le,Ve)|0,_=_+Math.imul(Le,We)|0,g=g+Math.imul(Ne,Ge)|0,u=u+Math.imul(Ne,He)|0,u=u+Math.imul(Te,Ge)|0,_=_+Math.imul(Te,He)|0,g=g+Math.imul(xe,Ye)|0,u=u+Math.imul(xe,je)|0,u=u+Math.imul(Be,Ye)|0,_=_+Math.imul(Be,je)|0,g=g+Math.imul(de,Xe)|0,u=u+Math.imul(de,Ze)|0,u=u+Math.imul(me,Xe)|0,_=_+Math.imul(me,Ze)|0,g=g+Math.imul(oe,Je)|0,u=u+Math.imul(oe,Qe)|0,u=u+Math.imul(ne,Je)|0,_=_+Math.imul(ne,Qe)|0,g=g+Math.imul(D,et)|0,u=u+Math.imul(D,tt)|0,u=u+Math.imul(q,et)|0,_=_+Math.imul(q,tt)|0;var io=(b+g|0)+((u&8191)<<13)|0;b=(_+(u>>>13)|0)+(io>>>26)|0,io&=67108863,g=Math.imul(Ue,$e),u=Math.imul(Ue,qe),u=u+Math.imul(Pe,$e)|0,_=Math.imul(Pe,qe),g=g+Math.imul(Ce,Ve)|0,u=u+Math.imul(Ce,We)|0,u=u+Math.imul(Me,Ve)|0,_=_+Math.imul(Me,We)|0,g=g+Math.imul(ke,Ge)|0,u=u+Math.imul(ke,He)|0,u=u+Math.imul(Le,Ge)|0,_=_+Math.imul(Le,He)|0,g=g+Math.imul(Ne,Ye)|0,u=u+Math.imul(Ne,je)|0,u=u+Math.imul(Te,Ye)|0,_=_+Math.imul(Te,je)|0,g=g+Math.imul(xe,Xe)|0,u=u+Math.imul(xe,Ze)|0,u=u+Math.imul(Be,Xe)|0,_=_+Math.imul(Be,Ze)|0,g=g+Math.imul(de,Je)|0,u=u+Math.imul(de,Qe)|0,u=u+Math.imul(me,Je)|0,_=_+Math.imul(me,Qe)|0,g=g+Math.imul(oe,et)|0,u=u+Math.imul(oe,tt)|0,u=u+Math.imul(ne,et)|0,_=_+Math.imul(ne,tt)|0,g=g+Math.imul(D,rt)|0,u=u+Math.imul(D,nt)|0,u=u+Math.imul(q,rt)|0,_=_+Math.imul(q,nt)|0;var oo=(b+g|0)+((u&8191)<<13)|0;b=(_+(u>>>13)|0)+(oo>>>26)|0,oo&=67108863,g=Math.imul(De,$e),u=Math.imul(De,qe),u=u+Math.imul(Fe,$e)|0,_=Math.imul(Fe,qe),g=g+Math.imul(Ue,Ve)|0,u=u+Math.imul(Ue,We)|0,u=u+Math.imul(Pe,Ve)|0,_=_+Math.imul(Pe,We)|0,g=g+Math.imul(Ce,Ge)|0,u=u+Math.imul(Ce,He)|0,u=u+Math.imul(Me,Ge)|0,_=_+Math.imul(Me,He)|0,g=g+Math.imul(ke,Ye)|0,u=u+Math.imul(ke,je)|0,u=u+Math.imul(Le,Ye)|0,_=_+Math.imul(Le,je)|0,g=g+Math.imul(Ne,Xe)|0,u=u+Math.imul(Ne,Ze)|0,u=u+Math.imul(Te,Xe)|0,_=_+Math.imul(Te,Ze)|0,g=g+Math.imul(xe,Je)|0,u=u+Math.imul(xe,Qe)|0,u=u+Math.imul(Be,Je)|0,_=_+Math.imul(Be,Qe)|0,g=g+Math.imul(de,et)|0,u=u+Math.imul(de,tt)|0,u=u+Math.imul(me,et)|0,_=_+Math.imul(me,tt)|0,g=g+Math.imul(oe,rt)|0,u=u+Math.imul(oe,nt)|0,u=u+Math.imul(ne,rt)|0,_=_+Math.imul(ne,nt)|0,g=g+Math.imul(D,it)|0,u=u+Math.imul(D,ot)|0,u=u+Math.imul(q,it)|0,_=_+Math.imul(q,ot)|0;var so=(b+g|0)+((u&8191)<<13)|0;b=(_+(u>>>13)|0)+(so>>>26)|0,so&=67108863,g=Math.imul(ze,$e),u=Math.imul(ze,qe),u=u+Math.imul(Ke,$e)|0,_=Math.imul(Ke,qe),g=g+Math.imul(De,Ve)|0,u=u+Math.imul(De,We)|0,u=u+Math.imul(Fe,Ve)|0,_=_+Math.imul(Fe,We)|0,g=g+Math.imul(Ue,Ge)|0,u=u+Math.imul(Ue,He)|0,u=u+Math.imul(Pe,Ge)|0,_=_+Math.imul(Pe,He)|0,g=g+Math.imul(Ce,Ye)|0,u=u+Math.imul(Ce,je)|0,u=u+Math.imul(Me,Ye)|0,_=_+Math.imul(Me,je)|0,g=g+Math.imul(ke,Xe)|0,u=u+Math.imul(ke,Ze)|0,u=u+Math.imul(Le,Xe)|0,_=_+Math.imul(Le,Ze)|0,g=g+Math.imul(Ne,Je)|0,u=u+Math.imul(Ne,Qe)|0,u=u+Math.imul(Te,Je)|0,_=_+Math.imul(Te,Qe)|0,g=g+Math.imul(xe,et)|0,u=u+Math.imul(xe,tt)|0,u=u+Math.imul(Be,et)|0,_=_+Math.imul(Be,tt)|0,g=g+Math.imul(de,rt)|0,u=u+Math.imul(de,nt)|0,u=u+Math.imul(me,rt)|0,_=_+Math.imul(me,nt)|0,g=g+Math.imul(oe,it)|0,u=u+Math.imul(oe,ot)|0,u=u+Math.imul(ne,it)|0,_=_+Math.imul(ne,ot)|0,g=g+Math.imul(D,st)|0,u=u+Math.imul(D,at)|0,u=u+Math.imul(q,st)|0,_=_+Math.imul(q,at)|0;var ao=(b+g|0)+((u&8191)<<13)|0;b=(_+(u>>>13)|0)+(ao>>>26)|0,ao&=67108863,g=Math.imul(ze,Ve),u=Math.imul(ze,We),u=u+Math.imul(Ke,Ve)|0,_=Math.imul(Ke,We),g=g+Math.imul(De,Ge)|0,u=u+Math.imul(De,He)|0,u=u+Math.imul(Fe,Ge)|0,_=_+Math.imul(Fe,He)|0,g=g+Math.imul(Ue,Ye)|0,u=u+Math.imul(Ue,je)|0,u=u+Math.imul(Pe,Ye)|0,_=_+Math.imul(Pe,je)|0,g=g+Math.imul(Ce,Xe)|0,u=u+Math.imul(Ce,Ze)|0,u=u+Math.imul(Me,Xe)|0,_=_+Math.imul(Me,Ze)|0,g=g+Math.imul(ke,Je)|0,u=u+Math.imul(ke,Qe)|0,u=u+Math.imul(Le,Je)|0,_=_+Math.imul(Le,Qe)|0,g=g+Math.imul(Ne,et)|0,u=u+Math.imul(Ne,tt)|0,u=u+Math.imul(Te,et)|0,_=_+Math.imul(Te,tt)|0,g=g+Math.imul(xe,rt)|0,u=u+Math.imul(xe,nt)|0,u=u+Math.imul(Be,rt)|0,_=_+Math.imul(Be,nt)|0,g=g+Math.imul(de,it)|0,u=u+Math.imul(de,ot)|0,u=u+Math.imul(me,it)|0,_=_+Math.imul(me,ot)|0,g=g+Math.imul(oe,st)|0,u=u+Math.imul(oe,at)|0,u=u+Math.imul(ne,st)|0,_=_+Math.imul(ne,at)|0;var co=(b+g|0)+((u&8191)<<13)|0;b=(_+(u>>>13)|0)+(co>>>26)|0,co&=67108863,g=Math.imul(ze,Ge),u=Math.imul(ze,He),u=u+Math.imul(Ke,Ge)|0,_=Math.imul(Ke,He),g=g+Math.imul(De,Ye)|0,u=u+Math.imul(De,je)|0,u=u+Math.imul(Fe,Ye)|0,_=_+Math.imul(Fe,je)|0,g=g+Math.imul(Ue,Xe)|0,u=u+Math.imul(Ue,Ze)|0,u=u+Math.imul(Pe,Xe)|0,_=_+Math.imul(Pe,Ze)|0,g=g+Math.imul(Ce,Je)|0,u=u+Math.imul(Ce,Qe)|0,u=u+Math.imul(Me,Je)|0,_=_+Math.imul(Me,Qe)|0,g=g+Math.imul(ke,et)|0,u=u+Math.imul(ke,tt)|0,u=u+Math.imul(Le,et)|0,_=_+Math.imul(Le,tt)|0,g=g+Math.imul(Ne,rt)|0,u=u+Math.imul(Ne,nt)|0,u=u+Math.imul(Te,rt)|0,_=_+Math.imul(Te,nt)|0,g=g+Math.imul(xe,it)|0,u=u+Math.imul(xe,ot)|0,u=u+Math.imul(Be,it)|0,_=_+Math.imul(Be,ot)|0,g=g+Math.imul(de,st)|0,u=u+Math.imul(de,at)|0,u=u+Math.imul(me,st)|0,_=_+Math.imul(me,at)|0;var uo=(b+g|0)+((u&8191)<<13)|0;b=(_+(u>>>13)|0)+(uo>>>26)|0,uo&=67108863,g=Math.imul(ze,Ye),u=Math.imul(ze,je),u=u+Math.imul(Ke,Ye)|0,_=Math.imul(Ke,je),g=g+Math.imul(De,Xe)|0,u=u+Math.imul(De,Ze)|0,u=u+Math.imul(Fe,Xe)|0,_=_+Math.imul(Fe,Ze)|0,g=g+Math.imul(Ue,Je)|0,u=u+Math.imul(Ue,Qe)|0,u=u+Math.imul(Pe,Je)|0,_=_+Math.imul(Pe,Qe)|0,g=g+Math.imul(Ce,et)|0,u=u+Math.imul(Ce,tt)|0,u=u+Math.imul(Me,et)|0,_=_+Math.imul(Me,tt)|0,g=g+Math.imul(ke,rt)|0,u=u+Math.imul(ke,nt)|0,u=u+Math.imul(Le,rt)|0,_=_+Math.imul(Le,nt)|0,g=g+Math.imul(Ne,it)|0,u=u+Math.imul(Ne,ot)|0,u=u+Math.imul(Te,it)|0,_=_+Math.imul(Te,ot)|0,g=g+Math.imul(xe,st)|0,u=u+Math.imul(xe,at)|0,u=u+Math.imul(Be,st)|0,_=_+Math.imul(Be,at)|0;var fo=(b+g|0)+((u&8191)<<13)|0;b=(_+(u>>>13)|0)+(fo>>>26)|0,fo&=67108863,g=Math.imul(ze,Xe),u=Math.imul(ze,Ze),u=u+Math.imul(Ke,Xe)|0,_=Math.imul(Ke,Ze),g=g+Math.imul(De,Je)|0,u=u+Math.imul(De,Qe)|0,u=u+Math.imul(Fe,Je)|0,_=_+Math.imul(Fe,Qe)|0,g=g+Math.imul(Ue,et)|0,u=u+Math.imul(Ue,tt)|0,u=u+Math.imul(Pe,et)|0,_=_+Math.imul(Pe,tt)|0,g=g+Math.imul(Ce,rt)|0,u=u+Math.imul(Ce,nt)|0,u=u+Math.imul(Me,rt)|0,_=_+Math.imul(Me,nt)|0,g=g+Math.imul(ke,it)|0,u=u+Math.imul(ke,ot)|0,u=u+Math.imul(Le,it)|0,_=_+Math.imul(Le,ot)|0,g=g+Math.imul(Ne,st)|0,u=u+Math.imul(Ne,at)|0,u=u+Math.imul(Te,st)|0,_=_+Math.imul(Te,at)|0;var lo=(b+g|0)+((u&8191)<<13)|0;b=(_+(u>>>13)|0)+(lo>>>26)|0,lo&=67108863,g=Math.imul(ze,Je),u=Math.imul(ze,Qe),u=u+Math.imul(Ke,Je)|0,_=Math.imul(Ke,Qe),g=g+Math.imul(De,et)|0,u=u+Math.imul(De,tt)|0,u=u+Math.imul(Fe,et)|0,_=_+Math.imul(Fe,tt)|0,g=g+Math.imul(Ue,rt)|0,u=u+Math.imul(Ue,nt)|0,u=u+Math.imul(Pe,rt)|0,_=_+Math.imul(Pe,nt)|0,g=g+Math.imul(Ce,it)|0,u=u+Math.imul(Ce,ot)|0,u=u+Math.imul(Me,it)|0,_=_+Math.imul(Me,ot)|0,g=g+Math.imul(ke,st)|0,u=u+Math.imul(ke,at)|0,u=u+Math.imul(Le,st)|0,_=_+Math.imul(Le,at)|0;var ho=(b+g|0)+((u&8191)<<13)|0;b=(_+(u>>>13)|0)+(ho>>>26)|0,ho&=67108863,g=Math.imul(ze,et),u=Math.imul(ze,tt),u=u+Math.imul(Ke,et)|0,_=Math.imul(Ke,tt),g=g+Math.imul(De,rt)|0,u=u+Math.imul(De,nt)|0,u=u+Math.imul(Fe,rt)|0,_=_+Math.imul(Fe,nt)|0,g=g+Math.imul(Ue,it)|0,u=u+Math.imul(Ue,ot)|0,u=u+Math.imul(Pe,it)|0,_=_+Math.imul(Pe,ot)|0,g=g+Math.imul(Ce,st)|0,u=u+Math.imul(Ce,at)|0,u=u+Math.imul(Me,st)|0,_=_+Math.imul(Me,at)|0;var po=(b+g|0)+((u&8191)<<13)|0;b=(_+(u>>>13)|0)+(po>>>26)|0,po&=67108863,g=Math.imul(ze,rt),u=Math.imul(ze,nt),u=u+Math.imul(Ke,rt)|0,_=Math.imul(Ke,nt),g=g+Math.imul(De,it)|0,u=u+Math.imul(De,ot)|0,u=u+Math.imul(Fe,it)|0,_=_+Math.imul(Fe,ot)|0,g=g+Math.imul(Ue,st)|0,u=u+Math.imul(Ue,at)|0,u=u+Math.imul(Pe,st)|0,_=_+Math.imul(Pe,at)|0;var yo=(b+g|0)+((u&8191)<<13)|0;b=(_+(u>>>13)|0)+(yo>>>26)|0,yo&=67108863,g=Math.imul(ze,it),u=Math.imul(ze,ot),u=u+Math.imul(Ke,it)|0,_=Math.imul(Ke,ot),g=g+Math.imul(De,st)|0,u=u+Math.imul(De,at)|0,u=u+Math.imul(Fe,st)|0,_=_+Math.imul(Fe,at)|0;var go=(b+g|0)+((u&8191)<<13)|0;b=(_+(u>>>13)|0)+(go>>>26)|0,go&=67108863,g=Math.imul(ze,st),u=Math.imul(ze,at),u=u+Math.imul(Ke,st)|0,_=Math.imul(Ke,at);var mo=(b+g|0)+((u&8191)<<13)|0;return b=(_+(u>>>13)|0)+(mo>>>26)|0,mo&=67108863,w[0]=Ji,w[1]=Qi,w[2]=eo,w[3]=to,w[4]=ro,w[5]=no,w[6]=io,w[7]=oo,w[8]=so,w[9]=ao,w[10]=co,w[11]=uo,w[12]=fo,w[13]=lo,w[14]=ho,w[15]=po,w[16]=yo,w[17]=go,w[18]=mo,b!==0&&(w[19]=b,h.length++),h};Math.imul||(N=T);function P(p,a,c){c.negative=a.negative^p.negative,c.length=p.length+a.length;for(var h=0,d=0,y=0;y<c.length-1;y++){var w=d;d=0;for(var b=h&67108863,g=Math.min(y,a.length-1),u=Math.max(0,y-p.length+1);u<=g;u++){var _=y-u,F=p.words[_]|0,D=a.words[u]|0,q=F*D,H=q&67108863;w=w+(q/67108864|0)|0,H=H+b|0,b=H&67108863,w=w+(H>>>26)|0,d+=w>>>26,w&=67108863}c.words[y]=b,h=w,w=d}return h!==0?c.words[y]=h:c.length--,c._strip()}function U(p,a,c){return P(p,a,c)}i.prototype.mulTo=function(a,c){var h,d=this.length+a.length;return this.length===10&&a.length===10?h=N(this,a,c):d<63?h=T(this,a,c):d<1024?h=P(this,a,c):h=U(this,a,c),h};function K(p,a){this.x=p,this.y=a}K.prototype.makeRBT=function(a){for(var c=new Array(a),h=i.prototype._countBits(a)-1,d=0;d<a;d++)c[d]=this.revBin(d,h,a);return c},K.prototype.revBin=function(a,c,h){if(a===0||a===h-1)return a;for(var d=0,y=0;y<c;y++)d|=(a&1)<<c-y-1,a>>=1;return d},K.prototype.permute=function(a,c,h,d,y,w){for(var b=0;b<w;b++)d[b]=c[a[b]],y[b]=h[a[b]]},K.prototype.transform=function(a,c,h,d,y,w){this.permute(w,a,c,h,d,y);for(var b=1;b<y;b<<=1)for(var g=b<<1,u=Math.cos(2*Math.PI/g),_=Math.sin(2*Math.PI/g),F=0;F<y;F+=g)for(var D=u,q=_,H=0;H<b;H++){var oe=h[F+H],ne=d[F+H],Ee=h[F+H+b],de=d[F+H+b],me=D*Ee-q*de;de=D*de+q*Ee,Ee=me,h[F+H]=oe+Ee,d[F+H]=ne+de,h[F+H+b]=oe-Ee,d[F+H+b]=ne-de,H!==g&&(me=u*D-_*q,q=u*q+_*D,D=me)}},K.prototype.guessLen13b=function(a,c){var h=Math.max(c,a)|1,d=h&1,y=0;for(h=h/2|0;h;h=h>>>1)y++;return 1<<y+1+d},K.prototype.conjugate=function(a,c,h){if(!(h<=1))for(var d=0;d<h/2;d++){var y=a[d];a[d]=a[h-d-1],a[h-d-1]=y,y=c[d],c[d]=-c[h-d-1],c[h-d-1]=-y}},K.prototype.normalize13b=function(a,c){for(var h=0,d=0;d<c/2;d++){var y=Math.round(a[2*d+1]/c)*8192+Math.round(a[2*d]/c)+h;a[d]=y&67108863,y<67108864?h=0:h=y/67108864|0}return a},K.prototype.convert13b=function(a,c,h,d){for(var y=0,w=0;w<c;w++)y=y+(a[w]|0),h[2*w]=y&8191,y=y>>>13,h[2*w+1]=y&8191,y=y>>>13;for(w=2*c;w<d;++w)h[w]=0;t(y===0),t((y&-8192)===0)},K.prototype.stub=function(a){for(var c=new Array(a),h=0;h<a;h++)c[h]=0;return c},K.prototype.mulp=function(a,c,h){var d=2*this.guessLen13b(a.length,c.length),y=this.makeRBT(d),w=this.stub(d),b=new Array(d),g=new Array(d),u=new Array(d),_=new Array(d),F=new Array(d),D=new Array(d),q=h.words;q.length=d,this.convert13b(a.words,a.length,b,d),this.convert13b(c.words,c.length,_,d),this.transform(b,w,g,u,d,y),this.transform(_,w,F,D,d,y);for(var H=0;H<d;H++){var oe=g[H]*F[H]-u[H]*D[H];u[H]=g[H]*D[H]+u[H]*F[H],g[H]=oe}return this.conjugate(g,u,d),this.transform(g,u,q,w,d,y),this.conjugate(q,w,d),this.normalize13b(q,d),h.negative=a.negative^c.negative,h.length=a.length+c.length,h._strip()},i.prototype.mul=function(a){var c=new i(null);return c.words=new Array(this.length+a.length),this.mulTo(a,c)},i.prototype.mulf=function(a){var c=new i(null);return c.words=new Array(this.length+a.length),U(this,a,c)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){var c=a<0;c&&(a=-a),t(typeof a=="number"),t(a<67108864);for(var h=0,d=0;d<this.length;d++){var y=(this.words[d]|0)*a,w=(y&67108863)+(h&67108863);h>>=26,h+=y/67108864|0,h+=w>>>26,this.words[d]=w&67108863}return h!==0&&(this.words[d]=h,this.length++),this.length=a===0?1:this.length,c?this.ineg():this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var c=x(a);if(c.length===0)return new i(1);for(var h=this,d=0;d<c.length&&c[d]===0;d++,h=h.sqr());if(++d<c.length)for(var y=h.sqr();d<c.length;d++,y=y.sqr())c[d]!==0&&(h=h.mul(y));return h},i.prototype.iushln=function(a){t(typeof a=="number"&&a>=0);var c=a%26,h=(a-c)/26,d=67108863>>>26-c<<26-c,y;if(c!==0){var w=0;for(y=0;y<this.length;y++){var b=this.words[y]&d,g=(this.words[y]|0)-b<<c;this.words[y]=g|w,w=b>>>26-c}w&&(this.words[y]=w,this.length++)}if(h!==0){for(y=this.length-1;y>=0;y--)this.words[y+h]=this.words[y];for(y=0;y<h;y++)this.words[y]=0;this.length+=h}return this._strip()},i.prototype.ishln=function(a){return t(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,c,h){t(typeof a=="number"&&a>=0);var d;c?d=(c-c%26)/26:d=0;var y=a%26,w=Math.min((a-y)/26,this.length),b=67108863^67108863>>>y<<y,g=h;if(d-=w,d=Math.max(0,d),g){for(var u=0;u<w;u++)g.words[u]=this.words[u];g.length=w}if(w!==0)if(this.length>w)for(this.length-=w,u=0;u<this.length;u++)this.words[u]=this.words[u+w];else this.words[0]=0,this.length=1;var _=0;for(u=this.length-1;u>=0&&(_!==0||u>=d);u--){var F=this.words[u]|0;this.words[u]=_<<26-y|F>>>y,_=F&b}return g&&_!==0&&(g.words[g.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(a,c,h){return t(this.negative===0),this.iushrn(a,c,h)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){t(typeof a=="number"&&a>=0);var c=a%26,h=(a-c)/26,d=1<<c;if(this.length<=h)return!1;var y=this.words[h];return!!(y&d)},i.prototype.imaskn=function(a){t(typeof a=="number"&&a>=0);var c=a%26,h=(a-c)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(c!==0&&h++,this.length=Math.min(h,this.length),c!==0){var d=67108863^67108863>>>c<<c;this.words[this.length-1]&=d}return this._strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return t(typeof a=="number"),t(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},i.prototype.isubn=function(a){if(t(typeof a=="number"),t(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this._strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,c,h){var d=a.length+h,y;this._expand(d);var w,b=0;for(y=0;y<a.length;y++){w=(this.words[y+h]|0)+b;var g=(a.words[y]|0)*c;w-=g&67108863,b=(w>>26)-(g/67108864|0),this.words[y+h]=w&67108863}for(;y<this.length-h;y++)w=(this.words[y+h]|0)+b,b=w>>26,this.words[y+h]=w&67108863;if(b===0)return this._strip();for(t(b===-1),b=0,y=0;y<this.length;y++)w=-(this.words[y]|0)+b,b=w>>26,this.words[y]=w&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(a,c){var h=this.length-a.length,d=this.clone(),y=a,w=y.words[y.length-1]|0,b=this._countBits(w);h=26-b,h!==0&&(y=y.ushln(h),d.iushln(h),w=y.words[y.length-1]|0);var g=d.length-y.length,u;if(c!=="mod"){u=new i(null),u.length=g+1,u.words=new Array(u.length);for(var _=0;_<u.length;_++)u.words[_]=0}var F=d.clone()._ishlnsubmul(y,1,g);F.negative===0&&(d=F,u&&(u.words[g]=1));for(var D=g-1;D>=0;D--){var q=(d.words[y.length+D]|0)*67108864+(d.words[y.length+D-1]|0);for(q=Math.min(q/w|0,67108863),d._ishlnsubmul(y,q,D);d.negative!==0;)q--,d.negative=0,d._ishlnsubmul(y,1,D),d.isZero()||(d.negative^=1);u&&(u.words[D]=q)}return u&&u._strip(),d._strip(),c!=="div"&&h!==0&&d.iushrn(h),{div:u||null,mod:d}},i.prototype.divmod=function(a,c,h){if(t(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var d,y,w;return this.negative!==0&&a.negative===0?(w=this.neg().divmod(a,c),c!=="mod"&&(d=w.div.neg()),c!=="div"&&(y=w.mod.neg(),h&&y.negative!==0&&y.iadd(a)),{div:d,mod:y}):this.negative===0&&a.negative!==0?(w=this.divmod(a.neg(),c),c!=="mod"&&(d=w.div.neg()),{div:d,mod:w.mod}):(this.negative&a.negative)!==0?(w=this.neg().divmod(a.neg(),c),c!=="div"&&(y=w.mod.neg(),h&&y.negative!==0&&y.isub(a)),{div:w.div,mod:y}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?c==="div"?{div:this.divn(a.words[0]),mod:null}:c==="mod"?{div:null,mod:new i(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modrn(a.words[0]))}:this._wordDiv(a,c)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var c=this.divmod(a);if(c.mod.isZero())return c.div;var h=c.div.negative!==0?c.mod.isub(a):c.mod,d=a.ushrn(1),y=a.andln(1),w=h.cmp(d);return w<0||y===1&&w===0?c.div:c.div.negative!==0?c.div.isubn(1):c.div.iaddn(1)},i.prototype.modrn=function(a){var c=a<0;c&&(a=-a),t(a<=67108863);for(var h=(1<<26)%a,d=0,y=this.length-1;y>=0;y--)d=(h*d+(this.words[y]|0))%a;return c?-d:d},i.prototype.modn=function(a){return this.modrn(a)},i.prototype.idivn=function(a){var c=a<0;c&&(a=-a),t(a<=67108863);for(var h=0,d=this.length-1;d>=0;d--){var y=(this.words[d]|0)+h*67108864;this.words[d]=y/a|0,h=y%a}return this._strip(),c?this.ineg():this},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){t(a.negative===0),t(!a.isZero());var c=this,h=a.clone();c.negative!==0?c=c.umod(a):c=c.clone();for(var d=new i(1),y=new i(0),w=new i(0),b=new i(1),g=0;c.isEven()&&h.isEven();)c.iushrn(1),h.iushrn(1),++g;for(var u=h.clone(),_=c.clone();!c.isZero();){for(var F=0,D=1;(c.words[0]&D)===0&&F<26;++F,D<<=1);if(F>0)for(c.iushrn(F);F-- >0;)(d.isOdd()||y.isOdd())&&(d.iadd(u),y.isub(_)),d.iushrn(1),y.iushrn(1);for(var q=0,H=1;(h.words[0]&H)===0&&q<26;++q,H<<=1);if(q>0)for(h.iushrn(q);q-- >0;)(w.isOdd()||b.isOdd())&&(w.iadd(u),b.isub(_)),w.iushrn(1),b.iushrn(1);c.cmp(h)>=0?(c.isub(h),d.isub(w),y.isub(b)):(h.isub(c),w.isub(d),b.isub(y))}return{a:w,b,gcd:h.iushln(g)}},i.prototype._invmp=function(a){t(a.negative===0),t(!a.isZero());var c=this,h=a.clone();c.negative!==0?c=c.umod(a):c=c.clone();for(var d=new i(1),y=new i(0),w=h.clone();c.cmpn(1)>0&&h.cmpn(1)>0;){for(var b=0,g=1;(c.words[0]&g)===0&&b<26;++b,g<<=1);if(b>0)for(c.iushrn(b);b-- >0;)d.isOdd()&&d.iadd(w),d.iushrn(1);for(var u=0,_=1;(h.words[0]&_)===0&&u<26;++u,_<<=1);if(u>0)for(h.iushrn(u);u-- >0;)y.isOdd()&&y.iadd(w),y.iushrn(1);c.cmp(h)>=0?(c.isub(h),d.isub(y)):(h.isub(c),y.isub(d))}var F;return c.cmpn(1)===0?F=d:F=y,F.cmpn(0)<0&&F.iadd(a),F},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var c=this.clone(),h=a.clone();c.negative=0,h.negative=0;for(var d=0;c.isEven()&&h.isEven();d++)c.iushrn(1),h.iushrn(1);do{for(;c.isEven();)c.iushrn(1);for(;h.isEven();)h.iushrn(1);var y=c.cmp(h);if(y<0){var w=c;c=h,h=w}else if(y===0||h.cmpn(1)===0)break;c.isub(h)}while(!0);return h.iushln(d)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){t(typeof a=="number");var c=a%26,h=(a-c)/26,d=1<<c;if(this.length<=h)return this._expand(h+1),this.words[h]|=d,this;for(var y=d,w=h;y!==0&&w<this.length;w++){var b=this.words[w]|0;b+=y,y=b>>>26,b&=67108863,this.words[w]=b}return y!==0&&(this.words[w]=y,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var c=a<0;if(this.negative!==0&&!c)return-1;if(this.negative===0&&c)return 1;this._strip();var h;if(this.length>1)h=1;else{c&&(a=-a),t(a<=67108863,"Number is too big");var d=this.words[0]|0;h=d===a?0:d<a?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var c=this.ucmp(a);return this.negative!==0?-c|0:c},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var c=0,h=this.length-1;h>=0;h--){var d=this.words[h]|0,y=a.words[h]|0;if(d!==y){d<y?c=-1:d>y&&(c=1);break}}return c},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new G(a)},i.prototype.toRed=function(a){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return t(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return t(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var te={k256:null,p224:null,p192:null,p25519:null};function X(p,a){this.name=p,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}X.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},X.prototype.ireduce=function(a){var c=a,h;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),h=c.bitLength();while(h>this.n);var d=h<this.n?-1:c.ucmp(this.p);return d===0?(c.words[0]=0,c.length=1):d>0?c.isub(this.p):c.strip!==void 0?c.strip():c._strip(),c},X.prototype.split=function(a,c){a.iushrn(this.n,0,c)},X.prototype.imulK=function(a){return a.imul(this.k)};function ee(){X.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}r(ee,X),ee.prototype.split=function(a,c){for(var h=4194303,d=Math.min(a.length,9),y=0;y<d;y++)c.words[y]=a.words[y];if(c.length=d,a.length<=9){a.words[0]=0,a.length=1;return}var w=a.words[9];for(c.words[c.length++]=w&h,y=10;y<a.length;y++){var b=a.words[y]|0;a.words[y-10]=(b&h)<<4|w>>>22,w=b}w>>>=22,a.words[y-10]=w,w===0&&a.length>10?a.length-=10:a.length-=9},ee.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var c=0,h=0;h<a.length;h++){var d=a.words[h]|0;c+=d*977,a.words[h]=c&67108863,c=d*64+(c/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function ae(){X.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}r(ae,X);function M(){X.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}r(M,X);function J(){X.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}r(J,X),J.prototype.imulK=function(a){for(var c=0,h=0;h<a.length;h++){var d=(a.words[h]|0)*19+c,y=d&67108863;d>>>=26,a.words[h]=y,c=d}return c!==0&&(a.words[a.length++]=c),a},i._prime=function(a){if(te[a])return te[a];var c;if(a==="k256")c=new ee;else if(a==="p224")c=new ae;else if(a==="p192")c=new M;else if(a==="p25519")c=new J;else throw new Error("Unknown prime "+a);return te[a]=c,c};function G(p){if(typeof p=="string"){var a=i._prime(p);this.m=a.p,this.prime=a}else t(p.gtn(1),"modulus must be greater than 1"),this.m=p,this.prime=null}G.prototype._verify1=function(a){t(a.negative===0,"red works only with positives"),t(a.red,"red works only with red numbers")},G.prototype._verify2=function(a,c){t((a.negative|c.negative)===0,"red works only with positives"),t(a.red&&a.red===c.red,"red works only with red numbers")},G.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(m(a,a.umod(this.m)._forceRed(this)),a)},G.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},G.prototype.add=function(a,c){this._verify2(a,c);var h=a.add(c);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},G.prototype.iadd=function(a,c){this._verify2(a,c);var h=a.iadd(c);return h.cmp(this.m)>=0&&h.isub(this.m),h},G.prototype.sub=function(a,c){this._verify2(a,c);var h=a.sub(c);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},G.prototype.isub=function(a,c){this._verify2(a,c);var h=a.isub(c);return h.cmpn(0)<0&&h.iadd(this.m),h},G.prototype.shl=function(a,c){return this._verify1(a),this.imod(a.ushln(c))},G.prototype.imul=function(a,c){return this._verify2(a,c),this.imod(a.imul(c))},G.prototype.mul=function(a,c){return this._verify2(a,c),this.imod(a.mul(c))},G.prototype.isqr=function(a){return this.imul(a,a.clone())},G.prototype.sqr=function(a){return this.mul(a,a)},G.prototype.sqrt=function(a){if(a.isZero())return a.clone();var c=this.m.andln(3);if(t(c%2===1),c===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(a,h)}for(var d=this.m.subn(1),y=0;!d.isZero()&&d.andln(1)===0;)y++,d.iushrn(1);t(!d.isZero());var w=new i(1).toRed(this),b=w.redNeg(),g=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,g).cmp(b)!==0;)u.redIAdd(b);for(var _=this.pow(u,d),F=this.pow(a,d.addn(1).iushrn(1)),D=this.pow(a,d),q=y;D.cmp(w)!==0;){for(var H=D,oe=0;H.cmp(w)!==0;oe++)H=H.redSqr();t(oe<q);var ne=this.pow(_,new i(1).iushln(q-oe-1));F=F.redMul(ne),_=ne.redSqr(),D=D.redMul(_),q=oe}return F},G.prototype.invm=function(a){var c=a._invmp(this.m);return c.negative!==0?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},G.prototype.pow=function(a,c){if(c.isZero())return new i(1).toRed(this);if(c.cmpn(1)===0)return a.clone();var h=4,d=new Array(1<<h);d[0]=new i(1).toRed(this),d[1]=a;for(var y=2;y<d.length;y++)d[y]=this.mul(d[y-1],a);var w=d[0],b=0,g=0,u=c.bitLength()%26;for(u===0&&(u=26),y=c.length-1;y>=0;y--){for(var _=c.words[y],F=u-1;F>=0;F--){var D=_>>F&1;if(w!==d[0]&&(w=this.sqr(w)),D===0&&b===0){g=0;continue}b<<=1,b|=D,g++,!(g!==h&&(y!==0||F!==0))&&(w=this.mul(w,d[b]),g=0,b=0)}u=26}return w},G.prototype.convertTo=function(a){var c=a.umod(this.m);return c===a?c.clone():c},G.prototype.convertFrom=function(a){var c=a.clone();return c.red=null,c},i.mont=function(a){return new Y(a)};function Y(p){G.call(this,p),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}r(Y,G),Y.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},Y.prototype.convertFrom=function(a){var c=this.imod(a.mul(this.rinv));return c.red=null,c},Y.prototype.imul=function(a,c){if(a.isZero()||c.isZero())return a.words[0]=0,a.length=1,a;var h=a.imul(c),d=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(d).iushrn(this.shift),w=y;return y.cmp(this.m)>=0?w=y.isub(this.m):y.cmpn(0)<0&&(w=y.iadd(this.m)),w._forceRed(this)},Y.prototype.mul=function(a,c){if(a.isZero()||c.isZero())return new i(0)._forceRed(this);var h=a.mul(c),d=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(d).iushrn(this.shift),w=y;return y.cmp(this.m)>=0?w=y.isub(this.m):y.cmpn(0)<0&&(w=y.iadd(this.m)),w._forceRed(this)},Y.prototype.invm=function(a){var c=this.imod(a._invmp(this.m).mul(this.r2));return c._forceRed(this)}})(typeof is>"u"||is,zc)});var as=St((ss,$c)=>{"use strict";var Xn=mn(),Yt=Xn.Buffer;function Kc(n,e){for(var t in n)e[t]=n[t]}Yt.from&&Yt.alloc&&Yt.allocUnsafe&&Yt.allocUnsafeSlow?$c.exports=Xn:(Kc(Xn,ss),ss.Buffer=kr);function kr(n,e,t){return Yt(n,e,t)}kr.prototype=Object.create(Yt.prototype);Kc(Yt,kr);kr.from=function(n,e,t){if(typeof n=="number")throw new TypeError("Argument must not be a number");return Yt(n,e,t)};kr.alloc=function(n,e,t){if(typeof n!="number")throw new TypeError("Argument must be a number");var r=Yt(n);return e!==void 0?typeof t=="string"?r.fill(e,t):r.fill(e):r.fill(0),r};kr.allocUnsafe=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return Yt(n)};kr.allocUnsafeSlow=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return Xn.SlowBuffer(n)}});var Vc=St((tw,qc)=>{"use strict";var Zn=as().Buffer;function ph(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var r=0;r<n.length;r++){var i=n.charAt(r),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=r}var s=n.length,f=n.charAt(0),l=Math.log(s)/Math.log(256),m=Math.log(256)/Math.log(s);function E(A){if((Array.isArray(A)||A instanceof Uint8Array)&&(A=Zn.from(A)),!Zn.isBuffer(A))throw new TypeError("Expected Buffer");if(A.length===0)return"";for(var I=0,x=0,T=0,N=A.length;T!==N&&A[T]===0;)T++,I++;for(var P=(N-T)*m+1>>>0,U=new Uint8Array(P);T!==N;){for(var K=A[T],te=0,X=P-1;(K!==0||te<x)&&X!==-1;X--,te++)K+=256*U[X]>>>0,U[X]=K%s>>>0,K=K/s>>>0;if(K!==0)throw new Error("Non-zero carry");x=te,T++}for(var ee=P-x;ee!==P&&U[ee]===0;)ee++;for(var ae=f.repeat(I);ee<P;++ee)ae+=n.charAt(U[ee]);return ae}function S(A){if(typeof A!="string")throw new TypeError("Expected String");if(A.length===0)return Zn.alloc(0);for(var I=0,x=0,T=0;A[I]===f;)x++,I++;for(var N=(A.length-I)*l+1>>>0,P=new Uint8Array(N);I<A.length;){var U=A.charCodeAt(I);if(U>255)return;var K=e[U];if(K===255)return;for(var te=0,X=N-1;(K!==0||te<T)&&X!==-1;X--,te++)K+=s*P[X]>>>0,P[X]=K%256>>>0,K=K/256>>>0;if(K!==0)throw new Error("Non-zero carry");T=te,I++}for(var ee=N-T;ee!==N&&P[ee]===0;)ee++;var ae=Zn.allocUnsafe(x+(N-ee));ae.fill(0,0,x);for(var M=x;ee!==N;)ae[M++]=P[ee++];return ae}function v(A){var I=S(A);if(I)return I;throw new Error("Non-base"+s+" character")}return{encode:E,decodeUnsafe:S,decode:v}}qc.exports=ph});var Gc=St((rw,Wc)=>{"use strict";var yh=Vc(),gh="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Wc.exports=yh(gh)});var Yc=St((nw,Hc)=>{"use strict";var Jn=as().Buffer;function mh(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var r=0;r<n.length;r++){var i=n.charAt(r),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=r}var s=n.length,f=n.charAt(0),l=Math.log(s)/Math.log(256),m=Math.log(256)/Math.log(s);function E(A){if((Array.isArray(A)||A instanceof Uint8Array)&&(A=Jn.from(A)),!Jn.isBuffer(A))throw new TypeError("Expected Buffer");if(A.length===0)return"";for(var I=0,x=0,T=0,N=A.length;T!==N&&A[T]===0;)T++,I++;for(var P=(N-T)*m+1>>>0,U=new Uint8Array(P);T!==N;){for(var K=A[T],te=0,X=P-1;(K!==0||te<x)&&X!==-1;X--,te++)K+=256*U[X]>>>0,U[X]=K%s>>>0,K=K/s>>>0;if(K!==0)throw new Error("Non-zero carry");x=te,T++}for(var ee=P-x;ee!==P&&U[ee]===0;)ee++;for(var ae=f.repeat(I);ee<P;++ee)ae+=n.charAt(U[ee]);return ae}function S(A){if(typeof A!="string")throw new TypeError("Expected String");if(A.length===0)return Jn.alloc(0);for(var I=0,x=0,T=0;A[I]===f;)x++,I++;for(var N=(A.length-I)*l+1>>>0,P=new Uint8Array(N);I<A.length;){var U=A.charCodeAt(I);if(U>255)return;var K=e[U];if(K===255)return;for(var te=0,X=N-1;(K!==0||te<T)&&X!==-1;X--,te++)K+=s*P[X]>>>0,P[X]=K%256>>>0,K=K/256>>>0;if(K!==0)throw new Error("Non-zero carry");T=te,I++}for(var ee=N-T;ee!==N&&P[ee]===0;)ee++;var ae=Jn.allocUnsafe(x+(N-ee));ae.fill(0,0,x);for(var M=x;ee!==N;)ae[M++]=P[ee++];return ae}function v(A){var I=S(A);if(I)return I;throw new Error("Non-base"+s+" character")}return{encode:E,decodeUnsafe:S,decode:v}}Hc.exports=mh});var Xc=St((iw,jc)=>{"use strict";var _h=Yc(),wh="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";jc.exports=_h(wh)});var Zc={};Na(Zc,{TextDecoder:()=>ti,TextEncoder:()=>ri});function rr(n,e,t){return e<=n&&n<=t}function ni(n){if(n===void 0)return{};if(n===Object(n))return n;throw TypeError("Could not convert argument to dictionary")}function Eh(n){for(var e=String(n),t=e.length,r=0,i=[];r<t;){var o=e.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===t-1)i.push(65533);else{var s=n.charCodeAt(r+1);if(56320<=s&&s<=57343){var f=o&1023,l=s&1023;i.push(65536+(f<<10)+l),r+=1}else i.push(65533)}r+=1}return i}function Rh(n){for(var e="",t=0;t<n.length;++t){var r=n[t];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}function us(n){this.tokens=[].slice.call(n)}function cs(n,e){if(n)throw TypeError("Decoder error");return e||65533}function bh(){}function Sh(){}function ti(n,e){if(!(this instanceof ti))return new ti(n,e);if(n=n!==void 0?String(n).toLowerCase():ei,n!==ei)throw new Error("Encoding not supported. Only utf-8 is supported");e=ni(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function ri(n,e){if(!(this instanceof ri))return new ri(n,e);if(n=n!==void 0?String(n).toLowerCase():ei,n!==ei)throw new Error("Encoding not supported. Only utf-8 is supported");e=ni(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}function Ah(n){var e=n.fatal,t=0,r=0,i=0,o=128,s=191;this.handler=function(f,l){if(l===Qn&&i!==0)return i=0,cs(e);if(l===Qn)return en;if(i===0){if(rr(l,0,127))return l;if(rr(l,194,223))i=1,t=l-192;else if(rr(l,224,239))l===224&&(o=160),l===237&&(s=159),i=2,t=l-224;else if(rr(l,240,244))l===240&&(o=144),l===244&&(s=143),i=3,t=l-240;else return cs(e);return t=t<<6*i,null}if(!rr(l,o,s))return t=i=r=0,o=128,s=191,f.prepend(l),cs(e);if(o=128,s=191,r+=1,t+=l-128<<6*(i-r),r!==i)return null;var m=t;return t=i=r=0,m}}function Ih(n){var e=n.fatal;this.handler=function(t,r){if(r===Qn)return en;if(rr(r,0,127))return r;var i,o;rr(r,128,2047)?(i=1,o=192):rr(r,2048,65535)?(i=2,o=224):rr(r,65536,1114111)&&(i=3,o=240);for(var s=[(r>>6*i)+o];i>0;){var f=r>>6*(i-1);s.push(128|f&63),i-=1}return s}}var Qn,en,ei,Jc=yt(()=>{"use strict";Qn=-1;us.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Qn},prepend:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(n)},push:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.push(e.shift());else this.tokens.push(n)}};en=-1;bh.prototype={handler:function(n,e){}};Sh.prototype={handler:function(n,e){}};ei="utf-8";ti.prototype={decode:function(e,t){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),t=ni(t),this._streaming||(this._decoder=new Ah({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var i=new us(r),o=[],s;!i.endOfStream()&&(s=this._decoder.handler(i,i.read()),s!==en);)s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s));if(!this._streaming){do{if(s=this._decoder.handler(i,i.read()),s===en)break;s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s))}while(!i.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),Rh(o)}};ri.prototype={encode:function(e,t){e=e?String(e):"",t=ni(t),this._streaming||(this._encoder=new Ih(this._options)),this._streaming=!!t.stream;for(var r=[],i=new us(Eh(e)),o;!i.endOfStream()&&(o=this._encoder.handler(i,i.read()),o!==en);)Array.isArray(o)?r.push.apply(r,o):r.push(o);if(!this._streaming){for(;o=this._encoder.handler(i,i.read()),o!==en;)Array.isArray(o)?r.push.apply(r,o):r.push(o);this._encoder=null}return new Uint8Array(r)}}});var nu=St(ge=>{"use strict";var vh=ge&&ge.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Oh=ge&&ge.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),jt=ge&&ge.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var f=n.length-1;f>=0;f--)(s=n[f])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},xh=ge&&ge.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.hasOwnProperty.call(n,t)&&vh(e,n,t);return Oh(e,n),e},Qc=ge&&ge.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ge,"__esModule",{value:!0});ge.deserializeUnchecked=ge.deserialize=ge.serialize=ge.BinaryReader=ge.BinaryWriter=ge.BorshError=ge.baseDecode=ge.baseEncode=void 0;var pr=Qc(os()),eu=Qc(Xc()),Bh=xh((Jc(),_o(Zc))),Nh=typeof TextDecoder!="function"?Bh.TextDecoder:TextDecoder,Th=new Nh("utf-8",{fatal:!0});function kh(n){return typeof n=="string"&&(n=Buffer.from(n,"utf8")),eu.default.encode(Buffer.from(n))}ge.baseEncode=kh;function Lh(n){return Buffer.from(eu.default.decode(n))}ge.baseDecode=Lh;var fs=1024,dt=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};ge.BorshError=dt;var ii=class{constructor(){this.buf=Buffer.alloc(fs),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(fs)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new pr.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new pr.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new pr.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new pr.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(fs)]),this.length+=e.length}writeString(e){this.maybeResize();let t=Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(let r of e)this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}};ge.BinaryWriter=ii;function Xt(n,e,t){let r=t.value;t.value=function(...i){try{return r.apply(this,i)}catch(o){if(o instanceof RangeError){let s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new dt("Reached the end of buffer when deserializing")}throw o}}}var It=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new pr.default(e,"le")}readU128(){let e=this.readBuffer(16);return new pr.default(e,"le")}readU256(){let e=this.readBuffer(32);return new pr.default(e,"le")}readU512(){let e=this.readBuffer(64);return new pr.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new dt(`Expected buffer length ${e} isn't within bounds`);let t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){let e=this.readU32(),t=this.readBuffer(e);try{return Th.decode(t)}catch(r){throw new dt(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let t=this.readU32(),r=Array();for(let i=0;i<t;++i)r.push(e());return r}};jt([Xt],It.prototype,"readU8",null);jt([Xt],It.prototype,"readU16",null);jt([Xt],It.prototype,"readU32",null);jt([Xt],It.prototype,"readU64",null);jt([Xt],It.prototype,"readU128",null);jt([Xt],It.prototype,"readU256",null);jt([Xt],It.prototype,"readU512",null);jt([Xt],It.prototype,"readString",null);jt([Xt],It.prototype,"readFixedArray",null);jt([Xt],It.prototype,"readArray",null);ge.BinaryReader=It;function tu(n){return n.charAt(0).toUpperCase()+n.slice(1)}function Lr(n,e,t,r,i){try{if(typeof r=="string")i[`write${tu(r)}`](t);else if(r instanceof Array)if(typeof r[0]=="number"){if(t.length!==r[0])throw new dt(`Expecting byte array of length ${r[0]}, but got ${t.length} bytes`);i.writeFixedArray(t)}else if(r.length===2&&typeof r[1]=="number"){if(t.length!==r[1])throw new dt(`Expecting byte array of length ${r[1]}, but got ${t.length} bytes`);for(let o=0;o<r[1];o++)Lr(n,null,t[o],r[0],i)}else i.writeArray(t,o=>{Lr(n,e,o,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{t==null?i.writeU8(0):(i.writeU8(1),Lr(n,e,t,r.type,i));break}case"map":{i.writeU32(t.size),t.forEach((o,s)=>{Lr(n,e,s,r.key,i),Lr(n,e,o,r.value,i)});break}default:throw new dt(`FieldType ${r} unrecognized`)}else ru(n,t,i)}catch(o){throw o instanceof dt&&o.addToFieldPath(e),o}}function ru(n,e,t){if(typeof e.borshSerialize=="function"){e.borshSerialize(t);return}let r=n.get(e.constructor);if(!r)throw new dt(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,o])=>{Lr(n,i,e[i],o,t)});else if(r.kind==="enum"){let i=e[r.field];for(let o=0;o<r.values.length;++o){let[s,f]=r.values[o];if(s===i){t.writeU8(o),Lr(n,s,e[s],f,t);break}}}else throw new dt(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function Ch(n,e,t=ii){let r=new t;return ru(n,e,r),r.toArray()}ge.serialize=Ch;function Cr(n,e,t,r){try{if(typeof t=="string")return r[`read${tu(t)}`]();if(t instanceof Array){if(typeof t[0]=="number")return r.readFixedArray(t[0]);if(typeof t[1]=="number"){let i=[];for(let o=0;o<t[1];o++)i.push(Cr(n,null,t[0],r));return i}else return r.readArray(()=>Cr(n,e,t[0],r))}if(t.kind==="option")return r.readU8()?Cr(n,e,t.type,r):void 0;if(t.kind==="map"){let i=new Map,o=r.readU32();for(let s=0;s<o;s++){let f=Cr(n,e,t.key,r),l=Cr(n,e,t.value,r);i.set(f,l)}return i}return ls(n,t,r)}catch(i){throw i instanceof dt&&i.addToFieldPath(e),i}}function ls(n,e,t){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(t);let r=n.get(e);if(!r)throw new dt(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){let i={};for(let[o,s]of n.get(e).fields)i[o]=Cr(n,o,s,t);return new e(i)}if(r.kind==="enum"){let i=t.readU8();if(i>=r.values.length)throw new dt(`Enum index: ${i} is out of range`);let[o,s]=r.values[i],f=Cr(n,o,s,t);return new e({[o]:f})}throw new dt(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function Mh(n,e,t,r=It){let i=new r(t),o=ls(n,e,i);if(i.offset<t.length)throw new dt(`Unexpected ${t.length-i.offset} bytes after deserialized data`);return o}ge.deserialize=Mh;function Uh(n,e,t,r=It){let i=new r(t);return ls(n,e,i)}ge.deserializeUnchecked=Uh});var ys=St(B=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0});B.s16=B.s8=B.nu64be=B.u48be=B.u40be=B.u32be=B.u24be=B.u16be=B.nu64=B.u48=B.u40=B.u32=B.u24=B.u16=B.u8=B.offset=B.greedy=B.Constant=B.UTF8=B.CString=B.Blob=B.Boolean=B.BitField=B.BitStructure=B.VariantLayout=B.Union=B.UnionLayoutDiscriminator=B.UnionDiscriminator=B.Structure=B.Sequence=B.DoubleBE=B.Double=B.FloatBE=B.Float=B.NearInt64BE=B.NearInt64=B.NearUInt64BE=B.NearUInt64=B.IntBE=B.Int=B.UIntBE=B.UInt=B.OffsetLayout=B.GreedyCount=B.ExternalLayout=B.bindConstructorLayout=B.nameWithProperty=B.Layout=B.uint8ArrayToBuffer=B.checkUint8Array=void 0;B.constant=B.utf8=B.cstr=B.blob=B.unionLayoutDiscriminator=B.union=B.seq=B.bits=B.struct=B.f64be=B.f64=B.f32be=B.f32=B.ns64be=B.s48be=B.s40be=B.s32be=B.s24be=B.s16be=B.ns64=B.s48=B.s40=B.s32=B.s24=void 0;var ds=mn();function nn(n){if(!(n instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}B.checkUint8Array=nn;function he(n){return nn(n),ds.Buffer.from(n.buffer,n.byteOffset,n.length)}B.uint8ArrayToBuffer=he;var pe=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};B.Layout=pe;function ps(n,e){return e.property?n+"["+e.property+"]":n}B.nameWithProperty=ps;function Ph(n,e){if(typeof n!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(n,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof pe))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");n.layout_=e,e.boundConstructor_=n,e.makeDestinationObject=()=>new n,Object.defineProperty(n.prototype,"encode",{value(t,r){return e.encode(this,t,r)},writable:!0}),Object.defineProperty(n,"decode",{value(t,r){return e.decode(t,r)},writable:!0})}B.bindConstructorLayout=Ph;var gt=class extends pe{isCount(){throw new Error("ExternalLayout is abstract")}};B.ExternalLayout=gt;var oi=class extends gt{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){nn(e);let r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}};B.GreedyCount=oi;var Sn=class extends gt{constructor(e,t=0,r){if(!(e instanceof pe))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof Nt||this.layout instanceof kt}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,r=0){return this.layout.encode(e,t,r+this.offset)}};B.OffsetLayout=Sn;var Nt=class extends pe{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return he(e).readUIntLE(t,this.span)}encode(e,t,r=0){return he(t).writeUIntLE(e,r,this.span),this.span}};B.UInt=Nt;var kt=class extends pe{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return he(e).readUIntBE(t,this.span)}encode(e,t,r=0){return he(t).writeUIntBE(e,r,this.span),this.span}};B.UIntBE=kt;var nr=class extends pe{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return he(e).readIntLE(t,this.span)}encode(e,t,r=0){return he(t).writeIntLE(e,r,this.span),this.span}};B.Int=nr;var yr=class extends pe{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return he(e).readIntBE(t,this.span)}encode(e,t,r=0){return he(t).writeIntBE(e,r,this.span),this.span}};B.IntBE=yr;var hs=Math.pow(2,32);function bi(n){let e=Math.floor(n/hs),t=n-e*hs;return{hi32:e,lo32:t}}function Si(n,e){return n*hs+e}var si=class extends pe{constructor(e){super(8,e)}decode(e,t=0){let r=he(e),i=r.readUInt32LE(t),o=r.readUInt32LE(t+4);return Si(o,i)}encode(e,t,r=0){let i=bi(e),o=he(t);return o.writeUInt32LE(i.lo32,r),o.writeUInt32LE(i.hi32,r+4),8}};B.NearUInt64=si;var ai=class extends pe{constructor(e){super(8,e)}decode(e,t=0){let r=he(e),i=r.readUInt32BE(t),o=r.readUInt32BE(t+4);return Si(i,o)}encode(e,t,r=0){let i=bi(e),o=he(t);return o.writeUInt32BE(i.hi32,r),o.writeUInt32BE(i.lo32,r+4),8}};B.NearUInt64BE=ai;var ci=class extends pe{constructor(e){super(8,e)}decode(e,t=0){let r=he(e),i=r.readUInt32LE(t),o=r.readInt32LE(t+4);return Si(o,i)}encode(e,t,r=0){let i=bi(e),o=he(t);return o.writeUInt32LE(i.lo32,r),o.writeInt32LE(i.hi32,r+4),8}};B.NearInt64=ci;var ui=class extends pe{constructor(e){super(8,e)}decode(e,t=0){let r=he(e),i=r.readInt32BE(t),o=r.readUInt32BE(t+4);return Si(i,o)}encode(e,t,r=0){let i=bi(e),o=he(t);return o.writeInt32BE(i.hi32,r),o.writeUInt32BE(i.lo32,r+4),8}};B.NearInt64BE=ui;var fi=class extends pe{constructor(e){super(4,e)}decode(e,t=0){return he(e).readFloatLE(t)}encode(e,t,r=0){return he(t).writeFloatLE(e,r),4}};B.Float=fi;var li=class extends pe{constructor(e){super(4,e)}decode(e,t=0){return he(e).readFloatBE(t)}encode(e,t,r=0){return he(t).writeFloatBE(e,r),4}};B.FloatBE=li;var hi=class extends pe{constructor(e){super(8,e)}decode(e,t=0){return he(e).readDoubleLE(t)}encode(e,t,r=0){return he(t).writeDoubleLE(e,r),8}};B.Double=hi;var di=class extends pe{constructor(e){super(8,e)}decode(e,t=0){return he(e).readDoubleBE(t)}encode(e,t,r=0){return he(t).writeDoubleBE(e,r),8}};B.DoubleBE=di;var pi=class extends pe{constructor(e,t,r){if(!(e instanceof pe))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof gt&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(t instanceof gt)&&0<e.span&&(i=t*e.span),super(i,r),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof gt&&(i=i.decode(e,t)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let o=0;for(;o<i;)r+=this.elementLayout.getSpan(e,t+r),++o}return r}decode(e,t=0){let r=[],i=0,o=this.count;for(o instanceof gt&&(o=o.decode(e,t));i<o;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),i+=1;return r}encode(e,t,r=0){let i=this.elementLayout,o=e.reduce((s,f)=>s+i.encode(f,t,r+s),0);return this.count instanceof gt&&this.count.encode(e.length,t,r),o}};B.Sequence=pi;var yi=class extends pe{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof pe,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&r===void 0&&(r=t,t=void 0);for(let o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,o)=>{let s=o.getSpan(e,t);return t+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t=0){nn(e);let r=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,t)),t+=i.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r=0){let i=r,o=0,s=0;for(let f of this.fields){let l=f.span;if(s=0<l?l:0,f.property!==void 0){let m=e[f.property];m!==void 0&&(s=f.encode(m,t,r),0>l&&(l=f.getSpan(t,r)))}o=r,r+=l}return o+s-i}fromArray(e){let t=this.makeDestinationObject();for(let r of this.fields)r.property!==void 0&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(let r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}};B.Structure=yi;var An=class{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,r){throw new Error("UnionDiscriminator is abstract")}};B.UnionDiscriminator=An;var rn=class extends An{constructor(e,t){if(!(e instanceof gt&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}};B.UnionLayoutDiscriminator=rn;var In=class extends pe{constructor(e,t,r){let i;if(e instanceof Nt||e instanceof kt)i=new rn(new Sn(e));else if(e instanceof gt&&e.isCount())i=new rn(e);else if(e instanceof An)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof pe))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let o=-1;t&&(o=t.span,0<=o&&(e instanceof Nt||e instanceof kt)&&(o+=i.layout.span)),super(o,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof Nt||e instanceof kt,this.defaultLayout=t,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(f){return s(f)},this.configGetSourceVariant=function(f){s=f.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;let r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(let t in this.registry){let r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,t=0){let r,i=this.discriminator,o=i.decode(e,t),s=this.registry[o];if(s===void 0){let f=this.defaultLayout,l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),r=this.makeDestinationObject(),r[i.property]=o,r[f.property]=f.decode(e,t+l)}else r=s.decode(e,t);return r}encode(e,t,r=0){let i=this.getSourceVariant(e);if(i===void 0){let o=this.discriminator,s=this.defaultLayout,f=0;return this.usesPrefixDiscriminator&&(f=o.layout.span),o.encode(e[o.property],t,r),f+s.encode(e[s.property],t,r+f)}return i.encode(e,t,r)}addVariant(e,t,r){let i=new gi(this,e,t,r);return this.registry[e]=i,i}getVariant(e,t=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,t):r=e,this.registry[r]}};B.Union=In;var gi=class extends pe{constructor(e,t,r,i){if(!(e instanceof In))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof pe))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,t+r)),r+i}decode(e,t=0){let r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let o=i;if(this.layout&&(this.layout.encode(e[this.property],t,r+i),o+=this.layout.getSpan(t,r+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};B.VariantLayout=gi;function tn(n){return 0>n&&(n+=4294967296),n}var vn=class extends pe{constructor(e,t,r){if(!(e instanceof Nt||e instanceof kt))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&r===void 0&&(r=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let i=0;this._packedSetValue=function(o){return i=tn(o),this},this._packedGetValue=function(){return i}}decode(e,t=0){let r=this.makeDestinationObject(),i=this.word.decode(e,t);this._packedSetValue(i);for(let o of this.fields)o.property!==void 0&&(r[o.property]=o.decode(e));return r}encode(e,t,r=0){let i=this.word.decode(t,r);this._packedSetValue(i);for(let o of this.fields)if(o.property!==void 0){let s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){let r=new On(this,e,t);return this.fields.push(r),r}addBoolean(e){let t=new mi(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}};B.BitStructure=vn;var On=class{constructor(e,t,r){if(!(e instanceof vn))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");let i=8*e.span,o=e.fields.reduce((s,f)=>s+f.bits,0);if(t+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-t),this.wordMask=tn(this.valueMask<<this.start),this.property=r}decode(e,t){let r=this.container._packedGetValue();return tn(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==tn(e&this.valueMask))throw new TypeError(ps("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let t=this.container._packedGetValue(),r=tn(e<<this.start);this.container._packedSetValue(tn(t&~this.wordMask)|r)}};B.BitField=On;var mi=class extends On{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};B.Boolean=mi;var _i=class extends pe{constructor(e,t){if(!(e instanceof gt&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof gt||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),he(e).slice(t,t+r)}encode(e,t,r){let i=this.length;if(this.length instanceof gt&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(ps("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>t.length)throw new RangeError("encoding overruns Uint8Array");let o=he(e);return he(t).write(o.toString("hex"),r,i,"hex"),this.length instanceof gt&&this.length.encode(i,t,r),i}};B.Blob=_i;var wi=class extends pe{constructor(e){super(-1,e)}getSpan(e,t=0){nn(e);let r=t;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-t}decode(e,t=0){let r=this.getSpan(e,t);return he(e).slice(t,t+r-1).toString("utf-8")}encode(e,t,r=0){typeof e!="string"&&(e=String(e));let i=ds.Buffer.from(e,"utf8"),o=i.length;if(r+o>t.length)throw new RangeError("encoding overruns Buffer");let s=he(t);return i.copy(s,r),s[r+o]=0,o+1}};B.CString=wi;var Ei=class extends pe{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return nn(e),e.length-t}decode(e,t=0){let r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return he(e).slice(t,t+r).toString("utf-8")}encode(e,t,r=0){typeof e!="string"&&(e=String(e));let i=ds.Buffer.from(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(he(t),r),o}};B.UTF8=Ei;var Ri=class extends pe{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,r){return 0}};B.Constant=Ri;B.greedy=(n,e)=>new oi(n,e);B.offset=(n,e,t)=>new Sn(n,e,t);B.u8=n=>new Nt(1,n);B.u16=n=>new Nt(2,n);B.u24=n=>new Nt(3,n);B.u32=n=>new Nt(4,n);B.u40=n=>new Nt(5,n);B.u48=n=>new Nt(6,n);B.nu64=n=>new si(n);B.u16be=n=>new kt(2,n);B.u24be=n=>new kt(3,n);B.u32be=n=>new kt(4,n);B.u40be=n=>new kt(5,n);B.u48be=n=>new kt(6,n);B.nu64be=n=>new ai(n);B.s8=n=>new nr(1,n);B.s16=n=>new nr(2,n);B.s24=n=>new nr(3,n);B.s32=n=>new nr(4,n);B.s40=n=>new nr(5,n);B.s48=n=>new nr(6,n);B.ns64=n=>new ci(n);B.s16be=n=>new yr(2,n);B.s24be=n=>new yr(3,n);B.s32be=n=>new yr(4,n);B.s40be=n=>new yr(5,n);B.s48be=n=>new yr(6,n);B.ns64be=n=>new ui(n);B.f32=n=>new fi(n);B.f32be=n=>new li(n);B.f64=n=>new hi(n);B.f64be=n=>new di(n);B.struct=(n,e,t)=>new yi(n,e,t);B.bits=(n,e,t)=>new vn(n,e,t);B.seq=(n,e,t)=>new pi(n,e,t);B.union=(n,e,t)=>new In(n,e,t);B.unionLayoutDiscriminator=(n,e)=>new rn(n,e);B.blob=(n,e)=>new _i(n,e);B.cstr=n=>new wi(n);B.utf8=(n,e)=>new Ei(n,e);B.constant=(n,e)=>new Ri(n,e)});function Nn(){if(!Oi&&(Oi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Oi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Oi(Zy)}var Oi,Zy,vs=yt(()=>{"use strict";Zy=new Uint8Array(16)});var bu,Su=yt(()=>{"use strict";bu=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Jy(n){return typeof n=="string"&&bu.test(n)}var mr,Tn=yt(()=>{"use strict";Su();mr=Jy});function Qy(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(pt[n[e+0]]+pt[n[e+1]]+pt[n[e+2]]+pt[n[e+3]]+"-"+pt[n[e+4]]+pt[n[e+5]]+"-"+pt[n[e+6]]+pt[n[e+7]]+"-"+pt[n[e+8]]+pt[n[e+9]]+"-"+pt[n[e+10]]+pt[n[e+11]]+pt[n[e+12]]+pt[n[e+13]]+pt[n[e+14]]+pt[n[e+15]]).toLowerCase();if(!mr(t))throw TypeError("Stringified UUID is invalid");return t}var pt,xi,_r,kn=yt(()=>{"use strict";Tn();pt=[];for(xi=0;xi<256;++xi)pt.push((xi+256).toString(16).substr(1));_r=Qy});function eg(n,e,t){var r=e&&t||0,i=e||new Array(16);n=n||{};var o=n.node||Au,s=n.clockseq!==void 0?n.clockseq:Os;if(o==null||s==null){var f=n.random||(n.rng||Nn)();o==null&&(o=Au=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),s==null&&(s=Os=(f[6]<<8|f[7])&16383)}var l=n.msecs!==void 0?n.msecs:Date.now(),m=n.nsecs!==void 0?n.nsecs:Bs+1,E=l-xs+(m-Bs)/1e4;if(E<0&&n.clockseq===void 0&&(s=s+1&16383),(E<0||l>xs)&&n.nsecs===void 0&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");xs=l,Bs=m,Os=s,l+=122192928e5;var S=((l&268435455)*1e4+m)%4294967296;i[r++]=S>>>24&255,i[r++]=S>>>16&255,i[r++]=S>>>8&255,i[r++]=S&255;var v=l/4294967296*1e4&268435455;i[r++]=v>>>8&255,i[r++]=v&255,i[r++]=v>>>24&15|16,i[r++]=v>>>16&255,i[r++]=s>>>8|128,i[r++]=s&255;for(var A=0;A<6;++A)i[r+A]=o[A];return e||_r(i)}var Au,Os,xs,Bs,Iu,vu=yt(()=>{"use strict";vs();kn();xs=0,Bs=0;Iu=eg});function tg(n){if(!mr(n))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(n.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(n.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(n.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(n.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(n.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var Bi,Ns=yt(()=>{"use strict";Tn();Bi=tg});function rg(n){n=unescape(encodeURIComponent(n));for(var e=[],t=0;t<n.length;++t)e.push(n.charCodeAt(t));return e}function Ni(n,e,t){function r(i,o,s,f){if(typeof i=="string"&&(i=rg(i)),typeof o=="string"&&(o=Bi(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(o),l.set(i,o.length),l=t(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,s){f=f||0;for(var m=0;m<16;++m)s[f+m]=l[m];return s}return _r(l)}try{r.name=n}catch{}return r.DNS=ng,r.URL=ig,r}var ng,ig,Ts=yt(()=>{"use strict";kn();Ns();ng="6ba7b810-9dad-11d1-80b4-00c04fd430c8",ig="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function og(n){if(typeof n=="string"){var e=unescape(encodeURIComponent(n));n=new Uint8Array(e.length);for(var t=0;t<e.length;++t)n[t]=e.charCodeAt(t)}return sg(ag(cg(n),n.length*8))}function sg(n){for(var e=[],t=n.length*32,r="0123456789abcdef",i=0;i<t;i+=8){var o=n[i>>5]>>>i%32&255,s=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);e.push(s)}return e}function Ou(n){return(n+64>>>9<<4)+14+1}function ag(n,e){n[e>>5]|=128<<e%32,n[Ou(e)-1]=e;for(var t=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<n.length;s+=16){var f=t,l=r,m=i,E=o;t=_t(t,r,i,o,n[s],7,-680876936),o=_t(o,t,r,i,n[s+1],12,-389564586),i=_t(i,o,t,r,n[s+2],17,606105819),r=_t(r,i,o,t,n[s+3],22,-1044525330),t=_t(t,r,i,o,n[s+4],7,-176418897),o=_t(o,t,r,i,n[s+5],12,1200080426),i=_t(i,o,t,r,n[s+6],17,-1473231341),r=_t(r,i,o,t,n[s+7],22,-45705983),t=_t(t,r,i,o,n[s+8],7,1770035416),o=_t(o,t,r,i,n[s+9],12,-1958414417),i=_t(i,o,t,r,n[s+10],17,-42063),r=_t(r,i,o,t,n[s+11],22,-1990404162),t=_t(t,r,i,o,n[s+12],7,1804603682),o=_t(o,t,r,i,n[s+13],12,-40341101),i=_t(i,o,t,r,n[s+14],17,-1502002290),r=_t(r,i,o,t,n[s+15],22,1236535329),t=wt(t,r,i,o,n[s+1],5,-165796510),o=wt(o,t,r,i,n[s+6],9,-1069501632),i=wt(i,o,t,r,n[s+11],14,643717713),r=wt(r,i,o,t,n[s],20,-373897302),t=wt(t,r,i,o,n[s+5],5,-701558691),o=wt(o,t,r,i,n[s+10],9,38016083),i=wt(i,o,t,r,n[s+15],14,-660478335),r=wt(r,i,o,t,n[s+4],20,-405537848),t=wt(t,r,i,o,n[s+9],5,568446438),o=wt(o,t,r,i,n[s+14],9,-1019803690),i=wt(i,o,t,r,n[s+3],14,-187363961),r=wt(r,i,o,t,n[s+8],20,1163531501),t=wt(t,r,i,o,n[s+13],5,-1444681467),o=wt(o,t,r,i,n[s+2],9,-51403784),i=wt(i,o,t,r,n[s+7],14,1735328473),r=wt(r,i,o,t,n[s+12],20,-1926607734),t=Et(t,r,i,o,n[s+5],4,-378558),o=Et(o,t,r,i,n[s+8],11,-2022574463),i=Et(i,o,t,r,n[s+11],16,1839030562),r=Et(r,i,o,t,n[s+14],23,-35309556),t=Et(t,r,i,o,n[s+1],4,-1530992060),o=Et(o,t,r,i,n[s+4],11,1272893353),i=Et(i,o,t,r,n[s+7],16,-155497632),r=Et(r,i,o,t,n[s+10],23,-1094730640),t=Et(t,r,i,o,n[s+13],4,681279174),o=Et(o,t,r,i,n[s],11,-358537222),i=Et(i,o,t,r,n[s+3],16,-722521979),r=Et(r,i,o,t,n[s+6],23,76029189),t=Et(t,r,i,o,n[s+9],4,-640364487),o=Et(o,t,r,i,n[s+12],11,-421815835),i=Et(i,o,t,r,n[s+15],16,530742520),r=Et(r,i,o,t,n[s+2],23,-995338651),t=Rt(t,r,i,o,n[s],6,-198630844),o=Rt(o,t,r,i,n[s+7],10,1126891415),i=Rt(i,o,t,r,n[s+14],15,-1416354905),r=Rt(r,i,o,t,n[s+5],21,-57434055),t=Rt(t,r,i,o,n[s+12],6,1700485571),o=Rt(o,t,r,i,n[s+3],10,-1894986606),i=Rt(i,o,t,r,n[s+10],15,-1051523),r=Rt(r,i,o,t,n[s+1],21,-2054922799),t=Rt(t,r,i,o,n[s+8],6,1873313359),o=Rt(o,t,r,i,n[s+15],10,-30611744),i=Rt(i,o,t,r,n[s+6],15,-1560198380),r=Rt(r,i,o,t,n[s+13],21,1309151649),t=Rt(t,r,i,o,n[s+4],6,-145523070),o=Rt(o,t,r,i,n[s+11],10,-1120210379),i=Rt(i,o,t,r,n[s+2],15,718787259),r=Rt(r,i,o,t,n[s+9],21,-343485551),t=wr(t,f),r=wr(r,l),i=wr(i,m),o=wr(o,E)}return[t,r,i,o]}function cg(n){if(n.length===0)return[];for(var e=n.length*8,t=new Uint32Array(Ou(e)),r=0;r<e;r+=8)t[r>>5]|=(n[r/8]&255)<<r%32;return t}function wr(n,e){var t=(n&65535)+(e&65535),r=(n>>16)+(e>>16)+(t>>16);return r<<16|t&65535}function ug(n,e){return n<<e|n>>>32-e}function Ti(n,e,t,r,i,o){return wr(ug(wr(wr(e,n),wr(r,o)),i),t)}function _t(n,e,t,r,i,o,s){return Ti(e&t|~e&r,n,e,i,o,s)}function wt(n,e,t,r,i,o,s){return Ti(e&r|t&~r,n,e,i,o,s)}function Et(n,e,t,r,i,o,s){return Ti(e^t^r,n,e,i,o,s)}function Rt(n,e,t,r,i,o,s){return Ti(t^(e|~r),n,e,i,o,s)}var xu,Bu=yt(()=>{"use strict";xu=og});var fg,Nu,Tu=yt(()=>{"use strict";Ts();Bu();fg=Ni("v3",48,xu),Nu=fg});function lg(n,e,t){n=n||{};var r=n.random||(n.rng||Nn)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=r[i];return e}return _r(r)}var ku,Lu=yt(()=>{"use strict";vs();kn();ku=lg});function hg(n,e,t,r){switch(n){case 0:return e&t^~e&r;case 1:return e^t^r;case 2:return e&t^e&r^t&r;case 3:return e^t^r}}function ks(n,e){return n<<e|n>>>32-e}function dg(n){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){var r=unescape(encodeURIComponent(n));n=[];for(var i=0;i<r.length;++i)n.push(r.charCodeAt(i))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);for(var o=n.length/4+2,s=Math.ceil(o/16),f=new Array(s),l=0;l<s;++l){for(var m=new Uint32Array(16),E=0;E<16;++E)m[E]=n[l*64+E*4]<<24|n[l*64+E*4+1]<<16|n[l*64+E*4+2]<<8|n[l*64+E*4+3];f[l]=m}f[s-1][14]=(n.length-1)*8/Math.pow(2,32),f[s-1][14]=Math.floor(f[s-1][14]),f[s-1][15]=(n.length-1)*8&4294967295;for(var S=0;S<s;++S){for(var v=new Uint32Array(80),A=0;A<16;++A)v[A]=f[S][A];for(var I=16;I<80;++I)v[I]=ks(v[I-3]^v[I-8]^v[I-14]^v[I-16],1);for(var x=t[0],T=t[1],N=t[2],P=t[3],U=t[4],K=0;K<80;++K){var te=Math.floor(K/20),X=ks(x,5)+hg(te,T,N,P)+U+e[te]+v[K]>>>0;U=P,P=N,N=ks(T,30)>>>0,T=x,x=X}t[0]=t[0]+x>>>0,t[1]=t[1]+T>>>0,t[2]=t[2]+N>>>0,t[3]=t[3]+P>>>0,t[4]=t[4]+U>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var Cu,Mu=yt(()=>{"use strict";Cu=dg});var pg,Uu,Pu=yt(()=>{"use strict";Ts();Mu();pg=Ni("v5",80,Cu),Uu=pg});var Du,Fu=yt(()=>{"use strict";Du="00000000-0000-0000-0000-000000000000"});function yg(n){if(!mr(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)}var zu,Ku=yt(()=>{"use strict";Tn();zu=yg});var Ls={};Na(Ls,{NIL:()=>Du,parse:()=>Bi,stringify:()=>_r,v1:()=>Iu,v3:()=>Nu,v4:()=>ku,v5:()=>Uu,validate:()=>mr,version:()=>zu});var Cs=yt(()=>{"use strict";vu();Tu();Lu();Pu();Fu();Ku();Tn();kn();Ns()});var qu=St((r1,$u)=>{"use strict";var gg=(Cs(),_o(Ls)).v4,mg=function(n,e,t,r){if(typeof n!="string")throw new TypeError(n+" must be a string");r=r||{};let i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");let o={method:n};if(i===2&&(o.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");o.params=e}if(typeof t>"u"){let s=typeof r.generator=="function"?r.generator:function(){return gg()};o.id=s(o,r)}else i===2&&t===null?r.notificationIdNull&&(o.id=null):o.id=t;return o};$u.exports=mg});var Wu=St((n1,Vu)=>{"use strict";var _g=(Cs(),_o(Ls)).v4,wg=qu(),Ln=function(n,e){if(!(this instanceof Ln))return new Ln(n,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return _g()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=n};Vu.exports=Ln;Ln.prototype.request=function(n,e,t,r){let i=this,o=null,s=Array.isArray(n)&&typeof e=="function";if(this.options.version===1&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&n&&typeof n=="object"&&typeof e=="function")r=e,o=n;else{typeof t=="function"&&(r=t,t=void 0);let m=typeof r=="function";try{o=wg(n,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(E){if(m)return r(E);throw E}if(!m)return o}let l;try{l=JSON.stringify(o,this.options.replacer)}catch(m){return r(m)}return this.callServer(l,function(m,E){i._parseResponse(m,E,r)}),o};Ln.prototype._parseResponse=function(n,e,t){if(n){t(n);return}if(!e)return t();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return t(i)}if(t.length===3)if(Array.isArray(r)){let i=function(s){return typeof s.error<"u"},o=function(s){return!i(s)};return t(null,r.filter(i),r.filter(o))}else return t(null,r.error,r.result);t(null,r)}});var Hu=St((i1,Ms)=>{"use strict";var Eg=Object.prototype.hasOwnProperty,vt="~";function Cn(){}Object.create&&(Cn.prototype=Object.create(null),new Cn().__proto__||(vt=!1));function Rg(n,e,t){this.fn=n,this.context=e,this.once=t||!1}function Gu(n,e,t,r,i){if(typeof t!="function")throw new TypeError("The listener must be a function");var o=new Rg(t,r||n,i),s=vt?vt+e:e;return n._events[s]?n._events[s].fn?n._events[s]=[n._events[s],o]:n._events[s].push(o):(n._events[s]=o,n._eventsCount++),n}function ki(n,e){--n._eventsCount===0?n._events=new Cn:delete n._events[e]}function bt(){this._events=new Cn,this._eventsCount=0}bt.prototype.eventNames=function(){var e=[],t,r;if(this._eventsCount===0)return e;for(r in t=this._events)Eg.call(t,r)&&e.push(vt?r.slice(1):r);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e};bt.prototype.listeners=function(e){var t=vt?vt+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s};bt.prototype.listenerCount=function(e){var t=vt?vt+e:e,r=this._events[t];return r?r.fn?1:r.length:0};bt.prototype.emit=function(e,t,r,i,o,s){var f=vt?vt+e:e;if(!this._events[f])return!1;var l=this._events[f],m=arguments.length,E,S;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),m){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,i),!0;case 5:return l.fn.call(l.context,t,r,i,o),!0;case 6:return l.fn.call(l.context,t,r,i,o,s),!0}for(S=1,E=new Array(m-1);S<m;S++)E[S-1]=arguments[S];l.fn.apply(l.context,E)}else{var v=l.length,A;for(S=0;S<v;S++)switch(l[S].once&&this.removeListener(e,l[S].fn,void 0,!0),m){case 1:l[S].fn.call(l[S].context);break;case 2:l[S].fn.call(l[S].context,t);break;case 3:l[S].fn.call(l[S].context,t,r);break;case 4:l[S].fn.call(l[S].context,t,r,i);break;default:if(!E)for(A=1,E=new Array(m-1);A<m;A++)E[A-1]=arguments[A];l[S].fn.apply(l[S].context,E)}}return!0};bt.prototype.on=function(e,t,r){return Gu(this,e,t,r,!1)};bt.prototype.once=function(e,t,r){return Gu(this,e,t,r,!0)};bt.prototype.removeListener=function(e,t,r,i){var o=vt?vt+e:e;if(!this._events[o])return this;if(!t)return ki(this,o),this;var s=this._events[o];if(s.fn)s.fn===t&&(!i||s.once)&&(!r||s.context===r)&&ki(this,o);else{for(var f=0,l=[],m=s.length;f<m;f++)(s[f].fn!==t||i&&!s[f].once||r&&s[f].context!==r)&&l.push(s[f]);l.length?this._events[o]=l.length===1?l[0]:l:ki(this,o)}return this};bt.prototype.removeAllListeners=function(e){var t;return e?(t=vt?vt+e:e,this._events[t]&&ki(this,t)):(this._events=new Cn,this._eventsCount=0),this};bt.prototype.off=bt.prototype.removeListener;bt.prototype.addListener=bt.prototype.on;bt.prefixed=vt;bt.EventEmitter=bt;typeof Ms<"u"&&(Ms.exports=bt)});var ie=Zt(mn());var Do=BigInt(0),Po=BigInt(1);function Qt(n,e=""){if(typeof n!="boolean"){let t=e&&`"${e}"`;throw new Error(t+"expected boolean, got type="+typeof n)}return n}function Tt(n,e,t=""){let r=cr(n),i=n?.length,o=e!==void 0;if(!r||o&&i!==e){let s=t&&`"${t}" `,f=o?` of length ${e}`:"",l=r?`length=${i}`:`type=${typeof n}`;throw new Error(s+"expected Uint8Array"+f+", got "+l)}return n}function _n(n){let e=n.toString(16);return e.length&1?"0"+e:e}function Qa(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?Do:BigInt("0x"+n)}function Gr(n){return Qa(Kt(n))}function Or(n){return Ro(n),Qa(Kt(Uint8Array.from(n).reverse()))}function qn(n,e){return Ar(n.toString(16).padStart(e*2,"0"))}function Fo(n,e){return qn(n,e).reverse()}function Re(n,e,t){let r;if(typeof e=="string")try{r=Ar(e)}catch(o){throw new Error(n+" must be hex string or Uint8Array, cause: "+o)}else if(cr(e))r=Uint8Array.from(e);else throw new Error(n+" must be hex string or Uint8Array");let i=r.length;if(typeof t=="number"&&i!==t)throw new Error(n+" of length "+t+" expected, got "+i);return r}function zo(n){return Uint8Array.from(n)}var Uo=n=>typeof n=="bigint"&&Do<=n;function ec(n,e,t){return Uo(n)&&Uo(e)&&Uo(t)&&e<=n&&n<t}function wn(n,e,t,r){if(!ec(e,t,r))throw new Error("expected valid "+n+": "+t+" <= n < "+r+", got "+e)}function Vn(n){let e;for(e=0;n>Do;n>>=Po,e+=1);return e}var fr=n=>(Po<<BigInt(n))-Po;function tc(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=A=>new Uint8Array(A),i=A=>Uint8Array.of(A),o=r(n),s=r(n),f=0,l=()=>{o.fill(1),s.fill(0),f=0},m=(...A)=>t(s,o,...A),E=(A=r(0))=>{s=m(i(0),A),o=m(),A.length!==0&&(s=m(i(1),A),o=m())},S=()=>{if(f++>=1e3)throw new Error("drbg: tried 1000 values");let A=0,I=[];for(;A<e;){o=m();let x=o.slice();I.push(x),A+=o.length}return Ot(...I)};return(A,I)=>{l(),E(A);let x;for(;!(x=I(S()));)E();return l(),x}}function lr(n,e,t={}){if(!n||typeof n!="object")throw new Error("expected valid options object");function r(i,o,s){let f=n[i];if(s&&f===void 0)return;let l=typeof f;if(l!==o||f===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${l}`)}Object.entries(e).forEach(([i,o])=>r(i,o,!1)),Object.entries(t).forEach(([i,o])=>r(i,o,!0))}function Hr(n){let e=new WeakMap;return(t,...r)=>{let i=e.get(t);if(i!==void 0)return i;let o=n(t,...r);return e.set(t,o),o}}var At=BigInt(0),ut=BigInt(1),xr=BigInt(2),ic=BigInt(3),oc=BigInt(4),sc=BigInt(5),El=BigInt(7),ac=BigInt(8),Rl=BigInt(9),cc=BigInt(16);function ve(n,e){let t=n%e;return t>=At?t:e+t}function be(n,e,t){let r=n;for(;e-- >At;)r*=r,r%=t;return r}function rc(n,e){if(n===At)throw new Error("invert: expected non-zero number");if(e<=At)throw new Error("invert: expected positive modulus, got "+e);let t=ve(n,e),r=e,i=At,o=ut,s=ut,f=At;for(;t!==At;){let m=r/t,E=r%t,S=i-s*m,v=o-f*m;r=t,t=E,i=s,o=f,s=S,f=v}if(r!==ut)throw new Error("invert: does not exist");return ve(i,e)}function Ko(n,e,t){if(!n.eql(n.sqr(e),t))throw new Error("Cannot find square root")}function uc(n,e){let t=(n.ORDER+ut)/oc,r=n.pow(e,t);return Ko(n,r,e),r}function bl(n,e){let t=(n.ORDER-sc)/ac,r=n.mul(e,xr),i=n.pow(r,t),o=n.mul(e,i),s=n.mul(n.mul(o,xr),i),f=n.mul(o,n.sub(s,n.ONE));return Ko(n,f,e),f}function Sl(n){let e=Pt(n),t=fc(n),r=t(e,e.neg(e.ONE)),i=t(e,r),o=t(e,e.neg(r)),s=(n+El)/cc;return(f,l)=>{let m=f.pow(l,s),E=f.mul(m,r),S=f.mul(m,i),v=f.mul(m,o),A=f.eql(f.sqr(E),l),I=f.eql(f.sqr(S),l);m=f.cmov(m,E,A),E=f.cmov(v,S,I);let x=f.eql(f.sqr(E),l),T=f.cmov(m,E,x);return Ko(f,T,l),T}}function fc(n){if(n<ic)throw new Error("sqrt is not defined for small field");let e=n-ut,t=0;for(;e%xr===At;)e/=xr,t++;let r=xr,i=Pt(n);for(;nc(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(t===1)return uc;let o=i.pow(r,e),s=(e+ut)/xr;return function(l,m){if(l.is0(m))return m;if(nc(l,m)!==1)throw new Error("Cannot find square root");let E=t,S=l.mul(l.ONE,o),v=l.pow(m,e),A=l.pow(m,s);for(;!l.eql(v,l.ONE);){if(l.is0(v))return l.ZERO;let I=1,x=l.sqr(v);for(;!l.eql(x,l.ONE);)if(I++,x=l.sqr(x),I===E)throw new Error("Cannot find square root");let T=ut<<BigInt(E-I-1),N=l.pow(S,T);E=I,S=l.sqr(N),v=l.mul(v,S),A=l.mul(A,N)}return A}}function Al(n){return n%oc===ic?uc:n%ac===sc?bl:n%cc===Rl?Sl(n):fc(n)}var lc=(n,e)=>(ve(n,e)&ut)===ut,Il=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function $o(n){let e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},t=Il.reduce((r,i)=>(r[i]="function",r),e);return lr(n,t),n}function vl(n,e,t){if(t<At)throw new Error("invalid exponent, negatives unsupported");if(t===At)return n.ONE;if(t===ut)return e;let r=n.ONE,i=e;for(;t>At;)t&ut&&(r=n.mul(r,i)),i=n.sqr(i),t>>=ut;return r}function En(n,e,t=!1){let r=new Array(e.length).fill(t?n.ZERO:void 0),i=e.reduce((s,f,l)=>n.is0(f)?s:(r[l]=s,n.mul(s,f)),n.ONE),o=n.inv(i);return e.reduceRight((s,f,l)=>n.is0(f)?s:(r[l]=n.mul(s,r[l]),n.mul(s,f)),o),r}function nc(n,e){let t=(n.ORDER-ut)/xr,r=n.pow(e,t),i=n.eql(r,n.ONE),o=n.eql(r,n.ZERO),s=n.eql(r,n.neg(n.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function Wn(n,e){e!==void 0&&Eo(e);let t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function Pt(n,e,t=!1,r={}){if(n<=At)throw new Error("invalid field: expected ORDER > 0, got "+n);let i,o,s=!1,f;if(typeof e=="object"&&e!=null){if(r.sqrt||t)throw new Error("cannot specify opts in two arguments");let v=e;v.BITS&&(i=v.BITS),v.sqrt&&(o=v.sqrt),typeof v.isLE=="boolean"&&(t=v.isLE),typeof v.modFromBytes=="boolean"&&(s=v.modFromBytes),f=v.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(o=r.sqrt);let{nBitLength:l,nByteLength:m}=Wn(n,i);if(m>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let E,S=Object.freeze({ORDER:n,isLE:t,BITS:l,BYTES:m,MASK:fr(l),ZERO:At,ONE:ut,allowedLengths:f,create:v=>ve(v,n),isValid:v=>{if(typeof v!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof v);return At<=v&&v<n},is0:v=>v===At,isValidNot0:v=>!S.is0(v)&&S.isValid(v),isOdd:v=>(v&ut)===ut,neg:v=>ve(-v,n),eql:(v,A)=>v===A,sqr:v=>ve(v*v,n),add:(v,A)=>ve(v+A,n),sub:(v,A)=>ve(v-A,n),mul:(v,A)=>ve(v*A,n),pow:(v,A)=>vl(S,v,A),div:(v,A)=>ve(v*rc(A,n),n),sqrN:v=>v*v,addN:(v,A)=>v+A,subN:(v,A)=>v-A,mulN:(v,A)=>v*A,inv:v=>rc(v,n),sqrt:o||(v=>(E||(E=Al(n)),E(S,v))),toBytes:v=>t?Fo(v,m):qn(v,m),fromBytes:(v,A=!0)=>{if(f){if(!f.includes(v.length)||v.length>m)throw new Error("Field.fromBytes: expected "+f+" bytes, got "+v.length);let x=new Uint8Array(m);x.set(v,t?0:x.length-v.length),v=x}if(v.length!==m)throw new Error("Field.fromBytes: expected "+m+" bytes, got "+v.length);let I=t?Or(v):Gr(v);if(s&&(I=ve(I,n)),!A&&!S.isValid(I))throw new Error("invalid field element: outside of range 0..ORDER");return I},invertBatch:v=>En(S,v),cmov:(v,A,I)=>I?A:v});return Object.freeze(S)}function hc(n){if(typeof n!="bigint")throw new Error("field order must be bigint");let e=n.toString(2).length;return Math.ceil(e/8)}function qo(n){let e=hc(n);return e+Math.ceil(e/2)}function Vo(n,e,t=!1){let r=n.length,i=hc(e),o=qo(e);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);let s=t?Or(n):Gr(n),f=ve(s,e-ut)+ut;return t?Fo(f,i):qn(f,i)}var Yr=BigInt(0),Br=BigInt(1);function Rn(n,e){let t=e.negate();return n?t:e}function er(n,e){let t=En(n.Fp,e.map(r=>r.Z));return e.map((r,i)=>n.fromAffine(r.toAffine(t[i])))}function gc(n,e){if(!Number.isSafeInteger(n)||n<=0||n>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+n)}function Wo(n,e){gc(n,e);let t=Math.ceil(e/n)+1,r=2**(n-1),i=2**n,o=fr(n),s=BigInt(n);return{windows:t,windowSize:r,mask:o,maxNumber:i,shiftBy:s}}function dc(n,e,t){let{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=t,f=Number(n&i),l=n>>s;f>r&&(f-=o,l+=Br);let m=e*r,E=m+Math.abs(f)-1,S=f===0,v=f<0,A=e%2!==0;return{nextN:l,offset:E,isZero:S,isNeg:v,isNegF:A,offsetF:m}}function Ol(n,e){if(!Array.isArray(n))throw new Error("array expected");n.forEach((t,r)=>{if(!(t instanceof e))throw new Error("invalid point at index "+r)})}function xl(n,e){if(!Array.isArray(n))throw new Error("array of scalars expected");n.forEach((t,r)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+r)})}var Go=new WeakMap,mc=new WeakMap;function Ho(n){return mc.get(n)||1}function pc(n){if(n!==Yr)throw new Error("invalid wNAF")}var jr=class{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,r=this.ZERO){let i=e;for(;t>Yr;)t&Br&&(r=r.add(i)),i=i.double(),t>>=Br;return r}precomputeWindow(e,t){let{windows:r,windowSize:i}=Wo(t,this.bits),o=[],s=e,f=s;for(let l=0;l<r;l++){f=s,o.push(f);for(let m=1;m<i;m++)f=f.add(s),o.push(f);s=f.double()}return o}wNAF(e,t,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,o=this.BASE,s=Wo(e,this.bits);for(let f=0;f<s.windows;f++){let{nextN:l,offset:m,isZero:E,isNeg:S,isNegF:v,offsetF:A}=dc(r,f,s);r=l,E?o=o.add(Rn(v,t[A])):i=i.add(Rn(S,t[m]))}return pc(r),{p:i,f:o}}wNAFUnsafe(e,t,r,i=this.ZERO){let o=Wo(e,this.bits);for(let s=0;s<o.windows&&r!==Yr;s++){let{nextN:f,offset:l,isZero:m,isNeg:E}=dc(r,s,o);if(r=f,!m){let S=t[l];i=i.add(E?S.negate():S)}}return pc(r),i}getPrecomputes(e,t,r){let i=Go.get(t);return i||(i=this.precomputeWindow(t,e),e!==1&&(typeof r=="function"&&(i=r(i)),Go.set(t,i))),i}cached(e,t,r){let i=Ho(e);return this.wNAF(i,this.getPrecomputes(i,e,r),t)}unsafe(e,t,r,i){let o=Ho(e);return o===1?this._unsafeLadder(e,t,i):this.wNAFUnsafe(o,this.getPrecomputes(o,e,r),t,i)}createCache(e,t){gc(t,this.bits),mc.set(e,t),Go.delete(e)}hasCache(e){return Ho(e)!==1}};function _c(n,e,t,r){let i=e,o=n.ZERO,s=n.ZERO;for(;t>Yr||r>Yr;)t&Br&&(o=o.add(i)),r&Br&&(s=s.add(i)),i=i.double(),t>>=Br,r>>=Br;return{p1:o,p2:s}}function Gn(n,e,t,r){Ol(t,n),xl(r,e);let i=t.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");let s=n.ZERO,f=Vn(BigInt(i)),l=1;f>12?l=f-3:f>4?l=f-2:f>0&&(l=2);let m=fr(l),E=new Array(Number(m)+1).fill(s),S=Math.floor((e.BITS-1)/l)*l,v=s;for(let A=S;A>=0;A-=l){E.fill(s);for(let x=0;x<o;x++){let T=r[x],N=Number(T>>BigInt(A)&m);E[N]=E[N].add(t[x])}let I=s;for(let x=E.length-1,T=s;x>0;x--)T=T.add(E[x]),I=I.add(T);if(v=v.add(I),A!==0)for(let x=0;x<l;x++)v=v.double()}return v}function yc(n,e,t){if(e){if(e.ORDER!==n)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return $o(e),e}else return Pt(n,{isLE:t})}function Hn(n,e,t={},r){if(r===void 0&&(r=n==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${n} CURVE object`);for(let l of["p","n","h"]){let m=e[l];if(!(typeof m=="bigint"&&m>Yr))throw new Error(`CURVE.${l} must be positive bigint`)}let i=yc(e.p,t.Fp,r),o=yc(e.n,t.Fn,r),f=["Gx","Gy","a",n==="weierstrass"?"b":"d"];for(let l of f)if(!i.isValid(e[l]))throw new Error(`CURVE.${l} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:o}}var hr=BigInt(0),ft=BigInt(1),Yo=BigInt(2),Bl=BigInt(8);function Nl(n,e,t,r){let i=n.sqr(t),o=n.sqr(r),s=n.add(n.mul(e.a,i),o),f=n.add(n.ONE,n.mul(e.d,n.mul(i,o)));return n.eql(s,f)}function Tl(n,e={}){let t=Hn("edwards",n,e,e.FpFnLE),{Fp:r,Fn:i}=t,o=t.CURVE,{h:s}=o;lr(e,{},{uvRatio:"function"});let f=Yo<<BigInt(i.BYTES*8)-ft,l=T=>r.create(T),m=e.uvRatio||((T,N)=>{try{return{isValid:!0,value:r.sqrt(r.div(T,N))}}catch{return{isValid:!1,value:hr}}});if(!Nl(r,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function E(T,N,P=!1){let U=P?ft:hr;return wn("coordinate "+T,N,U,f),N}function S(T){if(!(T instanceof I))throw new Error("ExtendedPoint expected")}let v=Hr((T,N)=>{let{X:P,Y:U,Z:K}=T,te=T.is0();N==null&&(N=te?Bl:r.inv(K));let X=l(P*N),ee=l(U*N),ae=r.mul(K,N);if(te)return{x:hr,y:ft};if(ae!==ft)throw new Error("invZ was invalid");return{x:X,y:ee}}),A=Hr(T=>{let{a:N,d:P}=o;if(T.is0())throw new Error("bad point: ZERO");let{X:U,Y:K,Z:te,T:X}=T,ee=l(U*U),ae=l(K*K),M=l(te*te),J=l(M*M),G=l(ee*N),Y=l(M*l(G+ae)),p=l(J+l(P*l(ee*ae)));if(Y!==p)throw new Error("bad point: equation left != right (1)");let a=l(U*K),c=l(te*X);if(a!==c)throw new Error("bad point: equation left != right (2)");return!0});class I{constructor(N,P,U,K){this.X=E("x",N),this.Y=E("y",P),this.Z=E("z",U,!0),this.T=E("t",K),Object.freeze(this)}static CURVE(){return o}static fromAffine(N){if(N instanceof I)throw new Error("extended point not allowed");let{x:P,y:U}=N||{};return E("x",P),E("y",U),new I(P,U,ft,l(P*U))}static fromBytes(N,P=!1){let U=r.BYTES,{a:K,d:te}=o;N=zo(Tt(N,U,"point")),Qt(P,"zip215");let X=zo(N),ee=N[U-1];X[U-1]=ee&-129;let ae=Or(X),M=P?f:r.ORDER;wn("point.y",ae,hr,M);let J=l(ae*ae),G=l(J-ft),Y=l(te*J-K),{isValid:p,value:a}=m(G,Y);if(!p)throw new Error("bad point: invalid y coordinate");let c=(a&ft)===ft,h=(ee&128)!==0;if(!P&&a===hr&&h)throw new Error("bad point: x=0 and x_0=1");return h!==c&&(a=l(-a)),I.fromAffine({x:a,y:ae})}static fromHex(N,P=!1){return I.fromBytes(Re("point",N),P)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(N=8,P=!0){return x.createCache(this,N),P||this.multiply(Yo),this}assertValidity(){A(this)}equals(N){S(N);let{X:P,Y:U,Z:K}=this,{X:te,Y:X,Z:ee}=N,ae=l(P*ee),M=l(te*K),J=l(U*ee),G=l(X*K);return ae===M&&J===G}is0(){return this.equals(I.ZERO)}negate(){return new I(l(-this.X),this.Y,this.Z,l(-this.T))}double(){let{a:N}=o,{X:P,Y:U,Z:K}=this,te=l(P*P),X=l(U*U),ee=l(Yo*l(K*K)),ae=l(N*te),M=P+U,J=l(l(M*M)-te-X),G=ae+X,Y=G-ee,p=ae-X,a=l(J*Y),c=l(G*p),h=l(J*p),d=l(Y*G);return new I(a,c,d,h)}add(N){S(N);let{a:P,d:U}=o,{X:K,Y:te,Z:X,T:ee}=this,{X:ae,Y:M,Z:J,T:G}=N,Y=l(K*ae),p=l(te*M),a=l(ee*U*G),c=l(X*J),h=l((K+te)*(ae+M)-Y-p),d=c-a,y=c+a,w=l(p-P*Y),b=l(h*d),g=l(y*w),u=l(h*w),_=l(d*y);return new I(b,g,_,u)}subtract(N){return this.add(N.negate())}multiply(N){if(!i.isValidNot0(N))throw new Error("invalid scalar: expected 1 <= sc < curve.n");let{p:P,f:U}=x.cached(this,N,K=>er(I,K));return er(I,[P,U])[0]}multiplyUnsafe(N,P=I.ZERO){if(!i.isValid(N))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return N===hr?I.ZERO:this.is0()||N===ft?this:x.unsafe(this,N,U=>er(I,U),P)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}isTorsionFree(){return x.unsafe(this,o.n).is0()}toAffine(N){return v(this,N)}clearCofactor(){return s===ft?this:this.multiplyUnsafe(s)}toBytes(){let{x:N,y:P}=this.toAffine(),U=r.toBytes(P);return U[U.length-1]|=N&ft?128:0,U}toHex(){return Kt(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(N){return er(I,N)}static msm(N,P){return Gn(I,i,N,P)}_setWindowSize(N){this.precompute(N)}toRawBytes(){return this.toBytes()}}I.BASE=new I(o.Gx,o.Gy,ft,l(o.Gx*o.Gy)),I.ZERO=new I(hr,ft,ft,hr),I.Fp=r,I.Fn=i;let x=new jr(I,i.BITS);return I.BASE.precompute(8),I}function kl(n,e,t={}){if(typeof e!="function")throw new Error('"hash" function param is required');lr(t,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});let{prehash:r}=t,{BASE:i,Fp:o,Fn:s}=n,f=t.randomBytes||Kr,l=t.adjustScalarBytes||(M=>M),m=t.domain||((M,J,G)=>{if(Qt(G,"phflag"),J.length||G)throw new Error("Contexts/pre-hash are not supported");return M});function E(M){return s.create(Or(M))}function S(M){let J=U.secretKey;M=Re("private key",M,J);let G=Re("hashed private key",e(M),2*J),Y=l(G.slice(0,J)),p=G.slice(J,2*J),a=E(Y);return{head:Y,prefix:p,scalar:a}}function v(M){let{head:J,prefix:G,scalar:Y}=S(M),p=i.multiply(Y),a=p.toBytes();return{head:J,prefix:G,scalar:Y,point:p,pointBytes:a}}function A(M){return v(M).pointBytes}function I(M=Uint8Array.of(),...J){let G=Ot(...J);return E(e(m(G,Re("context",M),!!r)))}function x(M,J,G={}){M=Re("message",M),r&&(M=r(M));let{prefix:Y,scalar:p,pointBytes:a}=v(J),c=I(G.context,Y,M),h=i.multiply(c).toBytes(),d=I(G.context,h,a,M),y=s.create(c+d*p);if(!s.isValid(y))throw new Error("sign failed: invalid s");let w=Ot(h,s.toBytes(y));return Tt(w,U.signature,"result")}let T={zip215:!0};function N(M,J,G,Y=T){let{context:p,zip215:a}=Y,c=U.signature;M=Re("signature",M,c),J=Re("message",J),G=Re("publicKey",G,U.publicKey),a!==void 0&&Qt(a,"zip215"),r&&(J=r(J));let h=c/2,d=M.subarray(0,h),y=Or(M.subarray(h,c)),w,b,g;try{w=n.fromBytes(G,a),b=n.fromBytes(d,a),g=i.multiplyUnsafe(y)}catch{return!1}if(!a&&w.isSmallOrder())return!1;let u=I(p,b.toBytes(),w.toBytes(),J);return b.add(w.multiplyUnsafe(u)).subtract(g).clearCofactor().is0()}let P=o.BYTES,U={secretKey:P,publicKey:P,signature:2*P,seed:P};function K(M=f(U.seed)){return Tt(M,U.seed,"seed")}function te(M){let J=ae.randomSecretKey(M);return{secretKey:J,publicKey:A(J)}}function X(M){return cr(M)&&M.length===s.BYTES}function ee(M,J){try{return!!n.fromBytes(M,J)}catch{return!1}}let ae={getExtendedPublicKey:v,randomSecretKey:K,isValidSecretKey:X,isValidPublicKey:ee,toMontgomery(M){let{y:J}=n.fromBytes(M),G=U.publicKey,Y=G===32;if(!Y&&G!==57)throw new Error("only defined for 25519 and 448");let p=Y?o.div(ft+J,ft-J):o.div(J-ft,J+ft);return o.toBytes(p)},toMontgomerySecret(M){let J=U.secretKey;Tt(M,J);let G=e(M.subarray(0,J));return l(G).subarray(0,J)},randomPrivateKey:K,precompute(M=8,J=n.BASE){return J.precompute(M,!1)}};return Object.freeze({keygen:te,getPublicKey:A,sign:x,verify:N,utils:ae,Point:n,lengths:U})}function Ll(n){let e={a:n.a,d:n.d,p:n.Fp.ORDER,n:n.n,h:n.h,Gx:n.Gx,Gy:n.Gy},t=n.Fp,r=Pt(e.n,n.nBitLength,!0),i={Fp:t,Fn:r,uvRatio:n.uvRatio},o={randomBytes:n.randomBytes,adjustScalarBytes:n.adjustScalarBytes,domain:n.domain,prehash:n.prehash,mapToCurve:n.mapToCurve};return{CURVE:e,curveOpts:i,hash:n.hash,eddsaOpts:o}}function Cl(n,e){let t=e.Point;return Object.assign({},e,{ExtendedPoint:t,CURVE:n,nBitLength:t.Fn.BITS,nByteLength:t.Fn.BYTES})}function wc(n){let{CURVE:e,curveOpts:t,hash:r,eddsaOpts:i}=Ll(n),o=Tl(e,t),s=kl(o,r,i);return Cl(n,s)}var Ml=BigInt(1),Ec=BigInt(2),X_=BigInt(3),Ul=BigInt(5),Pl=BigInt(8),jo=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),bc={p:jo,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Pl,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Dl(n){let e=BigInt(10),t=BigInt(20),r=BigInt(40),i=BigInt(80),o=jo,f=n*n%o*n%o,l=be(f,Ec,o)*f%o,m=be(l,Ml,o)*n%o,E=be(m,Ul,o)*m%o,S=be(E,e,o)*E%o,v=be(S,t,o)*S%o,A=be(v,r,o)*v%o,I=be(A,i,o)*A%o,x=be(I,i,o)*A%o,T=be(x,e,o)*E%o;return{pow_p_5_8:be(T,Ec,o)*n%o,b2:f}}function Fl(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}var Rc=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function zl(n,e){let t=jo,r=ve(e*e*e,t),i=ve(r*r*e,t),o=Dl(n*i).pow_p_5_8,s=ve(n*r*o,t),f=ve(e*s*s,t),l=s,m=ve(s*Rc,t),E=f===n,S=f===ve(-n,t),v=f===ve(-n*Rc,t);return E&&(s=l),(S||v)&&(s=m),lc(s,t)&&(s=ve(-s,t)),{isValid:E||S,value:s}}var Kl=Pt(bc.p,{isLE:!0});var $l=se(Z({},bc),{Fp:Kl,hash:La,adjustScalarBytes:Fl,uvRatio:zl}),Nr=wc($l);var js=Zt(os()),ht=Zt(Gc());var dn=Zt(nu()),R=Zt(ys()),Af=Zt(ys());var Dh=1,Fh=2,zh=3,Kh=4,$h=5,qh=6,Vh=7,Wh=8,Gh=9,Hh=10,Yh=-32700,jh=-32603,Xh=-32602,Zh=-32601,Jh=-32600,Qh=-32016,ed=-32015,td=-32014,rd=-32013,nd=-32012,id=-32011,od=-32010,sd=-32009,ad=-32008,cd=-32007,ud=-32006,fd=-32005,ld=-32004,hd=-32003,dd=-32002,pd=-32001,yd=28e5,gd=2800001,md=2800002,_d=2800003,wd=2800004,Ed=2800005,Rd=2800006,bd=2800007,Sd=2800008,Ad=2800009,Id=2800010,vd=2800011,Od=323e4,xd=32300001,Bd=3230002,Nd=3230003,Td=3230004,kd=361e4,Ld=3610001,Cd=3610002,Md=3610003,Ud=3610004,Pd=3610005,Dd=3610006,Fd=3610007,zd=3611e3,Kd=3704e3,$d=3704001,qd=3704002,Vd=3704003,Wd=3704004,Gd=4128e3,Hd=4128001,Yd=4128002,jd=4615e3,Xd=4615001,Zd=4615002,Jd=4615003,Qd=4615004,e0=4615005,t0=4615006,r0=4615007,n0=4615008,i0=4615009,o0=4615010,s0=4615011,a0=4615012,c0=4615013,u0=4615014,f0=4615015,l0=4615016,h0=4615017,d0=4615018,p0=4615019,y0=4615020,g0=4615021,m0=4615022,_0=4615023,w0=4615024,E0=4615025,R0=4615026,b0=4615027,S0=4615028,A0=4615029,I0=4615030,v0=4615031,O0=4615032,x0=4615033,B0=4615034,N0=4615035,T0=4615036,k0=4615037,L0=4615038,C0=4615039,M0=4615040,U0=4615041,P0=4615042,D0=4615043,F0=4615044,z0=4615045,K0=4615046,$0=4615047,q0=4615048,V0=4615049,W0=4615050,G0=4615051,H0=4615052,Y0=4615053,j0=4615054,X0=5508e3,Z0=5508001,J0=5508002,Q0=5508003,ep=5508004,tp=5508005,rp=5508006,np=5508007,ip=5508008,op=5508009,sp=5508010,ap=5508011,cp=5663e3,up=5663001,fp=5663002,lp=5663003,hp=5663004,dp=5663005,pp=5663006,yp=5663007,gp=5663008,mp=5663009,_p=5663010,wp=5663011,Ep=5663012,Rp=5663013,bp=5663014,Sp=5663015,Ap=5663016,Ip=5663017,vp=5663018,Op=5663019,xp=5663020,Bp=705e4,Np=7050001,Tp=7050002,kp=7050003,Lp=7050004,Cp=7050005,Mp=7050006,Up=7050007,Pp=7050008,Dp=7050009,Fp=7050010,zp=7050011,Kp=7050012,$p=7050013,qp=7050014,Vp=7050015,Wp=7050016,Gp=7050017,Hp=7050018,Yp=7050019,jp=7050020,Xp=7050021,Zp=7050022,Jp=7050023,Qp=7050024,ey=7050025,ty=7050026,ry=7050027,ny=7050028,iy=7050029,oy=7050030,sy=7050031,ay=7050032,cy=7050033,uy=7050034,fy=7050035,ly=7050036,gs=8078e3,ms=8078001,iu=8078002,ou=8078003,_s=8078004,ws=8078005,Es=8078006,hy=8078007,dy=8078008,py=8078009,yy=8078010,Rs=8078011,gy=8078012,su=8078013,au=8078014,my=8078015,_y=8078016,wy=8078017,Ey=8078018,Ry=8078019,cu=8078020,uu=8078021,by=8078022,Sy=81e5,Ay=8100001,Iy=8100002,vy=8100003,Oy=819e4,xy=8190001,By=8190002,Ny=8190003,Ty=8190004,ky=99e5,Ly=9900001,Cy=9900002,My=9900003,Uy=9900004;function fu(n){return Array.isArray(n)?"%5B"+n.map(fu).join("%2C%20")+"%5D":typeof n=="bigint"?`${n}n`:encodeURIComponent(String(n!=null&&Object.getPrototypeOf(n)===null?Z({},n):n))}function Py([n,e]){return`${n}=${fu(e)}`}function Dy(n){let e=Object.entries(n).map(Py).join("&");return btoa(e)}var aw={[Od]:"Account not found at address: $address",[Td]:"Not all accounts were decoded. Encoded accounts found at addresses: $addresses.",[Nd]:"Expected decoded account at address: $address",[Bd]:"Failed to decode account data at address: $address",[xd]:"Accounts not found at addresses: $addresses",[Ad]:"Unable to find a viable program address bump seed.",[md]:"$putativeAddress is not a base58-encoded address.",[yd]:"Expected base58 encoded address to decode to a byte array of length 32. Actual length: $actualLength.",[_d]:"The `CryptoKey` must be an `Ed25519` public key.",[vd]:"$putativeOffCurveAddress is not a base58-encoded off-curve address.",[Sd]:"Invalid seeds; point must fall off the Ed25519 curve.",[wd]:"Expected given program derived address to have the following format: [Address, ProgramDerivedAddressBump].",[Rd]:"A maximum of $maxSeeds seeds, including the bump seed, may be supplied when creating an address. Received: $actual.",[bd]:"The seed at index $index with length $actual exceeds the maximum length of $maxSeedLength bytes.",[Ed]:"Expected program derived address bump to be in the range [0, 255], got: $bump.",[Id]:"Program address cannot end with PDA marker.",[gd]:"Expected base58-encoded address string of length in the range [32, 44]. Actual length: $actualLength.",[Kh]:"Expected base58-encoded blockash string of length in the range [32, 44]. Actual length: $actualLength.",[Dh]:"The network has progressed past the last block for which this transaction could have been committed.",[gs]:"Codec [$codecDescription] cannot decode empty byte arrays.",[by]:"Enum codec cannot use lexical values [$stringValues] as discriminators. Either remove all lexical values or set `useValuesAsDiscriminators` to `false`.",[cu]:"Sentinel [$hexSentinel] must not be present in encoded bytes [$hexEncodedBytes].",[ws]:"Encoder and decoder must have the same fixed size, got [$encoderFixedSize] and [$decoderFixedSize].",[Es]:"Encoder and decoder must have the same max size, got [$encoderMaxSize] and [$decoderMaxSize].",[_s]:"Encoder and decoder must either both be fixed-size or variable-size.",[dy]:"Enum discriminator out of range. Expected a number in [$formattedValidDiscriminators], got $discriminator.",[iu]:"Expected a fixed-size codec, got a variable-size one.",[su]:"Codec [$codecDescription] expected a positive byte length, got $bytesLength.",[ou]:"Expected a variable-size codec, got a fixed-size one.",[Ry]:"Codec [$codecDescription] expected zero-value [$hexZeroValue] to have the same size as the provided fixed-size item [$expectedSize bytes].",[ms]:"Codec [$codecDescription] expected $expected bytes, got $bytesLength.",[Ey]:"Expected byte array constant [$hexConstant] to be present in data [$hexData] at offset [$offset].",[py]:"Invalid discriminated union variant. Expected one of [$variants], got $value.",[yy]:"Invalid enum variant. Expected one of [$stringValues] or a number in [$formattedNumericalValues], got $variant.",[my]:"Invalid literal union variant. Expected one of [$variants], got $value.",[hy]:"Expected [$codecDescription] to have $expected items, got $actual.",[gy]:"Invalid value $value for base $base with alphabet $alphabet.",[_y]:"Literal union discriminator out of range. Expected a number between $minRange and $maxRange, got $discriminator.",[Rs]:"Codec [$codecDescription] expected number to be in the range [$min, $max], got $value.",[au]:"Codec [$codecDescription] expected offset to be in the range [0, $bytesLength], got $offset.",[uu]:"Expected sentinel [$hexSentinel] to be present in decoded bytes [$hexDecodedBytes].",[wy]:"Union variant out of range. Expected an index between $minRange and $maxRange, got $variant.",[zd]:"No random values implementation could be found.",[i0]:"instruction requires an uninitialized account",[_0]:"instruction tries to borrow reference for an account which is already borrowed",[w0]:"instruction left account with an outstanding borrowed reference",[g0]:"program other than the account's owner changed the size of the account data",[e0]:"account data too small for instruction",[m0]:"instruction expected an executable account",[K0]:"An account does not have enough lamports to be rent-exempt",[q0]:"Program arithmetic overflowed",[z0]:"Failed to serialize or deserialize account data: $encodedData",[j0]:"Builtin programs must consume compute units",[O0]:"Cross-program invocation call depth too deep",[L0]:"Computational budget exceeded",[R0]:"custom program error: #$code",[h0]:"instruction contains duplicate accounts",[E0]:"instruction modifications of multiply-passed account differ",[I0]:"executable accounts must be rent exempt",[S0]:"instruction changed executable accounts data",[A0]:"instruction changed the balance of an executable account",[d0]:"instruction changed executable bit of an account",[u0]:"instruction modified data of an account it does not own",[c0]:"instruction spent from the balance of an account it does not own",[Xd]:"generic instruction error",[W0]:"Provided owner is not allowed",[D0]:"Account is immutable",[F0]:"Incorrect authority provided",[r0]:"incorrect program id for instruction",[t0]:"insufficient funds for instruction",[Qd]:"invalid account data for instruction",[$0]:"Invalid account owner",[Zd]:"invalid program argument",[b0]:"program returned invalid error code",[Jd]:"invalid instruction data",[k0]:"Failed to reallocate account data",[T0]:"Provided seeds do not result in a valid address",[G0]:"Accounts data allocations exceeded the maximum allowed per transaction",[H0]:"Max accounts exceeded",[Y0]:"Max instruction trace length exceeded",[N0]:"Length of the seed is too long for address generation",[x0]:"An account required by the instruction is missing",[n0]:"missing required signature for instruction",[a0]:"instruction illegally modified the program id of an account",[y0]:"insufficient account keys for instruction",[C0]:"Cross-program invocation with unauthorized signer or writable account",[M0]:"Failed to create program execution environment",[P0]:"Program failed to compile",[U0]:"Program failed to complete",[l0]:"instruction modified data of a read-only account",[f0]:"instruction changed the balance of a read-only account",[B0]:"Cross-program invocation reentrancy not allowed for this instruction",[p0]:"instruction modified rent epoch of an account",[s0]:"sum of account balances before and after instruction do not match",[o0]:"instruction requires an initialized account",[jd]:"",[v0]:"Unsupported program id",[V0]:"Unsupported sysvar",[Gd]:"The instruction does not have any accounts.",[Hd]:"The instruction does not have any data.",[Yd]:"Expected instruction to have progress address $expectedProgramAddress, got $actualProgramAddress.",[$h]:"Expected base58 encoded blockhash to decode to a byte array of length 32. Actual length: $actualLength.",[Fh]:"The nonce `$expectedNonceValue` is no longer valid. It has advanced to `$actualNonceValue`",[Cy]:"Invariant violation: Found no abortable iterable cache entry for key `$cacheKey`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Uy]:"Invariant violation: This data publisher does not publish to the channel named `$channelName`. Supported channels include $supportedChannelNames.",[Ly]:"Invariant violation: WebSocket message iterator state is corrupt; iterated without first resolving existing message promise. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[ky]:"Invariant violation: WebSocket message iterator is missing state storage. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[My]:"Invariant violation: Switch statement non-exhaustive. Received unexpected value `$unexpectedValue`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[jh]:"JSON-RPC error: Internal JSON-RPC error ($__serverMessage)",[Xh]:"JSON-RPC error: Invalid method parameter(s) ($__serverMessage)",[Jh]:"JSON-RPC error: The JSON sent is not a valid `Request` object ($__serverMessage)",[Zh]:"JSON-RPC error: The method does not exist / is not available ($__serverMessage)",[Yh]:"JSON-RPC error: An error occurred on the server while parsing the JSON text ($__serverMessage)",[nd]:"$__serverMessage",[pd]:"$__serverMessage",[ld]:"$__serverMessage",[td]:"$__serverMessage",[od]:"$__serverMessage",[sd]:"$__serverMessage",[Qh]:"Minimum context slot has not been reached",[fd]:"Node is unhealthy; behind by $numSlotsBehind slots",[ad]:"No snapshot",[dd]:"Transaction simulation failed",[cd]:"$__serverMessage",[id]:"Transaction history is not available from this node",[ud]:"$__serverMessage",[rd]:"Transaction signature length mismatch",[hd]:"Transaction signature verification failure",[ed]:"$__serverMessage",[Kd]:"Key pair bytes must be of length 64, got $byteLength.",[$d]:"Expected private key bytes with length 32. Actual length: $actualLength.",[qd]:"Expected base58-encoded signature to decode to a byte array of length 64. Actual length: $actualLength.",[Wd]:"The provided private key does not match the provided public key.",[Vd]:"Expected base58-encoded signature string of length in the range [64, 88]. Actual length: $actualLength.",[qh]:"Lamports value must be in the range [0, 2e64-1]",[Vh]:"`$value` cannot be parsed as a `BigInt`",[Hh]:"$message",[Wh]:"`$value` cannot be parsed as a `Number`",[zh]:"No nonce account could be found at address `$nonceAccountAddress`",[Oy]:"The notification name must end in 'Notifications' and the API must supply a subscription plan creator function for the notification '$notificationName'.",[By]:"WebSocket was closed before payload could be added to the send buffer",[Ny]:"WebSocket connection closed",[Ty]:"WebSocket failed to connect",[xy]:"Failed to obtain a subscription id from the server",[vy]:"Could not find an API plan for RPC method: `$method`",[Sy]:"The $argumentLabel argument to the `$methodName` RPC method$optionalPathLabel was `$value`. This number is unsafe for use with the Solana JSON-RPC because it exceeds `Number.MAX_SAFE_INTEGER`.",[Iy]:"HTTP error ($statusCode): $message",[Ay]:"HTTP header(s) forbidden: $headers. Learn more at https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name.",[X0]:"Multiple distinct signers were identified for address `$address`. Please ensure that you are using the same signer instance for each address.",[Z0]:"The provided value does not implement the `KeyPairSigner` interface",[Q0]:"The provided value does not implement the `MessageModifyingSigner` interface",[ep]:"The provided value does not implement the `MessagePartialSigner` interface",[J0]:"The provided value does not implement any of the `MessageSigner` interfaces",[rp]:"The provided value does not implement the `TransactionModifyingSigner` interface",[np]:"The provided value does not implement the `TransactionPartialSigner` interface",[ip]:"The provided value does not implement the `TransactionSendingSigner` interface",[tp]:"The provided value does not implement any of the `TransactionSigner` interfaces",[op]:"More than one `TransactionSendingSigner` was identified.",[sp]:"No `TransactionSendingSigner` was identified. Please provide a valid `TransactionWithSingleSendingSigner` transaction.",[ap]:"Wallet account signers do not support signing multiple messages/transactions in a single operation",[Fd]:"Cannot export a non-extractable key.",[Ld]:"No digest implementation could be found.",[kd]:"Cryptographic operations are only allowed in secure browser contexts. Read more here: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts.",[Cd]:`This runtime does not support the generation of Ed25519 key pairs.

Install @solana/webcrypto-ed25519-polyfill and call its \`install\` function before generating keys in environments that do not support Ed25519.

For a list of runtimes that currently support Ed25519 operations, visit https://github.com/WICG/webcrypto-secure-curves/issues/20.`,[Md]:"No signature verification implementation could be found.",[Ud]:"No key generation implementation could be found.",[Pd]:"No signing implementation could be found.",[Dd]:"No key export implementation could be found.",[Gh]:"Timestamp value must be in the range [-(2n ** 63n), (2n ** 63n) - 1]. `$value` given",[Wp]:"Transaction processing left an account with an outstanding borrowed reference",[Np]:"Account in use",[Tp]:"Account loaded twice",[kp]:"Attempt to debit an account but found no record of a prior credit.",[Jp]:"Transaction loads an address table account that doesn't exist",[Up]:"This transaction has already been processed",[Pp]:"Blockhash not found",[Dp]:"Loader call chain is too deep",[Vp]:"Transactions are currently disabled due to cluster maintenance",[oy]:"Transaction contains a duplicate instruction ($index) that is not allowed",[Cp]:"Insufficient funds for fee",[sy]:"Transaction results in an account ($accountIndex) with insufficient funds for rent",[Mp]:"This account may not be used to pay transaction fees",[zp]:"Transaction contains an invalid account reference",[ey]:"Transaction loads an address table account with invalid data",[ty]:"Transaction address table lookup uses an invalid index",[Qp]:"Transaction loads an address table account with an invalid owner",[cy]:"LoadedAccountsDataSizeLimit set for transaction must be greater than 0.",[$p]:"This program may not be used for executing instructions",[ry]:"Transaction leaves an account with a lower balance than rent-exempt minimum",[Yp]:"Transaction loads a writable account that cannot be written",[ay]:"Transaction exceeded max loaded accounts data size cap",[Fp]:"Transaction requires a fee but has no signature present",[Lp]:"Attempt to load a program that does not exist",[fy]:"Execution of the program referenced by account at index $accountIndex is temporarily restricted.",[uy]:"ResanitizationNeeded",[qp]:"Transaction failed to sanitize accounts offsets correctly",[Kp]:"Transaction did not pass signature verification",[Zp]:"Transaction locked too many accounts",[ly]:"Sum of account balances before and after transaction do not match",[Bp]:"The transaction failed with the error `$errorName`",[Hp]:"Transaction version is unsupported",[Xp]:"Transaction would exceed account data limit within the block",[iy]:"Transaction would exceed total account data limit",[jp]:"Transaction would exceed max account limit within the block",[Gp]:"Transaction would exceed max Block Cost Limit",[ny]:"Transaction would exceed max Vote Cost Limit",[Sp]:"Attempted to sign a transaction with an address that is not a signer for it",[_p]:"Transaction is missing an address at index: $index.",[Ap]:"Transaction has no expected signers therefore it cannot be encoded",[xp]:"Transaction size $transactionSize exceeds limit of $transactionSizeLimit bytes",[fp]:"Transaction does not have a blockhash lifetime",[lp]:"Transaction is not a durable nonce transaction",[dp]:"Contents of these address lookup tables unknown: $lookupTableAddresses",[pp]:"Lookup of address at index $highestRequestedIndex failed for lookup table `$lookupTableAddress`. Highest known index is $highestKnownIndex. The lookup table may have been extended since its contents were retrieved",[gp]:"No fee payer set in CompiledTransaction",[yp]:"Could not find program address at index $index",[vp]:"Failed to estimate the compute unit consumption for this transaction message. This is likely because simulating the transaction failed. Inspect the `cause` property of this error to learn more",[Op]:"Transaction failed when it was simulated in order to estimate the compute unit consumption. The compute unit estimate provided is for a transaction that failed when simulated and may not be representative of the compute units this transaction would consume if successful. Inspect the `cause` property of this error to learn more",[wp]:"Transaction is missing a fee payer.",[Ep]:"Could not determine this transaction's signature. Make sure that the transaction has been signed by its fee payer.",[bp]:"Transaction first instruction is not advance nonce account instruction.",[Rp]:"Transaction with no instructions cannot be durable nonce transaction.",[cp]:"This transaction includes an address (`$programAddress`) which is both invoked and set as the fee payer. Program addresses may not pay fees",[up]:"This transaction includes an address (`$programAddress`) which is both invoked and marked writable. Program addresses may not be writable",[Ip]:"The transaction message expected the transaction to have $signerAddressesLength signatures, got $signaturesLength.",[mp]:"Transaction is missing signatures for addresses: $addresses.",[hp]:"Transaction version must be in the range [0, 127]. `$actualVersion` given"};function Fy(n,e={}){{let t=`Solana error #${n}; Decode this error by running \`npx @solana/errors decode -- ${n}`;return Object.keys(e).length&&(t+=` '${Dy(e)}'`),`${t}\``}}var gr=class extends Error{cause=this.cause;context;constructor(...[n,e]){let t,r;if(e){let o=e,{cause:s}=o,f=zt(o,["cause"]);s&&(r={cause:s}),Object.keys(f).length>0&&(t=f)}let i=Fy(n,t);super(i,r),this.context=Z({__code:n},t),this.name="SolanaError"}};function zy(n,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(n)}function lu(n){return Object.freeze(se(Z({},n),{encode:e=>{let t=new Uint8Array(zy(e,n));return n.write(e,t,0),t}}))}function hu(n){return Object.freeze(se(Z({},n),{decode:(e,t=0)=>n.read(e,t)[0]}))}function on(n){return"fixedSize"in n&&typeof n.fixedSize=="number"}function du(n,e){if(on(n)!==on(e))throw new gr(_s);if(on(n)&&on(e)&&n.fixedSize!==e.fixedSize)throw new gr(ws,{decoderFixedSize:e.fixedSize,encoderFixedSize:n.fixedSize});if(!on(n)&&!on(e)&&n.maxSize!==e.maxSize)throw new gr(Es,{decoderMaxSize:e.maxSize,encoderMaxSize:n.maxSize});return se(Z(Z({},e),n),{decode:e.decode,encode:n.encode,read:e.read,write:n.write})}function pu(n,e,t=0){if(e.length-t<=0)throw new gr(gs,{codecDescription:n})}function yu(n,e,t,r=0){let i=t.length-r;if(i<e)throw new gr(ms,{bytesLength:i,codecDescription:n,expected:e})}function Ky(n,e,t,r){if(r<e||r>t)throw new gr(Rs,{codecDescription:n,max:t,min:e,value:r})}function gu(n){return n?.endian!==1}function $y(n){return lu({fixedSize:n.size,write(e,t,r){n.range&&Ky(n.name,n.range[0],n.range[1],e);let i=new ArrayBuffer(n.size);return n.set(new DataView(i),e,gu(n.config)),t.set(new Uint8Array(i),r),r+n.size}})}function qy(n){return hu({fixedSize:n.size,read(e,t=0){pu(n.name,e,t),yu(n.name,n.size,e,t);let r=new DataView(Vy(e,t,n.size));return[n.get(r,gu(n.config)),t+n.size]}})}function Vy(n,e,t){let r=n.byteOffset+(e??0),i=t??n.byteLength;return n.buffer.slice(r,r+i)}var bs=(n={})=>$y({config:n,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,r)=>e.setBigUint64(0,BigInt(t),r),size:8}),Wy=(n={})=>qy({config:n,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}),mu=(n={})=>du(bs(n),Wy(n));var Ss=class extends TypeError{constructor(e,t){let r,m=e,{message:i,explanation:o}=m,s=zt(m,["message","explanation"]),{path:f}=e,l=f.length===0?i:`At path: ${f.join(".")} -- ${i}`;super(o??l),o!=null&&(this.cause=l),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}};function Gy(n){return xn(n)&&typeof n[Symbol.iterator]=="function"}function xn(n){return typeof n=="object"&&n!=null}function Ai(n){return xn(n)&&!Array.isArray(n)}function $t(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function Hy(n){let{done:e,value:t}=n.next();return e?void 0:t}function Yy(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});let{path:i,branch:o}=e,{type:s}=t,{refinement:f,message:l=`Expected a value of type \`${s}\`${f?` with refinement \`${f}\``:""}, but received: \`${$t(r)}\``}=n;return se(Z({value:r,type:s,refinement:f,key:i[i.length-1],path:i,branch:o},n),{message:l})}function*_u(n,e,t,r){Gy(n)||(n=[n]);for(let i of n){let o=Yy(i,e,t,r);o&&(yield o)}}function*As(n,e,t={}){let{path:r=[],branch:i=[n],coerce:o=!1,mask:s=!1}=t,f={path:r,branch:i,mask:s};o&&(n=e.coercer(n,f));let l="valid";for(let m of e.validator(n,f))m.explanation=t.message,l="not_valid",yield[m,void 0];for(let[m,E,S]of e.entries(n,f)){let v=As(E,S,{path:m===void 0?r:[...r,m],branch:m===void 0?i:[...i,E],coerce:o,mask:s,message:t.message});for(let A of v)A[0]?(l=A[0].refinement!=null?"not_refined":"not_valid",yield[A[0],void 0]):o&&(E=A[1],m===void 0?n=E:n instanceof Map?n.set(m,E):n instanceof Set?n.add(E):xn(n)&&(E!==void 0||m in n)&&(n[m]=E))}if(l!=="not_valid")for(let m of e.refiner(n,f))m.explanation=t.message,l="not_refined",yield[m,void 0];l==="valid"&&(yield[void 0,n])}var Dt=class{constructor(e){let{type:t,schema:r,validator:i,refiner:o,coercer:s=l=>l,entries:f=function*(){}}=e;this.type=t,this.schema=r,this.entries=f,this.coercer=s,i?this.validator=(l,m)=>{let E=i(l,m);return _u(E,m,this,l)}:this.validator=()=>[],o?this.refiner=(l,m)=>{let E=o(l,m);return _u(E,m,this,l)}:this.refiner=()=>[]}assert(e,t){return wu(e,this,t)}create(e,t){return $(e,this,t)}is(e){return Eu(e,this)}mask(e,t){return jy(e,this,t)}validate(e,t={}){return Bn(e,this,t)}};function wu(n,e,t){let r=Bn(n,e,{message:t});if(r[0])throw r[0]}function $(n,e,t){let r=Bn(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function jy(n,e,t){let r=Bn(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function Eu(n,e){return!Bn(n,e)[0]}function Bn(n,e,t={}){let r=As(n,e,t),i=Hy(r);return i[0]?[new Ss(i[0],function*(){for(let s of r)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function Mr(n,e){return new Dt({type:n,schema:null,validator:e})}function Ru(){return Mr("any",()=>!0)}function V(n){return new Dt({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(let[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${$t(e)}`}})}function qt(){return Mr("boolean",n=>typeof n=="boolean")}function Ii(n){return Mr("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${$t(e)}`)}function Se(n){let e=$t(n),t=typeof n;return new Dt({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${$t(r)}`}})}function Xy(){return Mr("never",()=>!1)}function W(n){return new Dt(se(Z({},n),{validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)}))}function O(){return Mr("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${$t(n)}`)}function Q(n){return new Dt(se(Z({},n),{validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)}))}function Is(n,e){return new Dt({type:"record",schema:null,*entries(t){if(xn(t))for(let r in t){let i=t[r];yield[r,r,n],yield[r,i,e]}},validator(t){return Ai(t)||`Expected an object, but received: ${$t(t)}`},coercer(t){return Ai(t)?Z({},t):t}})}function z(){return Mr("string",n=>typeof n=="string"||`Expected a string, but received: ${$t(n)}`)}function vi(n){let e=Xy();return new Dt({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){let r=Math.max(n.length,t.length);for(let i=0;i<r;i++)yield[i,t[i],n[i]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${$t(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function C(n){let e=Object.keys(n);return new Dt({type:"type",schema:n,*entries(t){if(xn(t))for(let r of e)yield[r,t[r],n[r]]},validator(t){return Ai(t)||`Expected an object, but received: ${$t(t)}`},coercer(t){return Ai(t)?Z({},t):t}})}function mt(n){let e=n.map(t=>t.type).join(" | ");return new Dt({type:"union",schema:null,coercer(t,r){for(let i of n){let[o,s]=i.validate(t,{coerce:!0,mask:r.mask});if(!o)return s}return t},validator(t,r){let i=[];for(let o of n){let[...s]=As(t,o,r),[f]=s;if(f[0])for(let[l]of s)l&&i.push(l);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${$t(t)}`,...i]}})}function Ur(){return Mr("unknown",()=>!0)}function sn(n,e,t){return new Dt(se(Z({},n),{coercer:(r,i)=>Eu(r,e)?n.coercer(t(r,i),i):n.coercer(r,i)}))}var If=Zt(Wu());var Yu=Zt(mn(),1);var Li=Zt(Hu(),1);var bg=class extends Li.default{socket;constructor(n,e,t){super(),this.socket=new window.WebSocket(n,t),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=r=>this.emit("message",r.data),this.socket.onerror=r=>this.emit("error",r),this.socket.onclose=r=>{this.emit("close",r.code,r.reason)}}send(n,e,t){let r=t||e;try{this.socket.send(n),r()}catch(i){r(i)}}close(n,e){this.socket.close(n,e)}addEventListener(n,e,t){this.socket.addEventListener(n,e,t)}};function ju(n,e){return new bg(n,e)}var Sg=class{encode(n){return JSON.stringify(n)}decode(n){return JSON.parse(n)}},Xu=class extends Li.default{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(n,e="ws://localhost:8080",m={},f,l){var E=m,{autoconnect:t=!0,reconnect:r=!0,reconnect_interval:i=1e3,max_reconnects:o=5}=E,s=zt(E,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);super(),this.webSocketFactory=n,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=t,this.ready=!1,this.reconnect=r,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=o,this.rest_options=s,this.current_reconnects=0,this.generate_request_id=f||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),l?this.dataPack=l:this.dataPack=new Sg,this.autoconnect&&this._connect(this.address,Z({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}connect(){this.socket||this._connect(this.address,Z({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}call(n,e,t,r){return!r&&typeof t=="object"&&(r=t,t=null),new Promise((i,o)=>{if(!this.ready)return o(new Error("socket not ready"));let s=this.generate_request_id(n,e),f={jsonrpc:"2.0",method:n,params:e||void 0,id:s};this.socket.send(this.dataPack.encode(f),r,l=>{if(l)return o(l);this.queue[s]={promise:[i,o]},t&&(this.queue[s].timeout=setTimeout(()=>{delete this.queue[s],o(new Error("reply timeout"))},t))})})}async login(n){let e=await this.call("rpc.login",n);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(n,e){return new Promise((t,r)=>{if(!this.ready)return r(new Error("socket not ready"));let i={jsonrpc:"2.0",method:n,params:e};this.socket.send(this.dataPack.encode(i),o=>{if(o)return r(o);t()})})}async subscribe(n){typeof n=="string"&&(n=[n]);let e=await this.call("rpc.on",n);if(typeof n=="string"&&e[n]!=="ok")throw new Error("Failed subscribing to an event '"+n+"' with: "+e[n]);return e}async unsubscribe(n){typeof n=="string"&&(n=[n]);let e=await this.call("rpc.off",n);if(typeof n=="string"&&e[n]!=="ok")throw new Error("Failed unsubscribing from an event with: "+e);return e}close(n,e){this.socket&&this.socket.close(n||1e3,e)}setAutoReconnect(n){this.reconnect=n}setReconnectInterval(n){this.reconnect_interval=n}setMaxReconnects(n){this.max_reconnects=n}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return this.reconnect_timer_id!==void 0}willReconnect(){return this.reconnect&&(this.max_reconnects===0||this.current_reconnects<this.max_reconnects)}_connect(n,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(n,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:t})=>{t instanceof ArrayBuffer&&(t=Yu.Buffer.from(t).toString());try{t=this.dataPack.decode(t)}catch{return}if(t.notification&&this.listeners(t.notification).length){if(!Object.keys(t.params).length)return this.emit(t.notification);let r=[t.notification];if(t.params.constructor===Object)r.push(t.params);else for(let i=0;i<t.params.length;i++)r.push(t.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,r)})}if(!this.queue[t.id])return t.method?Promise.resolve().then(()=>{this.emit(t.method,t?.params)}):void 0;"error"in t=="result"in t&&this.queue[t.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[t.id].timeout&&clearTimeout(this.queue[t.id].timeout),t.error?this.queue[t.id].promise[1](t.error):this.queue[t.id].promise[0](t.result),delete this.queue[t.id]}),this.socket.addEventListener("error",t=>this.emit("error",t)),this.socket.addEventListener("close",({code:t,reason:r})=>{this.ready&&setTimeout(()=>this.emit("close",t,r),0),this.ready=!1,this.socket=void 0,t!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)?this.reconnect_timer_id=setTimeout(()=>this._connect(n,e),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",t,r),1))})}};var Zu=(n,e)=>(n+(n>=0?e:-e)/Ju)/e;function Ag(n,e,t){let[[r,i],[o,s]]=e,f=Zu(s*n,t),l=Zu(-i*n,t),m=n-f*r-l*o,E=-f*i-l*s,S=m<or,v=E<or;S&&(m=-m),v&&(E=-E);let A=fr(Math.ceil(Vn(t)/2))+cn;if(m<or||m>=A||E<or||E>=A)throw new Error("splitScalar (endomorphism): failed, k="+n);return{k1neg:S,k1:m,k2neg:v,k2:E}}function Ps(n){if(!["compact","recovered","der"].includes(n))throw new Error('Signature format must be "compact", "recovered", or "der"');return n}function Us(n,e){let t={};for(let r of Object.keys(e))t[r]=n[r]===void 0?e[r]:n[r];return Qt(t.lowS,"lowS"),Qt(t.prehash,"prehash"),t.format!==void 0&&Ps(t.format),t}var Ds=class extends Error{constructor(e=""){super(e)}},ir={Err:Ds,_tlv:{encode:(n,e)=>{let{Err:t}=ir;if(n<0||n>256)throw new t("tlv.encode: wrong tag");if(e.length&1)throw new t("tlv.encode: unpadded data");let r=e.length/2,i=_n(r);if(i.length/2&128)throw new t("tlv.encode: long form length too big");let o=r>127?_n(i.length/2|128):"";return _n(n)+o+i+e},decode(n,e){let{Err:t}=ir,r=0;if(n<0||n>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[r++]!==n)throw new t("tlv.decode: wrong tlv");let i=e[r++],o=!!(i&128),s=0;if(!o)s=i;else{let l=i&127;if(!l)throw new t("tlv.decode(long): indefinite length not supported");if(l>4)throw new t("tlv.decode(long): byte length is too big");let m=e.subarray(r,r+l);if(m.length!==l)throw new t("tlv.decode: length bytes not complete");if(m[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(let E of m)s=s<<8|E;if(r+=l,s<128)throw new t("tlv.decode(long): not minimal encoding")}let f=e.subarray(r,r+s);if(f.length!==s)throw new t("tlv.decode: wrong value length");return{v:f,l:e.subarray(r+s)}}},_int:{encode(n){let{Err:e}=ir;if(n<or)throw new e("integer: negative integers are not allowed");let t=_n(n);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return t},decode(n){let{Err:e}=ir;if(n[0]&128)throw new e("invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Gr(n)}},toSig(n){let{Err:e,_int:t,_tlv:r}=ir,i=Re("signature",n),{v:o,l:s}=r.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");let{v:f,l}=r.decode(2,o),{v:m,l:E}=r.decode(2,l);if(E.length)throw new e("invalid signature: left bytes after parsing");return{r:t.decode(f),s:t.decode(m)}},hexFromSig(n){let{_tlv:e,_int:t}=ir,r=e.encode(2,t.encode(n.r)),i=e.encode(2,t.encode(n.s)),o=r+i;return e.encode(48,o)}},or=BigInt(0),cn=BigInt(1),Ju=BigInt(2),Ci=BigInt(3),Ig=BigInt(4);function an(n,e){let{BYTES:t}=n,r;if(typeof e=="bigint")r=e;else{let i=Re("private key",e);try{r=n.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${t}, got ${typeof e}`)}}if(!n.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function vg(n,e={}){let t=Hn("weierstrass",n,e),{Fp:r,Fn:i}=t,o=t.CURVE,{h:s,n:f}=o;lr(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:l}=e;if(l&&(!r.is0(o.a)||typeof l.beta!="bigint"||!Array.isArray(l.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');let m=ef(r,i);function E(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function S(Y,p,a){let{x:c,y:h}=p.toAffine(),d=r.toBytes(c);if(Qt(a,"isCompressed"),a){E();let y=!r.isOdd(h);return Ot(Qu(y),d)}else return Ot(Uint8Array.of(4),d,r.toBytes(h))}function v(Y){Tt(Y,void 0,"Point");let{publicKey:p,publicKeyUncompressed:a}=m,c=Y.length,h=Y[0],d=Y.subarray(1);if(c===p&&(h===2||h===3)){let y=r.fromBytes(d);if(!r.isValid(y))throw new Error("bad point: is not on curve, wrong x");let w=x(y),b;try{b=r.sqrt(w)}catch(_){let F=_ instanceof Error?": "+_.message:"";throw new Error("bad point: is not on curve, sqrt error"+F)}E();let g=r.isOdd(b);return(h&1)===1!==g&&(b=r.neg(b)),{x:y,y:b}}else if(c===a&&h===4){let y=r.BYTES,w=r.fromBytes(d.subarray(0,y)),b=r.fromBytes(d.subarray(y,y*2));if(!T(w,b))throw new Error("bad point: is not on curve");return{x:w,y:b}}else throw new Error(`bad point: got length ${c}, expected compressed=${p} or uncompressed=${a}`)}let A=e.toBytes||S,I=e.fromBytes||v;function x(Y){let p=r.sqr(Y),a=r.mul(p,Y);return r.add(r.add(a,r.mul(Y,o.a)),o.b)}function T(Y,p){let a=r.sqr(p),c=x(Y);return r.eql(a,c)}if(!T(o.Gx,o.Gy))throw new Error("bad curve params: generator point");let N=r.mul(r.pow(o.a,Ci),Ig),P=r.mul(r.sqr(o.b),BigInt(27));if(r.is0(r.add(N,P)))throw new Error("bad curve params: a or b");function U(Y,p,a=!1){if(!r.isValid(p)||a&&r.is0(p))throw new Error(`bad point coordinate ${Y}`);return p}function K(Y){if(!(Y instanceof M))throw new Error("ProjectivePoint expected")}function te(Y){if(!l||!l.basises)throw new Error("no endo");return Ag(Y,l.basises,i.ORDER)}let X=Hr((Y,p)=>{let{X:a,Y:c,Z:h}=Y;if(r.eql(h,r.ONE))return{x:a,y:c};let d=Y.is0();p==null&&(p=d?r.ONE:r.inv(h));let y=r.mul(a,p),w=r.mul(c,p),b=r.mul(h,p);if(d)return{x:r.ZERO,y:r.ZERO};if(!r.eql(b,r.ONE))throw new Error("invZ was invalid");return{x:y,y:w}}),ee=Hr(Y=>{if(Y.is0()){if(e.allowInfinityPoint&&!r.is0(Y.Y))return;throw new Error("bad point: ZERO")}let{x:p,y:a}=Y.toAffine();if(!r.isValid(p)||!r.isValid(a))throw new Error("bad point: x or y not field elements");if(!T(p,a))throw new Error("bad point: equation left != right");if(!Y.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function ae(Y,p,a,c,h){return a=new M(r.mul(a.X,Y),a.Y,a.Z),p=Rn(c,p),a=Rn(h,a),p.add(a)}class M{constructor(p,a,c){this.X=U("x",p),this.Y=U("y",a,!0),this.Z=U("z",c),Object.freeze(this)}static CURVE(){return o}static fromAffine(p){let{x:a,y:c}=p||{};if(!p||!r.isValid(a)||!r.isValid(c))throw new Error("invalid affine point");if(p instanceof M)throw new Error("projective point not allowed");return r.is0(a)&&r.is0(c)?M.ZERO:new M(a,c,r.ONE)}static fromBytes(p){let a=M.fromAffine(I(Tt(p,void 0,"point")));return a.assertValidity(),a}static fromHex(p){return M.fromBytes(Re("pointHex",p))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(p=8,a=!0){return G.createCache(this,p),a||this.multiply(Ci),this}assertValidity(){ee(this)}hasEvenY(){let{y:p}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(p)}equals(p){K(p);let{X:a,Y:c,Z:h}=this,{X:d,Y:y,Z:w}=p,b=r.eql(r.mul(a,w),r.mul(d,h)),g=r.eql(r.mul(c,w),r.mul(y,h));return b&&g}negate(){return new M(this.X,r.neg(this.Y),this.Z)}double(){let{a:p,b:a}=o,c=r.mul(a,Ci),{X:h,Y:d,Z:y}=this,w=r.ZERO,b=r.ZERO,g=r.ZERO,u=r.mul(h,h),_=r.mul(d,d),F=r.mul(y,y),D=r.mul(h,d);return D=r.add(D,D),g=r.mul(h,y),g=r.add(g,g),w=r.mul(p,g),b=r.mul(c,F),b=r.add(w,b),w=r.sub(_,b),b=r.add(_,b),b=r.mul(w,b),w=r.mul(D,w),g=r.mul(c,g),F=r.mul(p,F),D=r.sub(u,F),D=r.mul(p,D),D=r.add(D,g),g=r.add(u,u),u=r.add(g,u),u=r.add(u,F),u=r.mul(u,D),b=r.add(b,u),F=r.mul(d,y),F=r.add(F,F),u=r.mul(F,D),w=r.sub(w,u),g=r.mul(F,_),g=r.add(g,g),g=r.add(g,g),new M(w,b,g)}add(p){K(p);let{X:a,Y:c,Z:h}=this,{X:d,Y:y,Z:w}=p,b=r.ZERO,g=r.ZERO,u=r.ZERO,_=o.a,F=r.mul(o.b,Ci),D=r.mul(a,d),q=r.mul(c,y),H=r.mul(h,w),oe=r.add(a,c),ne=r.add(d,y);oe=r.mul(oe,ne),ne=r.add(D,q),oe=r.sub(oe,ne),ne=r.add(a,h);let Ee=r.add(d,w);return ne=r.mul(ne,Ee),Ee=r.add(D,H),ne=r.sub(ne,Ee),Ee=r.add(c,h),b=r.add(y,w),Ee=r.mul(Ee,b),b=r.add(q,H),Ee=r.sub(Ee,b),u=r.mul(_,ne),b=r.mul(F,H),u=r.add(b,u),b=r.sub(q,u),u=r.add(q,u),g=r.mul(b,u),q=r.add(D,D),q=r.add(q,D),H=r.mul(_,H),ne=r.mul(F,ne),q=r.add(q,H),H=r.sub(D,H),H=r.mul(_,H),ne=r.add(ne,H),D=r.mul(q,ne),g=r.add(g,D),D=r.mul(Ee,ne),b=r.mul(oe,b),b=r.sub(b,D),D=r.mul(oe,q),u=r.mul(Ee,u),u=r.add(u,D),new M(b,g,u)}subtract(p){return this.add(p.negate())}is0(){return this.equals(M.ZERO)}multiply(p){let{endo:a}=e;if(!i.isValidNot0(p))throw new Error("invalid scalar: out of range");let c,h,d=y=>G.cached(this,y,w=>er(M,w));if(a){let{k1neg:y,k1:w,k2neg:b,k2:g}=te(p),{p:u,f:_}=d(w),{p:F,f:D}=d(g);h=_.add(D),c=ae(a.beta,u,F,y,b)}else{let{p:y,f:w}=d(p);c=y,h=w}return er(M,[c,h])[0]}multiplyUnsafe(p){let{endo:a}=e,c=this;if(!i.isValid(p))throw new Error("invalid scalar: out of range");if(p===or||c.is0())return M.ZERO;if(p===cn)return c;if(G.hasCache(this))return this.multiply(p);if(a){let{k1neg:h,k1:d,k2neg:y,k2:w}=te(p),{p1:b,p2:g}=_c(M,c,d,w);return ae(a.beta,b,g,h,y)}else return G.unsafe(c,p)}multiplyAndAddUnsafe(p,a,c){let h=this.multiplyUnsafe(a).add(p.multiplyUnsafe(c));return h.is0()?void 0:h}toAffine(p){return X(this,p)}isTorsionFree(){let{isTorsionFree:p}=e;return s===cn?!0:p?p(M,this):G.unsafe(this,f).is0()}clearCofactor(){let{clearCofactor:p}=e;return s===cn?this:p?p(M,this):this.multiplyUnsafe(s)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}toBytes(p=!0){return Qt(p,"isCompressed"),this.assertValidity(),A(M,this,p)}toHex(p=!0){return Kt(this.toBytes(p))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(p=!0){return this.toBytes(p)}_setWindowSize(p){this.precompute(p)}static normalizeZ(p){return er(M,p)}static msm(p,a){return Gn(M,i,p,a)}static fromPrivateKey(p){return M.BASE.multiply(an(i,p))}}M.BASE=new M(o.Gx,o.Gy,r.ONE),M.ZERO=new M(r.ZERO,r.ONE,r.ZERO),M.Fp=r,M.Fn=i;let J=i.BITS,G=new jr(M,e.endo?Math.ceil(J/2):J);return M.BASE.precompute(8),M}function Qu(n){return Uint8Array.of(n?2:3)}function ef(n,e){return{secretKey:e.BYTES,publicKey:1+n.BYTES,publicKeyUncompressed:1+2*n.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function Og(n,e={}){let{Fn:t}=n,r=e.randomBytes||Kr,i=Object.assign(ef(n.Fp,t),{seed:qo(t.ORDER)});function o(A){try{return!!an(t,A)}catch{return!1}}function s(A,I){let{publicKey:x,publicKeyUncompressed:T}=i;try{let N=A.length;return I===!0&&N!==x||I===!1&&N!==T?!1:!!n.fromBytes(A)}catch{return!1}}function f(A=r(i.seed)){return Vo(Tt(A,i.seed,"seed"),t.ORDER)}function l(A,I=!0){return n.BASE.multiply(an(t,A)).toBytes(I)}function m(A){let I=f(A);return{secretKey:I,publicKey:l(I)}}function E(A){if(typeof A=="bigint")return!1;if(A instanceof n)return!0;let{secretKey:I,publicKey:x,publicKeyUncompressed:T}=i;if(t.allowedLengths||I===x)return;let N=Re("key",A).length;return N===x||N===T}function S(A,I,x=!0){if(E(A)===!0)throw new Error("first arg must be private key");if(E(I)===!1)throw new Error("second arg must be public key");let T=an(t,A);return n.fromHex(I).multiply(T).toBytes(x)}return Object.freeze({getPublicKey:l,getSharedSecret:S,keygen:m,Point:n,utils:{isValidSecretKey:o,isValidPublicKey:s,randomSecretKey:f,isValidPrivateKey:o,randomPrivateKey:f,normPrivateKeyToScalar:A=>an(t,A),precompute(A=8,I=n.BASE){return I.precompute(A,!1)}},lengths:i})}function xg(n,e,t={}){Ta(e),lr(t,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let r=t.randomBytes||Kr,i=t.hmac||((a,...c)=>Ca(e,a,Ot(...c))),{Fp:o,Fn:s}=n,{ORDER:f,BITS:l}=s,{keygen:m,getPublicKey:E,getSharedSecret:S,utils:v,lengths:A}=Og(n,t),I={prehash:!1,lowS:typeof t.lowS=="boolean"?t.lowS:!1,format:void 0,extraEntropy:!1},x="compact";function T(a){let c=f>>cn;return a>c}function N(a,c){if(!s.isValidNot0(c))throw new Error(`invalid signature ${a}: out of range 1..Point.Fn.ORDER`);return c}function P(a,c){Ps(c);let h=A.signature,d=c==="compact"?h:c==="recovered"?h+1:void 0;return Tt(a,d,`${c} signature`)}class U{constructor(c,h,d){this.r=N("r",c),this.s=N("s",h),d!=null&&(this.recovery=d),Object.freeze(this)}static fromBytes(c,h=x){P(c,h);let d;if(h==="der"){let{r:g,s:u}=ir.toSig(Tt(c));return new U(g,u)}h==="recovered"&&(d=c[0],h="compact",c=c.subarray(1));let y=s.BYTES,w=c.subarray(0,y),b=c.subarray(y,y*2);return new U(s.fromBytes(w),s.fromBytes(b),d)}static fromHex(c,h){return this.fromBytes(Ar(c),h)}addRecoveryBit(c){return new U(this.r,this.s,c)}recoverPublicKey(c){let h=o.ORDER,{r:d,s:y,recovery:w}=this;if(w==null||![0,1,2,3].includes(w))throw new Error("recovery id invalid");if(f*Ju<h&&w>1)throw new Error("recovery id is ambiguous for h>1 curve");let g=w===2||w===3?d+f:d;if(!o.isValid(g))throw new Error("recovery id 2 or 3 invalid");let u=o.toBytes(g),_=n.fromBytes(Ot(Qu((w&1)===0),u)),F=s.inv(g),D=te(Re("msgHash",c)),q=s.create(-D*F),H=s.create(y*F),oe=n.BASE.multiplyUnsafe(q).add(_.multiplyUnsafe(H));if(oe.is0())throw new Error("point at infinify");return oe.assertValidity(),oe}hasHighS(){return T(this.s)}toBytes(c=x){if(Ps(c),c==="der")return Ar(ir.hexFromSig(this));let h=s.toBytes(this.r),d=s.toBytes(this.s);if(c==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Ot(Uint8Array.of(this.recovery),h,d)}return Ot(h,d)}toHex(c){return Kt(this.toBytes(c))}assertValidity(){}static fromCompact(c){return U.fromBytes(Re("sig",c),"compact")}static fromDER(c){return U.fromBytes(Re("sig",c),"der")}normalizeS(){return this.hasHighS()?new U(this.r,s.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Kt(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Kt(this.toBytes("compact"))}}let K=t.bits2int||function(c){if(c.length>8192)throw new Error("input is too large");let h=Gr(c),d=c.length*8-l;return d>0?h>>BigInt(d):h},te=t.bits2int_modN||function(c){return s.create(K(c))},X=fr(l);function ee(a){return wn("num < 2^"+l,a,or,X),s.toBytes(a)}function ae(a,c){return Tt(a,void 0,"message"),c?Tt(e(a),void 0,"prehashed message"):a}function M(a,c,h){if(["recovered","canonical"].some(q=>q in h))throw new Error("sign() legacy options not supported");let{lowS:d,prehash:y,extraEntropy:w}=Us(h,I);a=ae(a,y);let b=te(a),g=an(s,c),u=[ee(g),ee(b)];if(w!=null&&w!==!1){let q=w===!0?r(A.secretKey):w;u.push(Re("extraEntropy",q))}let _=Ot(...u),F=b;function D(q){let H=K(q);if(!s.isValidNot0(H))return;let oe=s.inv(H),ne=n.BASE.multiply(H).toAffine(),Ee=s.create(ne.x);if(Ee===or)return;let de=s.create(oe*s.create(F+Ee*g));if(de===or)return;let me=(ne.x===Ee?0:2)|Number(ne.y&cn),yn=de;return d&&T(de)&&(yn=s.neg(de),me^=1),new U(Ee,yn,me)}return{seed:_,k2sig:D}}function J(a,c,h={}){a=Re("message",a);let{seed:d,k2sig:y}=M(a,c,h);return tc(e.outputLen,s.BYTES,i)(d,y)}function G(a){let c,h=typeof a=="string"||cr(a),d=!h&&a!==null&&typeof a=="object"&&typeof a.r=="bigint"&&typeof a.s=="bigint";if(!h&&!d)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(d)c=new U(a.r,a.s);else if(h){try{c=U.fromBytes(Re("sig",a),"der")}catch(y){if(!(y instanceof ir.Err))throw y}if(!c)try{c=U.fromBytes(Re("sig",a),"compact")}catch{return!1}}return c||!1}function Y(a,c,h,d={}){let{lowS:y,prehash:w,format:b}=Us(d,I);if(h=Re("publicKey",h),c=ae(Re("message",c),w),"strict"in d)throw new Error("options.strict was renamed to lowS");let g=b===void 0?G(a):U.fromBytes(Re("sig",a),b);if(g===!1)return!1;try{let u=n.fromBytes(h);if(y&&g.hasHighS())return!1;let{r:_,s:F}=g,D=te(c),q=s.inv(F),H=s.create(D*q),oe=s.create(_*q),ne=n.BASE.multiplyUnsafe(H).add(u.multiplyUnsafe(oe));return ne.is0()?!1:s.create(ne.x)===_}catch{return!1}}function p(a,c,h={}){let{prehash:d}=Us(h,I);return c=ae(c,d),U.fromBytes(a,"recovered").recoverPublicKey(c).toBytes()}return Object.freeze({keygen:m,getPublicKey:E,getSharedSecret:S,utils:v,lengths:A,Point:n,sign:J,verify:Y,recoverPublicKey:p,Signature:U,hash:e})}function Bg(n){let e={a:n.a,b:n.b,p:n.Fp.ORDER,n:n.n,h:n.h,Gx:n.Gx,Gy:n.Gy},t=n.Fp,r=n.allowedPrivateKeyLengths?Array.from(new Set(n.allowedPrivateKeyLengths.map(s=>Math.ceil(s/2)))):void 0,i=Pt(e.n,{BITS:n.nBitLength,allowedLengths:r,modFromBytes:n.wrapPrivateKey}),o={Fp:t,Fn:i,allowInfinityPoint:n.allowInfinityPoint,endo:n.endo,isTorsionFree:n.isTorsionFree,clearCofactor:n.clearCofactor,fromBytes:n.fromBytes,toBytes:n.toBytes};return{CURVE:e,curveOpts:o}}function Ng(n){let{CURVE:e,curveOpts:t}=Bg(n),r={hmac:n.hmac,randomBytes:n.randomBytes,lowS:n.lowS,bits2int:n.bits2int,bits2int_modN:n.bits2int_modN};return{CURVE:e,curveOpts:t,hash:n.hash,ecdsaOpts:r}}function Tg(n,e){let t=e.Point;return Object.assign({},e,{ProjectivePoint:t,CURVE:Object.assign({},n,Wn(t.Fn.ORDER,t.Fn.BITS))})}function tf(n){let{CURVE:e,curveOpts:t,hash:r,ecdsaOpts:i}=Ng(n),o=vg(e,t),s=xg(o,r,i);return Tg(n,s)}function rf(n,e){let t=r=>tf(se(Z({},n),{hash:r}));return se(Z({},t(e)),{create:t})}var zs={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},kg={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]};var nf=BigInt(2);function Lg(n){let e=zs.p,t=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),f=BigInt(44),l=BigInt(88),m=n*n*n%e,E=m*m*n%e,S=be(E,t,e)*E%e,v=be(S,t,e)*E%e,A=be(v,nf,e)*m%e,I=be(A,i,e)*A%e,x=be(I,o,e)*I%e,T=be(x,f,e)*x%e,N=be(T,l,e)*T%e,P=be(N,f,e)*x%e,U=be(P,t,e)*E%e,K=be(U,s,e)*I%e,te=be(K,r,e)*m%e,X=be(te,nf,e);if(!Fs.eql(Fs.sqr(X),n))throw new Error("Cannot find square root");return X}var Fs=Pt(zs.p,{sqrt:Lg}),Mi=rf(se(Z({},zs),{Fp:Fs,lowS:!0,endo:kg}),ka);var L1=Nr.utils.randomPrivateKey,of=()=>{let n=Nr.utils.randomPrivateKey(),e=Xs(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},Xs=Nr.getPublicKey;function sf(n){try{return Nr.ExtendedPoint.fromHex(n),!0}catch{return!1}}var ua=(n,e)=>Nr.sign(n,e.slice(0,32)),Cg=Nr.verify,fe=n=>ie.Buffer.isBuffer(n)?n:n instanceof Uint8Array?ie.Buffer.from(n.buffer,n.byteOffset,n.byteLength):ie.Buffer.from(n),Zs=class{constructor(e){Object.assign(this,e)}encode(){return ie.Buffer.from((0,dn.serialize)(Di,this))}static decode(e){return(0,dn.deserialize)(Di,this,e)}static decodeUnchecked(e){return(0,dn.deserializeUnchecked)(Di,this,e)}};var Di=new Map,vf,Mg=32,br=32;function Ug(n){return n._bn!==void 0}var af=1,re=class n extends Zs{constructor(e){if(super({}),this._bn=void 0,Ug(e))this._bn=e._bn;else{if(typeof e=="string"){let t=ht.default.decode(e);if(t.length!=br)throw new Error("Invalid public key input");this._bn=new js.default(t)}else this._bn=new js.default(e);if(this._bn.byteLength()>br)throw new Error("Invalid public key input")}}static unique(){let e=new n(af);return af+=1,new n(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return ht.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(ie.Buffer);if(e.length===br)return e;let t=ie.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){let i=ie.Buffer.concat([e.toBuffer(),ie.Buffer.from(t),r.toBuffer()]),o=So(i);return new n(o)}static createProgramAddressSync(e,t){let r=ie.Buffer.alloc(0);e.forEach(function(o){if(o.length>Mg)throw new TypeError("Max seed length exceeded");r=ie.Buffer.concat([r,fe(o)])}),r=ie.Buffer.concat([r,t.toBuffer(),ie.Buffer.from("ProgramDerivedAddress")]);let i=So(r);if(sf(i))throw new Error("Invalid seeds, address must fall off the curve");return new n(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,i;for(;r!=0;){try{let o=e.concat(ie.Buffer.from([r]));i=this.createProgramAddressSync(o,t)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){let t=new n(e);return sf(t.toBytes())}};vf=re;re.default=new vf("11111111111111111111111111111111");Di.set(re,{kind:"struct",fields:[["_bn","u256"]]});var C1=new re("BPFLoader1111111111111111111111111111111111"),Dr=1232,fa=127,Fi=64,zi=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(zi.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var Ki=class extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Ki.prototype,"name",{value:"TransactionExpiredTimeoutError"});var Pr=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Pr.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var ln=class{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let r=new Map;this.keySegments().flat().forEach((o,s)=>{r.set(o.toBase58(),s)});let i=o=>{let s=r.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}},ue=(n="publicKey")=>R.blob(32,n),Pg=(n="signature")=>R.blob(64,n),fn=(n="string")=>{let e=R.struct([R.u32("length"),R.u32("lengthPadding"),R.blob(R.offset(R.u32(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(o,s)=>t(o,s).chars.toString(),i.encode=(o,s,f)=>{let l={chars:ie.Buffer.from(o,"utf8")};return r(l,s,f)},i.alloc=o=>R.u32().span+R.u32().span+ie.Buffer.from(o,"utf8").length,i},Dg=(n="authorized")=>R.struct([ue("staker"),ue("withdrawer")],n),Fg=(n="lockup")=>R.struct([R.ns64("unixTimestamp"),R.ns64("epoch"),ue("custodian")],n),zg=(n="voteInit")=>R.struct([ue("nodePubkey"),ue("authorizedVoter"),ue("authorizedWithdrawer"),R.u8("commission")],n),Kg=(n="voteAuthorizeWithSeedArgs")=>R.struct([R.u32("voteAuthorizationType"),ue("currentAuthorityDerivedKeyOwnerPubkey"),fn("currentAuthorityDerivedKeySeed"),ue("newAuthorized")],n);function Of(n,e){let t=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let o=e[i.property];if(Array.isArray(o))return o.length*t(i.elementLayout)}else if("fields"in i)return Of({layout:i},e[i.property]);return 0},r=0;return n.layout.fields.forEach(i=>{r+=t(i)}),r}function Lt(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Ct(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function ye(n,e){if(!n)throw new Error(e||"Assertion failed")}var $i=class n{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){let r=new Map,i=s=>{let f=s.toBase58(),l=r.get(f);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(f,l)),l},o=i(t);o.isSigner=!0,o.isWritable=!0;for(let s of e){i(s.programId).isInvoked=!0;for(let f of s.keys){let l=i(f.pubkey);l.isSigner||=f.isSigner,l.isWritable||=f.isWritable}}return new n(t,r)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];ye(e.length<=256,"Max static account keys length exceeded");let t=e.filter(([,l])=>l.isSigner&&l.isWritable),r=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),o=e.filter(([,l])=>!l.isSigner&&!l.isWritable),s={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{ye(t.length>0,"Expected at least one writable signer key");let[l]=t[0];ye(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let f=[...t.map(([l])=>new re(l)),...r.map(([l])=>new re(l)),...i.map(([l])=>new re(l)),...o.map(([l])=>new re(l))];return[s,f]}extractTableLookup(e){let[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(t.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:i},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(e,t){let r=new Array,i=new Array;for(let[o,s]of this.keyMetaMap.entries())if(t(s)){let f=new re(o),l=e.findIndex(m=>m.equals(f));l>=0&&(ye(l<256,"Max lookup table index exceeded"),r.push(l),i.push(f),this.keyMetaMap.delete(o))}return[r,i]}},xf="Reached end of buffer unexpectedly";function ar(n){if(n.length===0)throw new Error(xf);return n.shift()}function Mt(n,...e){let[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(xf);return n.splice(...e)}var Sr=class n{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new re(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:ht.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new ln(this.staticAccountKeys)}static compile(e){let t=$i.compile(e.instructions,e.payerKey),[r,i]=t.getMessageComponents(),s=new ln(i).compileInstructions(e.instructions).map(f=>({programIdIndex:f.programIdIndex,accounts:f.accountKeyIndexes,data:ht.default.encode(f.data)}));return new n({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let r=e-t,o=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<o}else{let r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){let e=this.accountKeys.length,t=[];Ct(t,e);let r=this.instructions.map(S=>{let{accounts:v,programIdIndex:A}=S,I=Array.from(ht.default.decode(S.data)),x=[];Ct(x,v.length);let T=[];return Ct(T,I.length),{programIdIndex:A,keyIndicesCount:ie.Buffer.from(x),keyIndices:v,dataLength:ie.Buffer.from(T),data:I}}),i=[];Ct(i,r.length);let o=ie.Buffer.alloc(Dr);ie.Buffer.from(i).copy(o);let s=i.length;r.forEach(S=>{let A=R.struct([R.u8("programIdIndex"),R.blob(S.keyIndicesCount.length,"keyIndicesCount"),R.seq(R.u8("keyIndex"),S.keyIndices.length,"keyIndices"),R.blob(S.dataLength.length,"dataLength"),R.seq(R.u8("userdatum"),S.data.length,"data")]).encode(S,o,s);s+=A}),o=o.slice(0,s);let f=R.struct([R.blob(1,"numRequiredSignatures"),R.blob(1,"numReadonlySignedAccounts"),R.blob(1,"numReadonlyUnsignedAccounts"),R.blob(t.length,"keyCount"),R.seq(ue("key"),e,"keys"),ue("recentBlockhash")]),l={numRequiredSignatures:ie.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:ie.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:ie.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:ie.Buffer.from(t),keys:this.accountKeys.map(S=>fe(S.toBytes())),recentBlockhash:ht.default.decode(this.recentBlockhash)},m=ie.Buffer.alloc(2048),E=f.encode(l,m);return o.copy(m,E),m.slice(0,E+o.length)}static from(e){let t=[...e],r=ar(t);if(r!==(r&fa))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=ar(t),o=ar(t),s=Lt(t),f=[];for(let v=0;v<s;v++){let A=Mt(t,0,br);f.push(new re(ie.Buffer.from(A)))}let l=Mt(t,0,br),m=Lt(t),E=[];for(let v=0;v<m;v++){let A=ar(t),I=Lt(t),x=Mt(t,0,I),T=Lt(t),N=Mt(t,0,T),P=ht.default.encode(ie.Buffer.from(N));E.push({programIdIndex:A,accounts:x,data:P})}let S={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:ht.default.encode(ie.Buffer.from(l)),accountKeys:f,instructions:E};return new n(S)}},qi=class n{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new ln(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){let i=e-r,o=this.addressTableLookups.reduce((s,f)=>s+f.writableIndexes.length,0);return i<o}else if(e>=this.header.numRequiredSignatures){let i=e-t,s=r-t-this.header.numReadonlyUnsignedAccounts;return i<s}else{let i=t-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let t={writable:[],readonly:[]};for(let r of this.addressTableLookups){let i=e.find(o=>o.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(let o of r.writableIndexes)if(o<i.state.addresses.length)t.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`);for(let o of r.readonlyIndexes)if(o<i.state.addresses.length)t.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){let t=$i.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(let E of o){let S=t.extractTableLookup(E);if(S!==void 0){let[v,{writable:A,readonly:I}]=S;r.push(v),i.writable.push(...A),i.readonly.push(...I)}}let[s,f]=t.getMessageComponents(),m=new ln(f,i).compileInstructions(e.instructions);return new n({header:s,staticAccountKeys:f,recentBlockhash:e.recentBlockhash,compiledInstructions:m,addressTableLookups:r})}serialize(){let e=Array();Ct(e,this.staticAccountKeys.length);let t=this.serializeInstructions(),r=Array();Ct(r,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),o=Array();Ct(o,this.addressTableLookups.length);let s=R.struct([R.u8("prefix"),R.struct([R.u8("numRequiredSignatures"),R.u8("numReadonlySignedAccounts"),R.u8("numReadonlyUnsignedAccounts")],"header"),R.blob(e.length,"staticAccountKeysLength"),R.seq(ue(),this.staticAccountKeys.length,"staticAccountKeys"),ue("recentBlockhash"),R.blob(r.length,"instructionsLength"),R.blob(t.length,"serializedInstructions"),R.blob(o.length,"addressTableLookupsLength"),R.blob(i.length,"serializedAddressTableLookups")]),f=new Uint8Array(Dr),m=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(E=>E.toBytes()),recentBlockhash:ht.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},f);return f.slice(0,m)}serializeInstructions(){let e=0,t=new Uint8Array(Dr);for(let r of this.compiledInstructions){let i=Array();Ct(i,r.accountKeyIndexes.length);let o=Array();Ct(o,r.data.length);let s=R.struct([R.u8("programIdIndex"),R.blob(i.length,"encodedAccountKeyIndexesLength"),R.seq(R.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),R.blob(o.length,"encodedDataLength"),R.blob(r.data.length,"data")]);e+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0,t=new Uint8Array(Dr);for(let r of this.addressTableLookups){let i=Array();Ct(i,r.writableIndexes.length);let o=Array();Ct(o,r.readonlyIndexes.length);let s=R.struct([ue("accountKey"),R.blob(i.length,"encodedWritableIndexesLength"),R.seq(R.u8(),r.writableIndexes.length,"writableIndexes"),R.blob(o.length,"encodedReadonlyIndexesLength"),R.seq(R.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e],r=ar(t),i=r&fa;ye(r!==i,"Expected versioned message but received legacy message");let o=i;ye(o===0,`Expected versioned message with version 0 but found version ${o}`);let s={numRequiredSignatures:ar(t),numReadonlySignedAccounts:ar(t),numReadonlyUnsignedAccounts:ar(t)},f=[],l=Lt(t);for(let I=0;I<l;I++)f.push(new re(Mt(t,0,br)));let m=ht.default.encode(Mt(t,0,br)),E=Lt(t),S=[];for(let I=0;I<E;I++){let x=ar(t),T=Lt(t),N=Mt(t,0,T),P=Lt(t),U=new Uint8Array(Mt(t,0,P));S.push({programIdIndex:x,accountKeyIndexes:N,data:U})}let v=Lt(t),A=[];for(let I=0;I<v;I++){let x=new re(Mt(t,0,br)),T=Lt(t),N=Mt(t,0,T),P=Lt(t),U=Mt(t,0,P);A.push({accountKey:x,writableIndexes:N,readonlyIndexes:U})}return new n({header:s,staticAccountKeys:f,recentBlockhash:m,compiledInstructions:S,addressTableLookups:A})}},Bf={deserializeMessageVersion(n){let e=n[0],t=e&fa;return t===e?"legacy":t},deserialize:n=>{let e=Bf.deserializeMessageVersion(n);if(e==="legacy")return Sr.from(n);if(e===0)return qi.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}},Er=(function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n})({}),$g=ie.Buffer.alloc(Fi).fill(0),_e=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=ie.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}},Ae=class n{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{let{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new _e(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let x=0;x<t.length;x++)if(t[x].programId===void 0)throw new Error(`Transaction instruction index ${x} has undefined program id`);let i=[],o=[];t.forEach(x=>{x.keys.forEach(N=>{o.push(Z({},N))});let T=x.programId.toString();i.includes(T)||i.push(T)}),i.forEach(x=>{o.push({pubkey:new re(x),isSigner:!1,isWritable:!1})});let s=[];o.forEach(x=>{let T=x.pubkey.toString(),N=s.findIndex(P=>P.pubkey.toString()===T);N>-1?(s[N].isWritable=s[N].isWritable||x.isWritable,s[N].isSigner=s[N].isSigner||x.isSigner):s.push(x)}),s.sort(function(x,T){if(x.isSigner!==T.isSigner)return x.isSigner?-1:1;if(x.isWritable!==T.isWritable)return x.isWritable?-1:1;let N={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return x.pubkey.toBase58().localeCompare(T.pubkey.toBase58(),"en",N)});let f=s.findIndex(x=>x.pubkey.equals(r));if(f>-1){let[x]=s.splice(f,1);x.isSigner=!0,x.isWritable=!0,s.unshift(x)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(let x of this.signatures){let T=s.findIndex(N=>N.pubkey.equals(x.publicKey));if(T>-1)s[T].isSigner||(s[T].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${x.publicKey.toString()}`)}let l=0,m=0,E=0,S=[],v=[];s.forEach(({pubkey:x,isSigner:T,isWritable:N})=>{T?(S.push(x.toString()),l+=1,N||(m+=1)):(v.push(x.toString()),N||(E+=1))});let A=S.concat(v),I=t.map(x=>{let{data:T,programId:N}=x;return{programIdIndex:A.indexOf(N.toString()),accounts:x.keys.map(P=>A.indexOf(P.pubkey.toString())),data:ht.default.encode(T)}});return I.forEach(x=>{ye(x.programIdIndex>=0),x.accounts.forEach(T=>ye(T>=0))}),new Sr({header:{numRequiredSignatures:l,numReadonlySignedAccounts:m,numReadonlyUnsignedAccounts:E},accountKeys:A,recentBlockhash:e,instructions:I})}_compile(){let e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((i,o)=>t[o].equals(i.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let t=new Set;this.signatures=e.filter(r=>{let i=r.toString();return t.has(i)?!1:(t.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");let t=new Set,r=[];for(let o of e){let s=o.publicKey.toString();t.has(s)||(t.add(s),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));let i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");let t=new Set,r=[];for(let o of e){let s=o.publicKey.toString();t.has(s)||(t.add(s),r.push(o))}let i=this._compile();this._partialSign(i,...r)}_partialSign(e,...t){let r=e.serialize();t.forEach(i=>{let o=ua(r,i.secretKey);this._addSignature(i.publicKey,fe(o))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){ye(t.length===64);let r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=ie.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){let r={};for(let{signature:i,publicKey:o}of this.signatures)i===null?t&&(r.missing||=[]).push(o):Cg(i,e,o.toBytes())||(r.invalid||=[]).push(o);return r.invalid||r.missing?r:void 0}serialize(e){let{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){let o=this._getMessageSignednessErrors(i,t);if(o){let s="Signature verification failed.";throw o.invalid&&(s+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(f=>f.toBase58()).join("`, `")}\`].`),o.missing&&(s+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(f=>f.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(i)}_serialize(e){let{signatures:t}=this,r=[];Ct(r,t.length);let i=r.length+t.length*64+e.length,o=ie.Buffer.alloc(i);return ye(t.length<256),ie.Buffer.from(r).copy(o,0),t.forEach(({signature:s},f)=>{s!==null&&(ye(s.length===64,"signature has invalid length"),ie.Buffer.from(s).copy(o,r.length+f*64))}),e.copy(o,r.length+t.length*64),ye(o.length<=Dr,`Transaction too large: ${o.length} > ${Dr}`),o}get keys(){return ye(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return ye(this.instructions.length===1),this.instructions[0].programId}get data(){return ye(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e],r=Lt(t),i=[];for(let o=0;o<r;o++){let s=Mt(t,0,Fi);i.push(ht.default.encode(ie.Buffer.from(s)))}return n.populate(Sr.from(t),i)}static populate(e,t=[]){let r=new n;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((i,o)=>{let s={signature:i==ht.default.encode($g)?null:ht.default.decode(i),publicKey:e.accountKeys[o]};r.signatures.push(s)}),e.instructions.forEach(i=>{let o=i.accounts.map(s=>{let f=e.accountKeys[s];return{pubkey:f,isSigner:r.signatures.some(l=>l.publicKey.toString()===f.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});r.instructions.push(new _e({keys:o,programId:e.accountKeys[i.programIdIndex],data:ht.default.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}};var cf=class n{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)ye(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{let r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(Fi));this.signatures=r}this.message=e}serialize(){let e=this.message.serialize(),t=Array();Ct(t,this.signatures.length);let r=R.struct([R.blob(t.length,"encodedSignaturesLength"),R.seq(Pg(),this.signatures.length,"signatures"),R.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),o=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,o)}static deserialize(e){let t=[...e],r=[],i=Lt(t);for(let s=0;s<i;s++)r.push(new Uint8Array(Mt(t,0,Fi)));let o=Bf.deserialize(new Uint8Array(t));return new n(o,r)}sign(e){let t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let o=r.findIndex(s=>s.equals(i.publicKey));ye(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=ua(t,i.secretKey)}}addSignature(e,t){ye(t.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));ye(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=t}},qg=160,Vg=64,Wg=qg/Vg,Gg=1e3/Wg,sr=new re("SysvarC1ock11111111111111111111111111111111"),M1=new re("SysvarEpochSchedu1e111111111111111111111111"),U1=new re("Sysvar1nstructions1111111111111111111111111"),Ks=new re("SysvarRecentB1ockHashes11111111111111111111"),Vi=new re("SysvarRent111111111111111111111111111111111"),P1=new re("SysvarRewards111111111111111111111111111111"),D1=new re("SysvarS1otHashes111111111111111111111111111"),F1=new re("SysvarS1otHistory11111111111111111111111111"),$s=new re("SysvarStakeHistory1111111111111111111111111"),Wi=class extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:i}){let o=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.",f;switch(e){case"send":f=`Transaction ${t} resulted in an error. 
${r}. `+o+s;break;case"simulate":f=`Simulation failed. 
Message: ${r}. 
`+o+s;break;default:f=`Unknown action '${(l=>l)(e)}'`}super(f),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){let e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){let o=i.meta.logMessages;this.transactionLogs=o,t(o)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}};var j=class extends Error{constructor({code:e,message:t,data:r},i){super(i!=null?`${i}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}};function un(n){return new Promise(e=>setTimeout(e,n))}function le(n,e){let t=n.layout.span>=0?n.layout.span:Of(n,e),r=ie.Buffer.alloc(t),i=Object.assign({instruction:n.index},e);return n.layout.encode(i,r),r}var Hg=R.nu64("lamportsPerSignature"),Nf=R.struct([R.u32("version"),R.u32("state"),ue("authorizedPubkey"),ue("nonce"),R.struct([Hg],"feeCalculator")]),uf=Nf.span,Js=class n{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let t=Nf.decode(fe(e),0);return new n({authorizedPubkey:new re(t.authorizedPubkey),nonce:new re(t.nonce).toString(),feeCalculator:t.feeCalculator})}};function hn(n){let e=(0,Af.blob)(8,n),t=e.decode.bind(e),r=e.encode.bind(e),i=e,o=mu();return i.decode=(s,f)=>{let l=t(s,f);return o.decode(l)},i.encode=(s,f,l)=>{let m=o.encode(s);return r(m,f,l)},i}var Ft=Object.freeze({Create:{index:0,layout:R.struct([R.u32("instruction"),R.ns64("lamports"),R.ns64("space"),ue("programId")])},Assign:{index:1,layout:R.struct([R.u32("instruction"),ue("programId")])},Transfer:{index:2,layout:R.struct([R.u32("instruction"),hn("lamports")])},CreateWithSeed:{index:3,layout:R.struct([R.u32("instruction"),ue("base"),fn("seed"),R.ns64("lamports"),R.ns64("space"),ue("programId")])},AdvanceNonceAccount:{index:4,layout:R.struct([R.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:R.struct([R.u32("instruction"),R.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:R.struct([R.u32("instruction"),ue("authorized")])},AuthorizeNonceAccount:{index:7,layout:R.struct([R.u32("instruction"),ue("authorized")])},Allocate:{index:8,layout:R.struct([R.u32("instruction"),R.ns64("space")])},AllocateWithSeed:{index:9,layout:R.struct([R.u32("instruction"),ue("base"),fn("seed"),R.ns64("space"),ue("programId")])},AssignWithSeed:{index:10,layout:R.struct([R.u32("instruction"),ue("base"),fn("seed"),ue("programId")])},TransferWithSeed:{index:11,layout:R.struct([R.u32("instruction"),hn("lamports"),fn("seed"),ue("programId")])},UpgradeNonceAccount:{index:12,layout:R.struct([R.u32("instruction")])}}),Vt=class n{constructor(){}static createAccount(e){let t=Ft.Create,r=le(t,{lamports:e.lamports,space:e.space,programId:fe(e.programId.toBuffer())});return new _e({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){let i=Ft.TransferWithSeed;t=le(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:fe(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=Ft.Transfer;t=le(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new _e({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){let i=Ft.AssignWithSeed;t=le(i,{base:fe(e.basePubkey.toBuffer()),seed:e.seed,programId:fe(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Ft.Assign;t=le(i,{programId:fe(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new _e({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){let t=Ft.CreateWithSeed,r=le(t,{base:fe(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:fe(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new _e({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){let t=new Ae;"basePubkey"in e&&"seed"in e?t.add(n.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:uf,programId:this.programId})):t.add(n.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:uf,programId:this.programId}));let r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){let t=Ft.InitializeNonceAccount,r=le(t,{authorized:fe(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Ks,isSigner:!1,isWritable:!1},{pubkey:Vi,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new _e(i)}static nonceAdvance(e){let t=Ft.AdvanceNonceAccount,r=le(t),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Ks,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new _e(i)}static nonceWithdraw(e){let t=Ft.WithdrawNonceAccount,r=le(t,{lamports:e.lamports});return new _e({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Ks,isSigner:!1,isWritable:!1},{pubkey:Vi,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){let t=Ft.AuthorizeNonceAccount,r=le(t,{authorized:fe(e.newAuthorizedPubkey.toBuffer())});return new _e({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){let i=Ft.AllocateWithSeed;t=le(i,{base:fe(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:fe(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Ft.Allocate;t=le(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new _e({keys:r,programId:this.programId,data:t})}};Vt.programId=new re("11111111111111111111111111111111");var z1=Dr-300;var K1=new re("BPFLoader2111111111111111111111111111111111");function Yg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qs,ff;function jg(){if(ff)return qs;ff=1;var n=Object.prototype.toString,e=Object.keys||function(r){var i=[];for(var o in r)i.push(o);return i};function t(r,i){var o,s,f,l,m,E,S;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),i);if(S=n.call(r),S==="[object Array]"){for(f="[",s=r.length-1,o=0;o<s;o++)f+=t(r[o],!0)+",";return s>-1&&(f+=t(r[o],!0)),f+"]"}else if(S==="[object Object]"){for(l=e(r).sort(),s=l.length,f="",o=0;o<s;)m=l[o],E=t(r[m],!1),E!==void 0&&(f&&(f+=","),f+=JSON.stringify(m)+":"+E),o++;return"{"+f+"}"}else return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return qs=function(r){var i=t(r,!1);if(i!==void 0)return""+i},qs}var Xg=jg(),lf=Yg(Xg),Mn=32;function Vs(n){let e=0;for(;n>1;)n/=2,e++;return e}function Zg(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}var Qs=class{constructor(e,t,r,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){let t=Vs(Zg(e+Mn+1))-Vs(Mn)-1,r=this.getSlotsInEpoch(t),i=e-(r-Mn);return[t,i]}else{let t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),i=this.firstNormalEpoch+r,o=t%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*Mn:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Vs(Mn)):this.slotsPerEpoch}},Jg=globalThis.fetch,ea=class extends Xu{constructor(e,t,r){let i=o=>{let s=ju(o,Z({autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3},t));return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,e,t,r),this.underlyingSocket=void 0}call(...e){let t=this.underlyingSocket?.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){let t=this.underlyingSocket?.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}};function Qg(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}var hf=56,Gi=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let t=Qg(em,e),r=e.length-hf;ye(r>=0,"lookup table is invalid"),ye(r%32===0,"lookup table is invalid");let i=r/32,{addresses:o}=R.struct([R.seq(ue(),i,"addresses")]).decode(e.slice(hf));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new re(t.authority[0]):void 0,addresses:o.map(s=>new re(s))}}},em={index:1,layout:R.struct([R.u32("typeIndex"),hn("deactivationSlot"),R.nu64("lastExtendedSlot"),R.u8("lastExtendedStartIndex"),R.u8(),R.seq(ue(),R.offset(R.u8(),-1),"authority")])},tm=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function rm(n){let e=n.match(tm);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);let[t,r,i,o]=e,s=n.startsWith("https:")?"wss:":"ws:",f=i==null?null:parseInt(i.slice(1),10),l=f==null?"":`:${f+1}`;return`${s}//${r}${l}${o}`}var Ie=sn(Ii(re),z(),n=>new re(n)),Tf=vi([z(),Se("base64")]),la=sn(Ii(ie.Buffer),Tf,n=>ie.Buffer.from(n[0],"base64")),nm=30*1e3;function im(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function we(n){let e,t;if(typeof n=="string")e=n;else if(n){let r=n,{commitment:i}=r,o=zt(r,["commitment"]);e=i,t=o}return{commitment:e,config:t}}function df(n){return n.map(e=>"memcmp"in e?se(Z({},e),{memcmp:se(Z({},e.memcmp),{encoding:e.memcmp.encoding??"base58"})}):e)}function kf(n){return mt([C({jsonrpc:Se("2.0"),id:z(),result:n}),C({jsonrpc:Se("2.0"),id:z(),error:C({code:Ur(),message:z(),data:Q(Ru())})})])}var om=kf(Ur());function ce(n){return sn(kf(n),om,e=>"error"in e?e:se(Z({},e),{result:$(e.result,n)}))}function Oe(n){return ce(C({context:C({slot:O()}),value:n}))}function Xi(n){return C({context:C({slot:O()}),value:n})}function Ws(n,e){return n===0?new qi({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new re(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:ht.default.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Sr(e)}var sm=C({foundation:O(),foundationTerm:O(),initial:O(),taper:O(),terminal:O()}),am=ce(V(W(C({epoch:O(),effectiveSlot:O(),amount:O(),postBalance:O(),commission:Q(W(O()))})))),cm=V(C({slot:O(),prioritizationFee:O()})),um=C({total:O(),validator:O(),foundation:O(),epoch:O()}),fm=C({epoch:O(),slotIndex:O(),slotsInEpoch:O(),absoluteSlot:O(),blockHeight:Q(O()),transactionCount:Q(O())}),lm=C({slotsPerEpoch:O(),leaderScheduleSlotOffset:O(),warmup:qt(),firstNormalEpoch:O(),firstNormalSlot:O()}),hm=Is(z(),V(O())),Fr=W(mt([C({}),z()])),dm=C({err:Fr}),pm=Se("receivedSignature"),ym=C({"solana-core":z(),"feature-set":Q(O())}),gm=C({program:z(),programId:Ie,parsed:Ur()}),mm=C({programId:Ie,accounts:V(Ie),data:z()}),pf=Oe(C({err:W(mt([C({}),z()])),logs:W(V(z())),accounts:Q(W(V(W(C({executable:qt(),owner:z(),lamports:O(),data:V(z()),rentEpoch:Q(O())}))))),unitsConsumed:Q(O()),returnData:Q(W(C({programId:z(),data:vi([z(),Se("base64")])}))),innerInstructions:Q(W(V(C({index:O(),instructions:V(mt([gm,mm]))}))))})),_m=Oe(C({byIdentity:Is(z(),V(O())),range:C({firstSlot:O(),lastSlot:O()})}));function wm(n,e,t,r,i,o){let s=t||Jg,f;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return r&&(l=async(E,S)=>{let v=await new Promise((A,I)=>{try{r(E,S,(x,T)=>A([x,T]))}catch(x){I(x)}});return await s(...v)}),new If.default(async(E,S)=>{let v={method:"POST",body:E,agent:f,headers:Object.assign({"Content-Type":"application/json"},e||{},w_)};try{let A=5,I,x=500;for(;l?I=await l(n,v):I=await s(n,v),!(I.status!==429||i===!0||(A-=1,A===0));)console.error(`Server responded with ${I.status} ${I.statusText}.  Retrying after ${x}ms delay...`),await un(x),x*=2;let T=await I.text();I.ok?S(null,T):S(new Error(`${I.status} ${I.statusText}: ${T}`))}catch(A){A instanceof Error&&S(A)}},{})}function Em(n){return(e,t)=>new Promise((r,i)=>{n.request(e,t,(o,s)=>{if(o){i(o);return}r(s)})})}function Rm(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);let i=e.map(o=>n.request(o.methodName,o.args));n.request(i,(o,s)=>{if(o){r(o);return}t(s)})})}var bm=ce(sm),Sm=ce(um),Am=ce(cm),Im=ce(fm),vm=ce(lm),Om=ce(hm),xm=ce(O()),Bm=Oe(C({total:O(),circulating:O(),nonCirculating:O(),nonCirculatingAccounts:V(Ie)})),ta=C({amount:z(),uiAmount:W(O()),decimals:O(),uiAmountString:Q(z())}),Nm=Oe(V(C({address:Ie,amount:z(),uiAmount:W(O()),decimals:O(),uiAmountString:Q(z())}))),Tm=Oe(V(C({pubkey:Ie,account:C({executable:qt(),owner:Ie,lamports:O(),data:la,rentEpoch:O()})}))),ra=C({program:z(),parsed:Ur(),space:O()}),km=Oe(V(C({pubkey:Ie,account:C({executable:qt(),owner:Ie,lamports:O(),data:ra,rentEpoch:O()})}))),Lm=Oe(V(C({lamports:O(),address:Ie}))),Dn=C({executable:qt(),owner:Ie,lamports:O(),data:la,rentEpoch:O()}),Cm=C({pubkey:Ie,account:Dn}),Mm=sn(mt([Ii(ie.Buffer),ra]),mt([Tf,ra]),n=>Array.isArray(n)?$(n,la):n),na=C({executable:qt(),owner:Ie,lamports:O(),data:Mm,rentEpoch:O()}),Um=C({pubkey:Ie,account:na}),Pm=C({state:mt([Se("active"),Se("inactive"),Se("activating"),Se("deactivating")]),active:O(),inactive:O()}),Dm=ce(V(C({signature:z(),slot:O(),err:Fr,memo:W(z()),blockTime:Q(W(O()))}))),Fm=ce(V(C({signature:z(),slot:O(),err:Fr,memo:W(z()),blockTime:Q(W(O()))}))),zm=C({subscription:O(),result:Xi(Dn)}),Km=C({pubkey:Ie,account:Dn}),$m=C({subscription:O(),result:Xi(Km)}),qm=C({parent:O(),slot:O(),root:O()}),Vm=C({subscription:O(),result:qm}),Wm=mt([C({type:mt([Se("firstShredReceived"),Se("completed"),Se("optimisticConfirmation"),Se("root")]),slot:O(),timestamp:O()}),C({type:Se("createdBank"),parent:O(),slot:O(),timestamp:O()}),C({type:Se("frozen"),slot:O(),timestamp:O(),stats:C({numTransactionEntries:O(),numSuccessfulTransactions:O(),numFailedTransactions:O(),maxTransactionsPerEntry:O()})}),C({type:Se("dead"),slot:O(),timestamp:O(),err:z()})]),Gm=C({subscription:O(),result:Wm}),Hm=C({subscription:O(),result:Xi(mt([dm,pm]))}),Ym=C({subscription:O(),result:O()}),jm=C({pubkey:z(),gossip:W(z()),tpu:W(z()),rpc:W(z()),version:W(z())}),yf=C({votePubkey:z(),nodePubkey:z(),activatedStake:O(),epochVoteAccount:qt(),epochCredits:V(vi([O(),O(),O()])),commission:O(),lastVote:O(),rootSlot:W(O())}),Xm=ce(C({current:V(yf),delinquent:V(yf)})),Zm=mt([Se("processed"),Se("confirmed"),Se("finalized")]),Jm=C({slot:O(),confirmations:W(O()),err:Fr,confirmationStatus:Q(Zm)}),Qm=Oe(V(W(Jm))),e_=ce(O()),Lf=C({accountKey:Ie,writableIndexes:V(O()),readonlyIndexes:V(O())}),ha=C({signatures:V(z()),message:C({accountKeys:V(z()),header:C({numRequiredSignatures:O(),numReadonlySignedAccounts:O(),numReadonlyUnsignedAccounts:O()}),instructions:V(C({accounts:V(O()),data:z(),programIdIndex:O()})),recentBlockhash:z(),addressTableLookups:Q(V(Lf))})}),Cf=C({pubkey:Ie,signer:qt(),writable:qt(),source:Q(mt([Se("transaction"),Se("lookupTable")]))}),Mf=C({accountKeys:V(Cf),signatures:V(z())}),Uf=C({parsed:Ur(),program:z(),programId:Ie}),Pf=C({accounts:V(Ie),data:z(),programId:Ie}),t_=mt([Pf,Uf]),r_=mt([C({parsed:Ur(),program:z(),programId:z()}),C({accounts:V(z()),data:z(),programId:z()})]),Df=sn(t_,r_,n=>"accounts"in n?$(n,Pf):$(n,Uf)),Ff=C({signatures:V(z()),message:C({accountKeys:V(Cf),instructions:V(Df),recentBlockhash:z(),addressTableLookups:Q(W(V(Lf)))})}),Hi=C({accountIndex:O(),mint:z(),owner:Q(z()),programId:Q(z()),uiTokenAmount:ta}),zf=C({writable:V(Ie),readonly:V(Ie)}),Zi=C({err:Fr,fee:O(),innerInstructions:Q(W(V(C({index:O(),instructions:V(C({accounts:V(O()),data:z(),programIdIndex:O()}))})))),preBalances:V(O()),postBalances:V(O()),logMessages:Q(W(V(z()))),preTokenBalances:Q(W(V(Hi))),postTokenBalances:Q(W(V(Hi))),loadedAddresses:Q(zf),computeUnitsConsumed:Q(O()),costUnits:Q(O())}),da=C({err:Fr,fee:O(),innerInstructions:Q(W(V(C({index:O(),instructions:V(Df)})))),preBalances:V(O()),postBalances:V(O()),logMessages:Q(W(V(z()))),preTokenBalances:Q(W(V(Hi))),postTokenBalances:Q(W(V(Hi))),loadedAddresses:Q(zf),computeUnitsConsumed:Q(O()),costUnits:Q(O())}),pn=mt([Se(0),Se("legacy")]),zr=C({pubkey:z(),lamports:O(),postBalance:W(O()),rewardType:W(z()),commission:Q(W(O()))}),n_=ce(W(C({blockhash:z(),previousBlockhash:z(),parentSlot:O(),transactions:V(C({transaction:ha,meta:W(Zi),version:Q(pn)})),rewards:Q(V(zr)),blockTime:W(O()),blockHeight:W(O())}))),i_=ce(W(C({blockhash:z(),previousBlockhash:z(),parentSlot:O(),rewards:Q(V(zr)),blockTime:W(O()),blockHeight:W(O())}))),o_=ce(W(C({blockhash:z(),previousBlockhash:z(),parentSlot:O(),transactions:V(C({transaction:Mf,meta:W(Zi),version:Q(pn)})),rewards:Q(V(zr)),blockTime:W(O()),blockHeight:W(O())}))),s_=ce(W(C({blockhash:z(),previousBlockhash:z(),parentSlot:O(),transactions:V(C({transaction:Ff,meta:W(da),version:Q(pn)})),rewards:Q(V(zr)),blockTime:W(O()),blockHeight:W(O())}))),a_=ce(W(C({blockhash:z(),previousBlockhash:z(),parentSlot:O(),transactions:V(C({transaction:Mf,meta:W(da),version:Q(pn)})),rewards:Q(V(zr)),blockTime:W(O()),blockHeight:W(O())}))),c_=ce(W(C({blockhash:z(),previousBlockhash:z(),parentSlot:O(),rewards:Q(V(zr)),blockTime:W(O()),blockHeight:W(O())}))),u_=ce(W(C({blockhash:z(),previousBlockhash:z(),parentSlot:O(),transactions:V(C({transaction:ha,meta:W(Zi)})),rewards:Q(V(zr)),blockTime:W(O())}))),gf=ce(W(C({blockhash:z(),previousBlockhash:z(),parentSlot:O(),signatures:V(z()),blockTime:W(O())}))),Gs=ce(W(C({slot:O(),meta:W(Zi),blockTime:Q(W(O())),transaction:ha,version:Q(pn)}))),Ui=ce(W(C({slot:O(),transaction:Ff,meta:W(da),blockTime:Q(W(O())),version:Q(pn)}))),f_=Oe(C({blockhash:z(),lastValidBlockHeight:O()})),l_=Oe(qt()),h_=C({slot:O(),numTransactions:O(),numSlots:O(),samplePeriodSecs:O()}),d_=ce(V(h_)),p_=Oe(W(C({feeCalculator:C({lamportsPerSignature:O()})}))),y_=ce(z()),g_=ce(z()),m_=C({err:Fr,logs:V(z()),signature:z()}),__=C({result:Xi(m_),subscription:O()}),w_={"solana-client":"js/1.0.0-maintenance"},mf=class{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{let m={};return async E=>{let{commitment:S,config:v}=we(E),A=this._buildArgs([],S,void 0,v),I=lf(A);return m[I]=m[I]??(async()=>{try{let x=await this._rpcRequest("getBlockHeight",A),T=$(x,ce(O()));if("error"in T)throw new j(T.error,"failed to get block height information");return T.result}finally{delete m[I]}})(),await m[I]}})();let r,i,o,s,f,l;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,i=t.httpHeaders,o=t.fetch,s=t.fetchMiddleware,f=t.disableRetryOnRateLimit,l=t.httpAgent),this._rpcEndpoint=im(e),this._rpcWsEndpoint=r||rm(e),this._rpcClient=wm(e,i,o,s,f,l),this._rpcRequest=Em(this._rpcClient),this._rpcBatchRequest=Rm(this._rpcClient),this._rpcWebSocket=new ea(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){let{commitment:r,config:i}=we(t),o=this._buildArgs([e.toBase58()],r,void 0,i),s=await this._rpcRequest("getBalance",o),f=$(s,Oe(O()));if("error"in f)throw new j(f.error,`failed to get balance for ${e.toBase58()}`);return f.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){let t=await this._rpcRequest("getBlockTime",[e]),r=$(t,ce(W(O())));if("error"in r)throw new j(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){let e=await this._rpcRequest("minimumLedgerSlot",[]),t=$(e,ce(O()));if("error"in t)throw new j(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){let e=await this._rpcRequest("getFirstAvailableBlock",[]),t=$(e,xm);if("error"in t)throw new j(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t=se(Z({},e),{commitment:e&&e.commitment||this.commitment}):t={commitment:this.commitment};let r=await this._rpcRequest("getSupply",[t]),i=$(r,Bm);if("error"in i)throw new j(i.error,"failed to get supply");return i.result}async getTokenSupply(e,t){let r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenSupply",r),o=$(i,Oe(ta));if("error"in o)throw new j(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,t){let r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenAccountBalance",r),o=$(i,Oe(ta));if("error"in o)throw new j(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,t,r){let{commitment:i,config:o}=we(r),s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});let f=this._buildArgs(s,i,"base64",o),l=await this._rpcRequest("getTokenAccountsByOwner",f),m=$(l,Tm);if("error"in m)throw new j(m.error,`failed to get token accounts owned by account ${e.toBase58()}`);return m.result}async getParsedTokenAccountsByOwner(e,t,r){let i=[e.toBase58()];"mint"in t?i.push({mint:t.mint.toBase58()}):i.push({programId:t.programId.toBase58()});let o=this._buildArgs(i,r,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),f=$(s,km);if("error"in f)throw new j(f.error,`failed to get token accounts owned by account ${e.toBase58()}`);return f.result}async getLargestAccounts(e){let t=se(Z({},e),{commitment:e&&e.commitment||this.commitment}),r=t.filter||t.commitment?[t]:[],i=await this._rpcRequest("getLargestAccounts",r),o=$(i,Lm);if("error"in o)throw new j(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,t){let r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenLargestAccounts",r),o=$(i,Nm);if("error"in o)throw new j(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,t){let{commitment:r,config:i}=we(t),o=this._buildArgs([e.toBase58()],r,"base64",i),s=await this._rpcRequest("getAccountInfo",o),f=$(s,Oe(W(Dn)));if("error"in f)throw new j(f.error,`failed to get info about account ${e.toBase58()}`);return f.result}async getParsedAccountInfo(e,t){let{commitment:r,config:i}=we(t),o=this._buildArgs([e.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),f=$(s,Oe(W(na)));if("error"in f)throw new j(f.error,`failed to get info about account ${e.toBase58()}`);return f.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){let{commitment:r,config:i}=we(t),o=e.map(m=>m.toBase58()),s=this._buildArgs([o],r,"jsonParsed",i),f=await this._rpcRequest("getMultipleAccounts",s),l=$(f,Oe(V(W(na))));if("error"in l)throw new j(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfoAndContext(e,t){let{commitment:r,config:i}=we(t),o=e.map(m=>m.toBase58()),s=this._buildArgs([o],r,"base64",i),f=await this._rpcRequest("getMultipleAccounts",s),l=$(f,Oe(V(W(Dn))));if("error"in l)throw new j(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){let{commitment:i,config:o}=we(t),s=this._buildArgs([e.toBase58()],i,void 0,se(Z({},o),{epoch:r??o?.epoch})),f=await this._rpcRequest("getStakeActivation",s),l=$(f,ce(Pm));if("error"in l)throw new j(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,t){let{commitment:r,config:i}=we(t),S=i||{},{encoding:o}=S,s=zt(S,["encoding"]),f=this._buildArgs([e.toBase58()],r,o||"base64",Z(Z({},s),s.filters?{filters:df(s.filters)}:null)),l=await this._rpcRequest("getProgramAccounts",f),m=V(Cm),E=s.withContext===!0?$(l,Oe(m)):$(l,ce(m));if("error"in E)throw new j(E.error,`failed to get accounts owned by program ${e.toBase58()}`);return E.result}async getParsedProgramAccounts(e,t){let{commitment:r,config:i}=we(t),o=this._buildArgs([e.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),f=$(s,ce(V(Um)));if("error"in f)throw new j(f.error,`failed to get accounts owned by program ${e.toBase58()}`);return f.result}async confirmTransaction(e,t){let r;if(typeof e=="string")r=e;else{let o=e;if(o.abortSignal?.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let i;try{i=ht.default.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return ye(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,i,o=!1,s=new Promise((l,m)=>{try{r=this.onSignature(t,(S,v)=>{r=void 0;let A={context:v,value:S};l({__type:Er.PROCESSED,response:A})},e);let E=new Promise(S=>{r==null?S():i=this._onSubscriptionStateChange(r,v=>{v==="subscribed"&&S()})});(async()=>{if(await E,o)return;let S=await this.getSignatureStatus(t);if(o||S==null)return;let{context:v,value:A}=S;if(A!=null)if(A?.err)m(A.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(A.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(A.confirmationStatus==="processed"||A.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,l({__type:Er.PROCESSED,response:{context:v,value:A}})}})()}catch(E){m(E)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:i}}){let o=!1,s=new Promise(S=>{let v=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let A=await v();if(!o){for(;A<=r;)if(await un(1e3),o||(A=await v(),o))return;S({__type:Er.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:f,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),m=this.getCancellationPromise(t),E;try{let S=await Promise.race([m,l,s]);if(S.__type===Er.PROCESSED)E=S.response;else throw new zi(i)}finally{o=!0,f()}return E}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let f=!1,l=new Promise(A=>{let I=o,x=null,T=async()=>{try{let{context:N,value:P}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return x=N.slot,P?.nonce}catch{return I}};(async()=>{if(I=await T(),!f)for(;;){if(o!==I){A({__type:Er.NONCE_INVALID,slotInWhichNonceDidAdvance:x});return}if(await un(2e3),f||(I=await T(),f))return}})()}),{abortConfirmation:m,confirmationPromise:E}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),S=this.getCancellationPromise(t),v;try{let A=await Promise.race([S,E,l]);if(A.__type===Er.PROCESSED)v=A.response;else{let I;for(;;){let x=await this.getSignatureStatus(s);if(x==null)break;if(x.context.slot<(A.slotInWhichNonceDidAdvance??r)){await un(400);continue}I=x;break}if(I?.value){let x=e||"finalized",{confirmationStatus:T}=I.value;switch(x){case"processed":case"recent":if(T!=="processed"&&T!=="confirmed"&&T!=="finalized")throw new Pr(s);break;case"confirmed":case"single":case"singleGossip":if(T!=="confirmed"&&T!=="finalized")throw new Pr(s);break;case"finalized":case"max":case"root":if(T!=="finalized")throw new Pr(s);break;default:}v={context:I.context,value:{err:I.value.err}}}else throw new Pr(s)}}finally{f=!0,m()}return v}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r,i=new Promise(l=>{let m=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{m=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>l({__type:Er.TIMED_OUT,timeoutMs:m}),m)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:t}),f;try{let l=await Promise.race([s,i]);if(l.__type===Er.PROCESSED)f=l.response;else throw new Ki(t,l.timeoutMs/1e3)}finally{clearTimeout(r),o()}return f}async getClusterNodes(){let e=await this._rpcRequest("getClusterNodes",[]),t=$(e,ce(V(jm)));if("error"in t)throw new j(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){let t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),i=$(r,Xm);if("error"in i)throw new j(i.error,"failed to get vote accounts");return i.result}async getSlot(e){let{commitment:t,config:r}=we(e),i=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getSlot",i),s=$(o,ce(O()));if("error"in s)throw new j(s.error,"failed to get slot");return s.result}async getSlotLeader(e){let{commitment:t,config:r}=we(e),i=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getSlotLeader",i),s=$(o,ce(z()));if("error"in s)throw new j(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,t){let r=[e,t],i=await this._rpcRequest("getSlotLeaders",r),o=$(i,ce(V(Ie)));if("error"in o)throw new j(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,t){let{context:r,value:i}=await this.getSignatureStatuses([e],t);ye(i.length===1);let o=i[0];return{context:r,value:o}}async getSignatureStatuses(e,t){let r=[e];t&&r.push(t);let i=await this._rpcRequest("getSignatureStatuses",r),o=$(i,Qm);if("error"in o)throw new j(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){let{commitment:t,config:r}=we(e),i=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getTransactionCount",i),s=$(o,ce(O()));if("error"in s)throw new j(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){let t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),i=$(r,bm);if("error"in i)throw new j(i.error,"failed to get inflation");return i.result}async getInflationReward(e,t,r){let{commitment:i,config:o}=we(r),s=this._buildArgs([e.map(m=>m.toBase58())],i,void 0,se(Z({},o),{epoch:t??o?.epoch})),f=await this._rpcRequest("getInflationReward",s),l=$(f,am);if("error"in l)throw new j(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){let e=await this._rpcRequest("getInflationRate",[]),t=$(e,Sm);if("error"in t)throw new j(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){let{commitment:t,config:r}=we(e),i=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getEpochInfo",i),s=$(o,Im);if("error"in s)throw new j(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){let e=await this._rpcRequest("getEpochSchedule",[]),t=$(e,vm);if("error"in t)throw new j(t.error,"failed to get epoch schedule");let r=t.result;return new Qs(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){let e=await this._rpcRequest("getLeaderSchedule",[]),t=$(e,Om);if("error"in t)throw new j(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){let r=this._buildArgs([e],t),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),o=$(i,e_);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){let{context:t,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:t,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){let t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=$(t,d_);if("error"in r)throw new j(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){let r=this._buildArgs([e],t),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),o=$(i,p_);if("error"in o)throw new j(o.error,"failed to get fee calculator");let{context:s,value:f}=o.result;return{context:s,value:f!==null?f.feeCalculator:null}}async getFeeForMessage(e,t){let r=fe(e.serialize()).toString("base64"),i=this._buildArgs([r],t),o=await this._rpcRequest("getFeeForMessage",i),s=$(o,Oe(W(O())));if("error"in s)throw new j(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentPrioritizationFees(e){let t=e?.lockedWritableAccounts?.map(s=>s.toBase58()),r=t?.length?[t]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),o=$(i,Am);if("error"in o)throw new j(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){let{commitment:t,config:r}=we(e),i=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getLatestBlockhash",i),s=$(o,f_);if("error"in s)throw new j(s.error,"failed to get latest blockhash");return s.result}async isBlockhashValid(e,t){let{commitment:r,config:i}=we(t),o=this._buildArgs([e],r,void 0,i),s=await this._rpcRequest("isBlockhashValid",o),f=$(s,l_);if("error"in f)throw new j(f.error,"failed to determine if the blockhash `"+e+"`is valid");return f.result}async getVersion(){let e=await this._rpcRequest("getVersion",[]),t=$(e,ce(ym));if("error"in t)throw new j(t.error,"failed to get version");return t.result}async getGenesisHash(){let e=await this._rpcRequest("getGenesisHash",[]),t=$(e,ce(z()));if("error"in t)throw new j(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){let{commitment:r,config:i}=we(t),o=this._buildArgsAtLeastConfirmed([e],r,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let f=$(s,o_);if("error"in f)throw f.error;return f.result}case"none":{let f=$(s,i_);if("error"in f)throw f.error;return f.result}default:{let f=$(s,n_);if("error"in f)throw f.error;let{result:l}=f;return l?se(Z({},l),{transactions:l.transactions.map(({transaction:m,meta:E,version:S})=>({meta:E,transaction:se(Z({},m),{message:Ws(S,m.message)}),version:S}))}):null}}}catch(f){throw new j(f,"failed to get confirmed block")}}async getParsedBlock(e,t){let{commitment:r,config:i}=we(t),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let f=$(s,a_);if("error"in f)throw f.error;return f.result}case"none":{let f=$(s,c_);if("error"in f)throw f.error;return f.result}default:{let f=$(s,s_);if("error"in f)throw f.error;return f.result}}}catch(f){throw new j(f,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){let f=e,{commitment:l}=f,m=zt(f,["commitment"]);r=l,t=m}let i=this._buildArgs([],r,"base64",t),o=await this._rpcRequest("getBlockProduction",i),s=$(o,_m);if("error"in s)throw new j(s.error,"failed to get block production information");return s.result}async getTransaction(e,t){let{commitment:r,config:i}=we(t),o=this._buildArgsAtLeastConfirmed([e],r,void 0,i),s=await this._rpcRequest("getTransaction",o),f=$(s,Gs);if("error"in f)throw new j(f.error,"failed to get transaction");let l=f.result;return l&&se(Z({},l),{transaction:se(Z({},l.transaction),{message:Ws(l.version,l.transaction.message)})})}async getParsedTransaction(e,t){let{commitment:r,config:i}=we(t),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),f=$(s,Ui);if("error"in f)throw new j(f.error,"failed to get transaction");return f.result}async getParsedTransactions(e,t){let{commitment:r,config:i}=we(t),o=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(l=>{let m=$(l,Ui);if("error"in m)throw new j(m.error,"failed to get transactions");return m.result})}async getTransactions(e,t){let{commitment:r,config:i}=we(t),o=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,void 0,i)}));return(await this._rpcBatchRequest(o)).map(l=>{let m=$(l,Gs);if("error"in m)throw new j(m.error,"failed to get transactions");let E=m.result;return E&&se(Z({},E),{transaction:se(Z({},E.transaction),{message:Ws(E.version,E.transaction.message)})})})}async getConfirmedBlock(e,t){let r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getBlock",r),o=$(i,u_);if("error"in o)throw new j(o.error,"failed to get confirmed block");let s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");let f=se(Z({},s),{transactions:s.transactions.map(({transaction:l,meta:m})=>{let E=new Sr(l.message);return{meta:m,transaction:se(Z({},l),{message:E})}})});return se(Z({},f),{transactions:f.transactions.map(({transaction:l,meta:m})=>({meta:m,transaction:Ae.populate(l.message,l.signatures)}))})}async getBlocks(e,t,r){let i=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),o=await this._rpcRequest("getBlocks",i),s=$(o,ce(V(O())));if("error"in s)throw new j(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,t){let r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=$(i,gf);if("error"in o)throw new j(o.error,"failed to get block");let s=o.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,t){let r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=$(i,gf);if("error"in o)throw new j(o.error,"failed to get confirmed block");let s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,t){let r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getTransaction",r),o=$(i,Gs);if("error"in o)throw new j(o.error,"failed to get transaction");let s=o.result;if(!s)return s;let f=new Sr(s.transaction.message),l=s.transaction.signatures;return se(Z({},s),{transaction:Ae.populate(f,l)})}async getParsedConfirmedTransaction(e,t){let r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),i=await this._rpcRequest("getTransaction",r),o=$(i,Ui);if("error"in o)throw new j(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,t){let r=e.map(s=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([s],t,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(s=>{let f=$(s,Ui);if("error"in f)throw new j(f.error,"failed to get confirmed transactions");return f.result})}async getConfirmedSignaturesForAddress(e,t,r){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(t--,!(t<=0||t<o));)try{let l=await this.getConfirmedBlockSignatures(t,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let s=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>s));)try{let l=await this.getConfirmedBlockSignatures(r);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,t,r){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=$(o,Dm);if("error"in s)throw new j(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,t,r){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),o=await this._rpcRequest("getSignaturesForAddress",i),s=$(o,Fm);if("error"in s)throw new j(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,t){let{context:r,value:i}=await this.getAccountInfoAndContext(e,t),o=null;return i!==null&&(o=new Gi({key:e,state:Gi.deserialize(i.data)})),{context:r,value:o}}async getNonceAndContext(e,t){let{context:r,value:i}=await this.getAccountInfoAndContext(e,t),o=null;return i!==null&&(o=Js.fromAccountData(i.data)),{context:r,value:o}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){let r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),i=$(r,y_);if("error"in i)throw new j(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await un(100);let r=Date.now()-this._blockhashInfo.lastFetch>=nm;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let i=0;i<50;i++){let o=await this.getLatestBlockhash("finalized");if(r!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await un(Gg/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){let{commitment:t,config:r}=we(e),i=this._buildArgs([],t,"base64",r),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=$(o,Oe(O()));if("error"in s)throw new j(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,t,r){if("message"in e){let x=e.serialize(),T=ie.Buffer.from(x).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");let N=t||{};N.encoding="base64","commitment"in N||(N.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(N.innerInstructions=t.innerInstructions);let P=[T,N],U=await this._rpcRequest("simulateTransaction",P),K=$(U,pf);if("error"in K)throw new Error("failed to simulate transaction: "+K.error.message);return K.result}let i;if(e instanceof Ae){let I=e;i=new Ae,i.feePayer=I.feePayer,i.instructions=e.instructions,i.nonceInfo=I.nonceInfo,i.signatures=I.signatures}else i=Ae.populate(e),i._message=i._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");let o=t;if(i.nonceInfo&&o)i.sign(...o);else{let I=this._disableBlockhashCaching;for(;;){let x=await this._blockhashWithExpiryBlockHeight(I);if(i.lastValidBlockHeight=x.lastValidBlockHeight,i.recentBlockhash=x.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");let T=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(T)&&!this._blockhashInfo.transactionSignatures.includes(T)){this._blockhashInfo.simulatedSignatures.push(T);break}else I=!0}}let s=i._compile(),f=s.serialize(),m=i._serialize(f).toString("base64"),E={encoding:"base64",commitment:this.commitment};if(r){let I=(Array.isArray(r)?r:s.nonProgramIds()).map(x=>x.toBase58());E.accounts={encoding:"base64",addresses:I}}o&&(E.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(E.innerInstructions=t.innerInstructions);let S=[m,E],v=await this._rpcRequest("simulateTransaction",S),A=$(v,pf);if("error"in A){let I;if("data"in A.error&&(I=A.error.data.logs,I&&Array.isArray(I))){let x=`
    `,T=x+I.join(x);console.error(A.error.message,T)}throw new Wi({action:"simulate",signature:"",transactionMessage:A.error.message,logs:I})}return A.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");let s=e.serialize();return await this.sendRawTransaction(s,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");let i=t;if(e.nonceInfo)e.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){let f=await this._blockhashWithExpiryBlockHeight(s);if(e.lastValidBlockHeight=f.lastValidBlockHeight,e.recentBlockhash=f.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");let l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))s=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}let o=e.serialize();return await this.sendRawTransaction(o,r)}async sendRawTransaction(e,t){let r=fe(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){let r={encoding:"base64"},i=t&&t.skipPreflight,o=i===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),i&&(r.skipPreflight=i),o&&(r.preflightCommitment=o);let s=[e,r],f=await this._rpcRequest("sendTransaction",s),l=$(f,g_);if("error"in l){let m;throw"data"in l.error&&(m=l.error.data.logs),new Wi({action:i?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:m})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,se(Z({},r),{state:"pending"}))})}_setSubscription(e,t){let r=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=t,r!==t.state){let i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){let r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};let i=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return i.add(t),()=>{i.delete(t),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{let i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{let{args:o,method:s}=i;try{this._setSubscription(r,se(Z({},i),{state:"subscribing"}));let f=await this._rpcWebSocket.call(s,o);this._setSubscription(r,se(Z({},i),{serverSubscriptionId:f,state:"subscribed"})),this._subscriptionCallbacksByServerSubscriptionId[f]=i.callbacks,await this._updateSubscriptions()}catch(f){if(console.error(`Received ${f instanceof Error?"":"JSON-RPC "}error calling \`${s}\``,{args:o,error:f}),!t())return;this._setSubscription(r,se(Z({},i),{state:"pending"})),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{let{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(r,se(Z({},i),{state:"unsubscribing"})),this._setSubscription(r,se(Z({},i),{state:"unsubscribing"}));try{await this._rpcWebSocket.call(s,[o])}catch(f){if(f instanceof Error&&console.error(`${s} error:`,f.message),!t())return;this._setSubscription(r,se(Z({},i),{state:"subscribed"})),await this._updateSubscriptions();return}}this._setSubscription(r,se(Z({},i),{state:"unsubscribed"})),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){let r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...t)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){let{result:t,subscription:r}=$(e,zm);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){let r=this._nextClientSubscriptionId++,i=lf([e.method,t]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]=se(Z({},e),{args:t,callbacks:new Set([e.callback]),state:"pending"}):o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];let s=this._subscriptionsByHash[i];ye(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),s.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){let{commitment:i,config:o}=we(r),s=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){let{result:t,subscription:r}=$(e,$m);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,i){let{commitment:o,config:s}=we(r),f=this._buildArgs([e.toBase58()],o||this._commitment||"finalized","base64",s||(i?{filters:df(i)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},f)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){let i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){let{result:t,subscription:r}=$(e,__);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){let{result:t,subscription:r}=$(e,Vm);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){let{result:t,subscription:r}=$(e,Gm);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){let r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,i){let o=t||this._commitment;if(o||r||i){let s={};r&&(s.encoding=r),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),e.push(s)}return e}_buildArgsAtLeastConfirmed(e,t,r,i){let o=t||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,i)}_wsOnSignatureNotification(e){let{result:t,subscription:r}=$(e,Hm);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){let i=this._buildArgs([e],r||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,f)=>{if(s.type==="status"){t(s.result,f);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(e,t,r){let l=se(Z({},r),{commitment:r&&r.commitment||this._commitment||"finalized"}),{commitment:i}=l,o=zt(l,["commitment"]),s=this._buildArgs([e],i,void 0,o),f=this._makeSubscription({callback:(m,E)=>{t(m,E);try{this.removeSignatureListener(f)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return f}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){let{result:t,subscription:r}=$(e,Ym);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},ia=class n{constructor(e){this._keypair=void 0,this._keypair=e??of()}static generate(){return new n(of())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");let r=e.slice(32,64);if(!t||!t.skipValidation){let i=e.slice(0,32),o=Xs(i);for(let s=0;s<32;s++)if(r[s]!==o[s])throw new Error("provided secretKey is invalid")}return new n({publicKey:r,secretKey:e})}static fromSeed(e){let t=Xs(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new n({publicKey:t,secretKey:r})}get publicKey(){return new re(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},Un=Object.freeze({CreateLookupTable:{index:0,layout:R.struct([R.u32("instruction"),hn("recentSlot"),R.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:R.struct([R.u32("instruction")])},ExtendLookupTable:{index:2,layout:R.struct([R.u32("instruction"),hn(),R.seq(ue(),R.offset(R.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:R.struct([R.u32("instruction")])},CloseLookupTable:{index:4,layout:R.struct([R.u32("instruction")])}});var oa=class{constructor(){}static createLookupTable(e){let[t,r]=re.findProgramAddressSync([e.authority.toBuffer(),bs().encode(e.recentSlot)],this.programId),i=Un.CreateLookupTable,o=le(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Vt.programId,isSigner:!1,isWritable:!1}];return[new _e({programId:this.programId,keys:s,data:o}),t]}static freezeLookupTable(e){let t=Un.FreezeLookupTable,r=le(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new _e({programId:this.programId,keys:i,data:r})}static extendLookupTable(e){let t=Un.ExtendLookupTable,r=le(t,{addresses:e.addresses.map(o=>o.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Vt.programId,isSigner:!1,isWritable:!1}),new _e({programId:this.programId,keys:i,data:r})}static deactivateLookupTable(e){let t=Un.DeactivateLookupTable,r=le(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new _e({programId:this.programId,keys:i,data:r})}static closeLookupTable(e){let t=Un.CloseLookupTable,r=le(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new _e({programId:this.programId,keys:i,data:r})}};oa.programId=new re("AddressLookupTab1e1111111111111111111111111");var Pi=Object.freeze({RequestUnits:{index:0,layout:R.struct([R.u8("instruction"),R.u32("units"),R.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:R.struct([R.u8("instruction"),R.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:R.struct([R.u8("instruction"),R.u32("units")])},SetComputeUnitPrice:{index:3,layout:R.struct([R.u8("instruction"),hn("microLamports")])}}),sa=class{constructor(){}static requestUnits(e){let t=Pi.RequestUnits,r=le(t,e);return new _e({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){let t=Pi.RequestHeapFrame,r=le(t,e);return new _e({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){let t=Pi.SetComputeUnitLimit,r=le(t,e);return new _e({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){let t=Pi.SetComputeUnitPrice,r=le(t,{microLamports:BigInt(e.microLamports)});return new _e({keys:[],programId:this.programId,data:r})}};sa.programId=new re("ComputeBudget111111111111111111111111111111");var _f=64,wf=32,Ef=64,Rf=R.struct([R.u8("numSignatures"),R.u8("padding"),R.u16("signatureOffset"),R.u16("signatureInstructionIndex"),R.u16("publicKeyOffset"),R.u16("publicKeyInstructionIndex"),R.u16("messageDataOffset"),R.u16("messageDataSize"),R.u16("messageInstructionIndex")]),aa=class n{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:t,message:r,signature:i,instructionIndex:o}=e;ye(t.length===wf,`Public Key must be ${wf} bytes but received ${t.length} bytes`),ye(i.length===Ef,`Signature must be ${Ef} bytes but received ${i.length} bytes`);let s=Rf.span,f=s+t.length,l=f+i.length,m=1,E=ie.Buffer.alloc(l+r.length),S=o??65535;return Rf.encode({numSignatures:m,padding:0,signatureOffset:f,signatureInstructionIndex:S,publicKeyOffset:s,publicKeyInstructionIndex:S,messageDataOffset:l,messageDataSize:r.length,messageInstructionIndex:S},E),E.fill(t,s),E.fill(i,f),E.fill(r,l),new _e({keys:[],programId:n.programId,data:E})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:r,instructionIndex:i}=e;ye(t.length===_f,`Private key must be ${_f} bytes but received ${t.length} bytes`);try{let o=ia.fromSecretKey(t),s=o.publicKey.toBytes(),f=ua(r,o.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:f,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};aa.programId=new re("Ed25519SigVerify111111111111111111111111111");var E_=(n,e)=>{let t=Mi.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};Mi.utils.isValidPrivateKey;var R_=Mi.getPublicKey,bf=32,Hs=20,Sf=64,b_=11,Ys=R.struct([R.u8("numSignatures"),R.u16("signatureOffset"),R.u8("signatureInstructionIndex"),R.u16("ethAddressOffset"),R.u8("ethAddressInstructionIndex"),R.u16("messageDataOffset"),R.u16("messageDataSize"),R.u8("messageInstructionIndex"),R.blob(20,"ethAddress"),R.blob(64,"signature"),R.u8("recoveryId")]),ca=class n{constructor(){}static publicKeyToEthAddress(e){ye(e.length===Sf,`Public key must be ${Sf} bytes but received ${e.length} bytes`);try{return ie.Buffer.from(bo(fe(e))).slice(-Hs)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){let{publicKey:t,message:r,signature:i,recoveryId:o,instructionIndex:s}=e;return n.createInstructionWithEthAddress({ethAddress:n.publicKeyToEthAddress(t),message:r,signature:i,recoveryId:o,instructionIndex:s})}static createInstructionWithEthAddress(e){let{ethAddress:t,message:r,signature:i,recoveryId:o,instructionIndex:s=0}=e,f;typeof t=="string"?t.startsWith("0x")?f=ie.Buffer.from(t.substr(2),"hex"):f=ie.Buffer.from(t,"hex"):f=t,ye(f.length===Hs,`Address must be ${Hs} bytes but received ${f.length} bytes`);let l=1+b_,m=l,E=l+f.length,S=E+i.length+1,v=1,A=ie.Buffer.alloc(Ys.span+r.length);return Ys.encode({numSignatures:v,signatureOffset:E,signatureInstructionIndex:s,ethAddressOffset:m,ethAddressInstructionIndex:s,messageDataOffset:S,messageDataSize:r.length,messageInstructionIndex:s,signature:fe(i),ethAddress:fe(f),recoveryId:o},A),A.fill(fe(r),Ys.span),new _e({keys:[],programId:n.programId,data:A})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:r,instructionIndex:i}=e;ye(t.length===bf,`Private key must be ${bf} bytes but received ${t.length} bytes`);try{let o=fe(t),s=R_(o,!1).slice(1),f=ie.Buffer.from(bo(fe(r))),[l,m]=E_(f,o);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:l,recoveryId:m,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};ca.programId=new re("KeccakSecp256k11111111111111111111111111111");var Kf,S_=new re("StakeConfig11111111111111111111111111111111");var Fn=class{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}};Kf=Fn;Fn.default=new Kf(0,0,re.default);var Rr=Object.freeze({Initialize:{index:0,layout:R.struct([R.u32("instruction"),Dg(),Fg()])},Authorize:{index:1,layout:R.struct([R.u32("instruction"),ue("newAuthorized"),R.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:R.struct([R.u32("instruction")])},Split:{index:3,layout:R.struct([R.u32("instruction"),R.ns64("lamports")])},Withdraw:{index:4,layout:R.struct([R.u32("instruction"),R.ns64("lamports")])},Deactivate:{index:5,layout:R.struct([R.u32("instruction")])},Merge:{index:7,layout:R.struct([R.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:R.struct([R.u32("instruction"),ue("newAuthorized"),R.u32("stakeAuthorizationType"),fn("authoritySeed"),ue("authorityOwner")])}}),$1=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),Yi=class{constructor(){}static initialize(e){let{stakePubkey:t,authorized:r,lockup:i}=e,o=i||Fn.default,s=Rr.Initialize,f=le(s,{authorized:{staker:fe(r.staker.toBuffer()),withdrawer:fe(r.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:fe(o.custodian.toBuffer())}}),l={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Vi,isSigner:!1,isWritable:!1}],programId:this.programId,data:f};return new _e(l)}static createAccountWithSeed(e){let t=new Ae;t.add(Vt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:r,authorized:i,lockup:o}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:o}))}static createAccount(e){let t=new Ae;t.add(Vt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:r,authorized:i,lockup:o}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:o}))}static delegate(e){let{stakePubkey:t,authorizedPubkey:r,votePubkey:i}=e,o=Rr.Delegate,s=le(o);return new Ae().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:sr,isSigner:!1,isWritable:!1},{pubkey:$s,isSigner:!1,isWritable:!1},{pubkey:S_,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){let{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:s}=e,f=Rr.Authorize,l=le(f,{newAuthorized:fe(i.toBuffer()),stakeAuthorizationType:o.index}),m=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:sr,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&m.push({pubkey:s,isSigner:!0,isWritable:!1}),new Ae().add({keys:m,programId:this.programId,data:l})}static authorizeWithSeed(e){let{stakePubkey:t,authorityBase:r,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:s,stakeAuthorizationType:f,custodianPubkey:l}=e,m=Rr.AuthorizeWithSeed,E=le(m,{newAuthorized:fe(s.toBuffer()),stakeAuthorizationType:f.index,authoritySeed:i,authorityOwner:fe(o.toBuffer())}),S=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:sr,isSigner:!1,isWritable:!1}];return l&&S.push({pubkey:l,isSigner:!0,isWritable:!1}),new Ae().add({keys:S,programId:this.programId,data:E})}static splitInstruction(e){let{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:i,lamports:o}=e,s=Rr.Split,f=le(s,{lamports:o});return new _e({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:f})}static split(e,t){let r=new Ae;return r.add(Vt.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){let{stakePubkey:r,authorizedPubkey:i,splitStakePubkey:o,basePubkey:s,seed:f,lamports:l}=e,m=new Ae;return m.add(Vt.allocate({accountPubkey:o,basePubkey:s,seed:f,space:this.space,programId:this.programId})),t&&t>0&&m.add(Vt.transfer({fromPubkey:e.authorizedPubkey,toPubkey:o,lamports:t})),m.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:i,splitStakePubkey:o,lamports:l}))}static merge(e){let{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:i}=e,o=Rr.Merge,s=le(o);return new Ae().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:sr,isSigner:!1,isWritable:!1},{pubkey:$s,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){let{stakePubkey:t,authorizedPubkey:r,toPubkey:i,lamports:o,custodianPubkey:s}=e,f=Rr.Withdraw,l=le(f,{lamports:o}),m=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:sr,isSigner:!1,isWritable:!1},{pubkey:$s,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&m.push({pubkey:s,isSigner:!0,isWritable:!1}),new Ae().add({keys:m,programId:this.programId,data:l})}static deactivate(e){let{stakePubkey:t,authorizedPubkey:r}=e,i=Rr.Deactivate,o=le(i);return new Ae().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:sr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}};Yi.programId=new re("Stake11111111111111111111111111111111111111");Yi.space=200;var Pn=Object.freeze({InitializeAccount:{index:0,layout:R.struct([R.u32("instruction"),zg()])},Authorize:{index:1,layout:R.struct([R.u32("instruction"),ue("newAuthorized"),R.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:R.struct([R.u32("instruction"),R.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:R.struct([R.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:R.struct([R.u32("instruction"),Kg()])}}),q1=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),ji=class n{constructor(){}static initializeAccount(e){let{votePubkey:t,nodePubkey:r,voteInit:i}=e,o=Pn.InitializeAccount,s=le(o,{voteInit:{nodePubkey:fe(i.nodePubkey.toBuffer()),authorizedVoter:fe(i.authorizedVoter.toBuffer()),authorizedWithdrawer:fe(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),f={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Vi,isSigner:!1,isWritable:!1},{pubkey:sr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new _e(f)}static createAccount(e){let t=new Ae;return t.add(Vt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:o}=e,s=Pn.Authorize,f=le(s,{newAuthorized:fe(i.toBuffer()),voteAuthorizationType:o.index}),l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:sr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Ae().add({keys:l,programId:this.programId,data:f})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:s,votePubkey:f}=e,l=Pn.AuthorizeWithSeed,m=le(l,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:fe(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:fe(o.toBuffer()),voteAuthorizationType:s.index}}),E=[{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:sr,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Ae().add({keys:E,programId:this.programId,data:m})}static withdraw(e){let{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:o}=e,s=Pn.Withdraw,f=le(s,{lamports:i}),l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Ae().add({keys:l,programId:this.programId,data:f})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return n.withdraw(e)}static updateValidatorIdentity(e){let{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:i}=e,o=Pn.UpdateValidatorIdentity,s=le(o),f=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Ae().add({keys:f,programId:this.programId,data:s})}};ji.programId=new re("Vote111111111111111111111111111111111111111");ji.space=3762;var V1=new re("Va1idator1nfo111111111111111111111111111111"),W1=C({name:z(),website:Q(z()),details:Q(z()),iconUrl:Q(z()),keybaseUsername:Q(z())});var G1=new re("Vote111111111111111111111111111111111111111"),H1=R.struct([ue("nodePubkey"),ue("authorizedWithdrawer"),R.u8("commission"),R.nu64(),R.seq(R.struct([R.nu64("slot"),R.u32("confirmationCount")]),R.offset(R.u32(),-8),"votes"),R.u8("rootSlotValid"),R.nu64("rootSlot"),R.nu64(),R.seq(R.struct([R.nu64("epoch"),ue("authorizedVoter")]),R.offset(R.u32(),-8),"authorizedVoters"),R.struct([R.seq(R.struct([ue("authorizedPubkey"),R.nu64("epochOfLastAuthorizedSwitch"),R.nu64("targetEpoch")]),32,"buf"),R.nu64("idx"),R.u8("isEmpty")],"priorVoters"),R.nu64(),R.seq(R.struct([R.nu64("epoch"),R.nu64("credits"),R.nu64("prevCredits")]),R.offset(R.u32(),-8),"epochCredits"),R.struct([R.nu64("slot"),R.nu64("timestamp")],"lastTimestamp")]);var Y1=1e9;var Q1={UNIVERSAL_PROVIDER_RELAY_URL:"wss://relay.walletconnect.org",HASH_PREFIX:"SPL Name Service",ROOT_DOMAIN_ACCOUNT:new re("58PwtjSDuFHuUkYjH9BYnnQKHfwo9reZhC2zMJv9JPkx"),NAME_PROGRAM_ID:new re("namesLPneVptA9Z5rqUDD9tMTWEJwofgaYwp8cawRkX"),REVERSE_LOOKUP_CLASS:new re("33m47vH6Eav6jr5Ry86XjhRft2jRBLDnDgPSHoquXi2Z"),DEFAULT_CHAIN:{id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",chainNamespace:wo.CHAIN.SOLANA,nativeCurrency:{name:"Solana",decimals:9,symbol:"SOL"},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},rpcUrls:{default:{http:[`${wo.BLOCKCHAIN_API_RPC_URL}/v1`]}}},CHAIN_IDS:{Mainnet:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",Devnet:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",Testnet:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",Deprecated_Mainnet:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ",Deprecated_Devnet:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"},LAMPORTS_PER_SOL:1e9},eE={UNIT_PRICE_MICRO_LAMPORTS:2e7,UNIT_LIMIT_TRANSFER_ONLY:3e5,UNIT_LIMIT_WITH_ATA_CREATION:4e5};export{ys as a,re as b,_e as c,Ae as d,cf as e,Wi as f,Vt as g,mf as h,sa as i,Y1 as j,Q1 as k,eE as l};
