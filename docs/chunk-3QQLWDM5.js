import{a as r}from"./chunk-CKP3SGE2.js";import{a as l,f as d}from"./chunk-GNVVPZOR.js";var p=()=>l.get("experimentalCloseWatcher",!1)&&r!==void 0&&"CloseWatcher"in r,b=()=>{document.addEventListener("backbutton",()=>{})},E=()=>{let c=document,a=!1,s=()=>{if(a)return;let o=0,n=[],u=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(t,e){n.push({priority:t,handler:e,id:o++})}}});c.dispatchEvent(u);let f=async t=>{try{if(t?.handler){let e=t.handler(i);e!=null&&await e}}catch(e){d("[ion-app] - Exception in startHardwareBackButton:",e)}},i=()=>{if(n.length>0){let t={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};n.forEach(e=>{e.priority>=t.priority&&(t=e)}),a=!0,n=n.filter(e=>e.id!==t.id),f(t).then(()=>a=!1)}};i()};if(p()){let o,n=()=>{o?.destroy(),o=new r.CloseWatcher,o.onclose=()=>{s(),n()}};n()}else c.addEventListener("backbutton",s)},k=100,m=99;export{p as a,b,E as c,k as d,m as e};
